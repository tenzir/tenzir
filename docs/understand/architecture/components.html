<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-understand/architecture/components">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Components | VAST</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://vast.io/docs/understand/architecture/components"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Components | VAST"><meta data-rh="true" name="description" content="VAST uses the actor model to structure the application logic into"><meta data-rh="true" property="og:description" content="VAST uses the actor model to structure the application logic into"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://vast.io/docs/understand/architecture/components"><link data-rh="true" rel="alternate" href="https://vast.io/docs/understand/architecture/components" hreflang="en"><link data-rh="true" rel="alternate" href="https://vast.io/docs/understand/architecture/components" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://BVB58VRBDH-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="VAST RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="VAST Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="VAST" href="/opensearch.xml">




<script src="https://plausible.io/js/script.js" aysnc defer="defer" data-domain="vast.io"></script><link rel="stylesheet" href="/assets/css/styles.afb3ed85.css">
<link rel="preload" href="/assets/js/runtime~main.301b4fa5.js" as="script">
<link rel="preload" href="/assets/js/main.551a043f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#f1f2f2" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">Leave us <a target="_blank" rel="noopener noreferrer" href="https://github.com/tenzir/vast/stargazers">a GitHub star</a> ⭐️</div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/vast-logo.svg" alt="Visibility Across Space and Time" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/vast-logo.svg" alt="Visibility Across Space and Time" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">VAST</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/about">Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/changelog">Changelog</a><a class="navbar__item navbar__link" href="/roadmap">Roadmap</a></div><div class="navbar__items navbar__items--right"><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><a href="https://vast.io/discord" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-discord-link" aria-label="Discord"></a><a href="https://github.com/tenzir/vast" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/docs/about">About</a><button aria-label="Toggle the collapsible sidebar category &#x27;About&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/about/why-vast">Why VAST</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/about/target-audience">Target Audience</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/about/vision">Vision</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/about/use-cases">Use Cases</a><button aria-label="Toggle the collapsible sidebar category &#x27;Use Cases&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/try">Try</a><button aria-label="Toggle the collapsible sidebar category &#x27;Try&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/setup">Setup</a><button aria-label="Toggle the collapsible sidebar category &#x27;Setup&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/use">Use</a><button aria-label="Toggle the collapsible sidebar category &#x27;Use&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/understand">Understand</a><button aria-label="Toggle the collapsible sidebar category &#x27;Understand&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/understand/architecture/design-goals">Architecture</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/understand/architecture/design-goals">Design Goals</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/understand/architecture/actor-model">Actor Model</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/understand/architecture/components">Components</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/understand/architecture/plugins">Plugins</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/understand/architecture/cloud/aws">Cloud</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/understand/data-model/type-system">Data Model</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/understand/formats">Formats</a><button aria-label="Toggle the collapsible sidebar category &#x27;Formats&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/understand/query-language">Query Language</a><button aria-label="Toggle the collapsible sidebar category &#x27;Query Language&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/contribute">Contribute</a><button aria-label="Toggle the collapsible sidebar category &#x27;Contribute&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/develop">Develop</a><button aria-label="Toggle the collapsible sidebar category &#x27;Develop&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/understand"><span itemprop="name">Understand</span></a><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Architecture</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Components</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Components</h1><p>VAST uses the <a href="/docs/understand/architecture/actor-model">actor model</a> to structure the application logic into
individual components. Each component maps to an actor, which has a strongly
typed messaging interface that the compiler enforces. All actor components
execute concurrently, but control flow within a component is sequential. It&#x27;s
possible that a component uses other helper components internally to achieve
more concurrency.</p><p>In other words, a component is a microservice within the application. Most
components are multi-instance in that the runtime can spawn them multiple times
for horizontal scaling. Only a few components are singletons where at most one
instance can exist, e.g., because they guard access to an underlying resource.</p><p>The diagram below illustrates VAST&#x27;s key components in the dataflow between
them:</p><p><img loading="lazy" alt="Components" src="/assets/images/components.light-1fe3c88a90f783ccb9aee1b6a115d606.png#gh-light-mode-only" width="2730" height="2026" class="img_ev3q">
<img loading="lazy" alt="Components" src="/assets/images/components.dark-0e6ad7d4d296e5b9d1610f4a3f57ea62.png#gh-dark-mode-only" width="2730" height="2026" class="img_ev3q"></p><p>By convention, we use ALL-CAPS naming for actor components and represent them as
circles. Red circles are singletons and blue circles multi-instance actors. We
also did not show process boundaries in this diagram, as the actor model allows
us to <a href="/docs/understand/architecture/actor-model#flexible-distribution">draw them flexibly</a>, based on the
requirements of the deployment environment.</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Work in Progress</div><div class="admonitionContent_S0QG"><p>The implementation lags behind above sketched architecture in a few places. We
describe the desired state here to expose the dataflow dependecies more clearly.
For example, the query engine is not yet pluggable, LOADER and DUMPER are
integrated into SOURCE and SINK, dense indexes are not yet configurable, and
partition building currently still takes place within the query engine.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="singleton-components">Singleton Components<a href="#singleton-components" class="hash-link" aria-label="Direct link to Singleton Components" title="Direct link to Singleton Components">​</a></h2><p>Singleton components have a special restriction in that VAST can spawn at most
one instance of them. This restriction exists because such a component mutates
an underlying resource. To avoid data races in the presence of writes, wrapping
the resources behind an actor implicitly squentializes accesses, given that
actors process one message at a time.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="catalog">CATALOG<a href="#catalog" class="hash-link" aria-label="Direct link to CATALOG" title="Direct link to CATALOG">​</a></h3><p>The catalog is the central component that sits both paths, read and write. It
has the two key functions:</p><ol><li><strong>Partition Management</strong>: the catalog is the owner of <em>partitions</em>, each of
which consists of a concatenation of record batches encoded in a format
suitable for persistence, plus optional sparse and dense indexes. Other
components can add and remove partitions.</li><li><strong>Query Entry Point</strong>: user queries arrive at the catalog, which returns a
set of candidate partitions for each query by looking up partition metadata
and, if available, performing lookups in sub-linear index structures (such
as Bloom filters). The query result consists of a URI that points to the
partition and a small amount of partition metadata. The catalog also forwards
a query to all active partitions to include data in partitions that
are still under construction.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="scheduler">SCHEDULER<a href="#scheduler" class="hash-link" aria-label="Direct link to SCHEDULER" title="Direct link to SCHEDULER">​</a></h3><p>The scheduler is the central component in the query engine that drives query
execution. Scheduling concerns the loading and evicting of in-memory partitions
that can answer queries concurrently, with the goal to achieve minimum partition
thrashing.</p><p>Why does thrashing occur? Typical workloads in security analytics (especially
when executing security content) exhibit a high rate of point queries. This
results in a large overlap of relevant partitions among a given set of queries.
In the most naive case of serial query execution, VAST would process all
partitions sequentially, i.e., loading one from disk, run the query, evict it
again. If we have a total of P partitions and Q queries waiting in line to
be executed, we would perform P ⨉ Q partition load and evict operations. In
practice, each query only needs to access a subset of partitions. The catalog is
the component that determines the candidate set for a given query. For an
increasing number of queries, the overlap of partitions turns out to be large.
This is where scheduler benefit kicks in: by sorting the to-be-processed
partitions by the number of queries outstanding queries that access them, we can
create optimal I/O access patterns.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="multi-instance-components">Multi-instance Components<a href="#multi-instance-components" class="hash-link" aria-label="Direct link to Multi-instance Components" title="Direct link to Multi-instance Components">​</a></h2><p>Multi-instance components exist at various place in the path of the data. They
often operate stateless and implement pure (side-effect-free) functions. In case
they own state, there is no dependency to other state of the same instance. For
example, a component may operate on a single file, but the whole system operates
on many distributed files, each of which represented by a single instance.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="loader">LOADER<a href="#loader" class="hash-link" aria-label="Direct link to LOADER" title="Direct link to LOADER">​</a></h3><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Not Yet Implemented</div><div class="admonitionContent_S0QG"><p>This component is not yet implemented. Until then, the <a href="#SOURCE">SOURCE</a>
performs both I/O and subsequent input parsing.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="source">SOURCE<a href="#source" class="hash-link" aria-label="Direct link to SOURCE" title="Direct link to SOURCE">​</a></h3><p>The source transforms a stream of framed bytes into Arrow record batches, and
then relays them to an active partition. A source actor wraps a pluggable
<em>reader</em> for a given input format, e.g., JSON, CSV, or PCAP.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="partition">PARTITION<a href="#partition" class="hash-link" aria-label="Direct link to PARTITION" title="Direct link to PARTITION">​</a></h3><p>There two types of partitions, <em>active</em> and <em>passive</em>, that share the same actor
interface. The difference is that active partitions are mutable and in the
process of being built, whereas passive partitions are immutable and only
respond to query operations.</p><p>The active partition takes as input a sequence of Arrow record batches until it
is &quot;full.&quot; There exists one partition instance per schema, so the stream of
record batches gets demultiplexed over a set of actors. Each active partition
keeps writing record batches into its store until either a timeout fires or the
store reaches a configured size. The active partition then hands the ownership
of the resulting partition the catalog and starts over with a new partition.</p><p>In addition to translating the in-memory record batch representation into a
persistent format, the active partition also builds indexes to accelerate
queries.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="query">QUERY<a href="#query" class="hash-link" aria-label="Direct link to QUERY" title="Direct link to QUERY">​</a></h3><p>Every query a user submits has a corresponding query actor that tracks its
execution. The interface of the query actor allows for extracting results in a
pull-based fashion, e.g., users can ask &quot;give me 100 more results&quot;.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sink">SINK<a href="#sink" class="hash-link" aria-label="Direct link to SINK" title="Direct link to SINK">​</a></h3><p>The sink transforms a stream of Arrow record batches into a sequence of bytes
using a pluggable <em>writer</em> for a given output format, e.g., JSON, CSV, or PCAP.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dumper">DUMPER<a href="#dumper" class="hash-link" aria-label="Direct link to DUMPER" title="Direct link to DUMPER">​</a></h3><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Not Yet Implemented</div><div class="admonitionContent_S0QG"><p>This component is not yet implemented. Until then, the <a href="#SINK">SINK</a>
performs both output formatting and subsequent I/O.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="component-interaction">Component Interaction<a href="#component-interaction" class="hash-link" aria-label="Direct link to Component Interaction" title="Direct link to Component Interaction">​</a></h2><p>This section provides examples of how the different compentents interact.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ingestion">Ingestion<a href="#ingestion" class="hash-link" aria-label="Direct link to Ingestion" title="Direct link to Ingestion">​</a></h3><p>Sending data to VAST (aka <em>ingesting</em>) involves spinning up a VAST client
that parses and ships the data to a <a href="/docs/use/run">VAST server</a>:</p><p><img loading="lazy" alt="Ingest process" src="/assets/images/ingest.light-a92e7149cce2dd14830f50bef4beb3d6.png#gh-light-mode-only" width="2001" height="720" class="img_ev3q">
<img loading="lazy" alt="Ingest process" src="/assets/images/ingest.dark-43f5333762fb93a4ed63a544d2ad0c3d.png#gh-dark-mode-only" width="2001" height="720" class="img_ev3q"></p><p>VAST first acquires data through a <em>carrier</em> that represents the data transport
medium. This typically involves I/O and has the effect of slicing the data into
chunks of bytes. Thereafter, the <em>format</em> determines how to parse the bytes into
structured events. At the server, VAST (1) creates indexes for accelerating
querying, and (2) creates a <em>store</em> instance by transforming the in-memory Arrow
representation into an on-disk format, e.g., <a href="https://arrow.apache.org/docs/python/feather.html" target="_blank" rel="noopener noreferrer">Feather</a> or
<a href="https://parquet.apache.org/" target="_blank" rel="noopener noreferrer">Parquet</a>.</p><p>Loading and parsing take place in a separate VAST client to facilitate
horizontal scaling. The <code>import</code> command creates a client for precisly this
task.</p><p>At the server, there exists one partition builder per schema. After a
partition builder has reached a maximum number of events or reached a timeout,
it sends the partition to the catalog to register it. Our <a href="/docs/setup/tune#batching-table-slices">tuning
guide</a> has more details on how to set
these parameters.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Lakehouse Architecture</div><div class="admonitionContent_S0QG"><p>VAST uses open standards for data in motion (<a href="https://arrow.apache.org" target="_blank" rel="noopener noreferrer">Arrow</a>)
and data at rest (<a href="https://arrow.apache.org/docs/python/feather.html" target="_blank" rel="noopener noreferrer">Feather</a> &amp; <a href="https://parquet.apache.org/" target="_blank" rel="noopener noreferrer">Parquet</a>). You only ETL data
once to a destination of your choice. In that sense, VAST resembles a <a href="http://www.cidrdb.org/cidr2021/papers/cidr2021_paper17.pdf" target="_blank" rel="noopener noreferrer">lakehouse
architecture</a>. Think of the above pipeline as a chain of
independently operating microservices, each of which can be scaled
independently. The <a href="/docs/understand/architecture/actor-model">actor model</a> architecture of VAST enables this
naturally.</p></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/tenzir/vast/tree/master/web/docs/understand/architecture/components.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/understand/architecture/actor-model"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Actor Model</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/understand/architecture/plugins"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Plugins</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#singleton-components" class="table-of-contents__link toc-highlight">Singleton Components</a><ul><li><a href="#catalog" class="table-of-contents__link toc-highlight">CATALOG</a></li><li><a href="#scheduler" class="table-of-contents__link toc-highlight">SCHEDULER</a></li></ul></li><li><a href="#multi-instance-components" class="table-of-contents__link toc-highlight">Multi-instance Components</a><ul><li><a href="#loader" class="table-of-contents__link toc-highlight">LOADER</a></li><li><a href="#source" class="table-of-contents__link toc-highlight">SOURCE</a></li><li><a href="#partition" class="table-of-contents__link toc-highlight">PARTITION</a></li><li><a href="#query" class="table-of-contents__link toc-highlight">QUERY</a></li><li><a href="#sink" class="table-of-contents__link toc-highlight">SINK</a></li><li><a href="#dumper" class="table-of-contents__link toc-highlight">DUMPER</a></li></ul></li><li><a href="#component-interaction" class="table-of-contents__link toc-highlight">Component Interaction</a><ul><li><a href="#ingestion" class="table-of-contents__link toc-highlight">Ingestion</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/about">About</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/setup">Setup</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/use">Use</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/understand">Understand</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/contribute">Contribute</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/develop">Develop</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/discord">Discord</a></li><li class="footer__item"><a href="https://github.com/tenzir/vast" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/tenzir_company" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/tenzir" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/newsletter">Newsletter</a></li></ul></div><div class="col footer__col"><div class="footer__title">VAST</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/changelog">Changelog</a></li><li class="footer__item"><a class="footer__link-item" href="/roadmap">Roadmap</a></li><li class="footer__item"><a class="footer__link-item" href="/api">API</a></li><li class="footer__item"><a class="footer__link-item" href="/privacy-statement">Privacy Statement</a></li></ul></div><div class="col footer__col"><div class="footer__title">Tenzir</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://tenzir.com/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://tenzir.com/request-demo" target="_blank" rel="noopener noreferrer" class="footer__link-item">Request Demo<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://tenzir.com/contact-us" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact Us<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://tenzir.com/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Tenzir GmbH.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.301b4fa5.js"></script>
<script src="/assets/js/main.551a043f.js"></script>
</body>
</html>