"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[78232],{15680:(e,a,t)=>{t.d(a,{xA:()=>d,yg:()=>m});var n=t(96540);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function o(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function i(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?o(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function l(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var p=n.createContext({}),s=function(e){var a=n.useContext(p),t=a;return e&&(t="function"==typeof e?e(a):i(i({},a),e)),t},d=function(e){var a=s(e.components);return n.createElement(p.Provider,{value:a},e.children)},c="mdxType",y={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},g=n.forwardRef((function(e,a){var t=e.components,r=e.mdxType,o=e.originalType,p=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),c=s(t),g=r,m=c["".concat(p,".").concat(g)]||c[g]||y[g]||o;return t?n.createElement(m,i(i({ref:a},d),{},{components:t})):n.createElement(m,i({ref:a},d))}));function m(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var o=t.length,i=new Array(o);i[0]=g;var l={};for(var p in a)hasOwnProperty.call(a,p)&&(l[p]=a[p]);l.originalType=e,l[c]="string"==typeof e?e:r,i[1]=l;for(var s=2;s<o;s++)i[s]=t[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,t)}g.displayName="MDXCreateElement"},88315:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>f,contentTitle:()=>u,default:()=>v,frontMatter:()=>m,metadata:()=>h,toc:()=>b});var n=t(15680),r=Object.defineProperty,o=Object.defineProperties,i=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,d=(e,a,t)=>a in e?r(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,c=(e,a)=>{for(var t in a||(a={}))p.call(a,t)&&d(e,t,a[t]);if(l)for(var t of l(a))s.call(a,t)&&d(e,t,a[t]);return e},y=(e,a)=>o(e,i(a)),g=(e,a)=>{var t={};for(var n in e)p.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&l)for(var n of l(e))a.indexOf(n)<0&&s.call(e,n)&&(t[n]=e[n]);return t};const m={sidebar_position:5},u="Documentation",h={unversionedId:"contribution/documentation",id:"version-v4.19/contribution/documentation",title:"Documentation",description:"The Tenzir documentation resides inside [our main GitHub",source:"@site/versioned_docs/version-v4.19/contribution/documentation.md",sourceDirName:"contribution",slug:"/contribution/documentation",permalink:"/v4.19/contribution/documentation",draft:!1,editUrl:"https://github.com/tenzir/tenzir/tree/main/web/versioned_docs/version-v4.19/contribution/documentation.md",tags:[],version:"v4.19",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"docsSidebar",previous:{title:"Changelog",permalink:"/v4.19/contribution/changelog"},next:{title:"Request for Comments (RFC)",permalink:"/v4.19/contribution/rfc"}},f={},b=[{value:"Build and view locally",id:"build-and-view-locally",level:2},{value:"Write content",id:"write-content",level:2},{value:"Edit diagrams",id:"edit-diagrams",level:2},{value:"Cater to dark mode",id:"cater-to-dark-mode",level:2},{value:"Scale images",id:"scale-images",level:2}],N={toc:b},w="wrapper";function v(e){var a=e,{components:t}=a,r=g(a,["components"]);return(0,n.yg)(w,y(c(c({},N),r),{components:t,mdxType:"MDXLayout"}),(0,n.yg)("h1",c({},{id:"documentation"}),"Documentation"),(0,n.yg)("p",null,"The Tenzir documentation resides inside ",(0,n.yg)("a",c({parentName:"p"},{href:"https://github.com/tenzir/tenzir"}),"our main GitHub\nrepository")," in\n",(0,n.yg)("a",c({parentName:"p"},{href:"https://github.com/tenzir/tenzir/tree/main/web/docs"}),(0,n.yg)("inlineCode",{parentName:"a"},"/web/docs")),".\nWe use ",(0,n.yg)("a",c({parentName:"p"},{href:"https://docusaurus.io/"}),"Docusaurus")," as website framework."),(0,n.yg)("h2",c({},{id:"build-and-view-locally"}),"Build and view locally"),(0,n.yg)("p",null,"To view the entire site (including the documentation) locally,\nchange to the ",(0,n.yg)("a",c({parentName:"p"},{href:"https://github.com/tenzir/tenzir/tree/main/web/"}),(0,n.yg)("inlineCode",{parentName:"a"},"/web")),"\ndirectory and invoke ",(0,n.yg)("a",c({parentName:"p"},{href:"https://yarnpkg.com/"}),(0,n.yg)("inlineCode",{parentName:"a"},"yarn")),", or to be on the safe side,\n",(0,n.yg)("inlineCode",{parentName:"p"},"yarn install --frozen-lockfile")," to avoid pollution from global dependencies.\nThen build and serve the site via:"),(0,n.yg)("figure",c({},{"data-rehype-pretty-code-figure":""}),(0,n.yg)("pre",c({parentName:"figure"},{tabIndex:0,"data-language":"bash","data-theme":"github-dark-default"}),(0,n.yg)("code",c({parentName:"pre"},{"data-language":"bash","data-theme":"github-dark-default",style:{display:"grid"}}),(0,n.yg)("span",c({parentName:"code"},{"data-line":""}),(0,n.yg)("span",c({parentName:"span"},{style:{color:"#FFA657"}}),"yarn"),(0,n.yg)("span",c({parentName:"span"},{style:{color:"#A5D6FF"}})," start"))))),(0,n.yg)("p",null,"Browse to ",(0,n.yg)("a",c({parentName:"p"},{href:"http://localhost:3000/"}),"http://localhost:3000/")," to view the site. Docusaurus should spawn\nyour default browser automatically upon invoking ",(0,n.yg)("inlineCode",{parentName:"p"},"yarn start"),"."),(0,n.yg)("h2",c({},{id:"write-content"}),"Write content"),(0,n.yg)("p",null,"Docusaurus uses an ",(0,n.yg)("a",c({parentName:"p"},{href:"https://docusaurus.io/docs/markdown-features"}),"enhanced flavor of\nMarkdown")," that allows for\nembedding richer content elements, such as:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",c({parentName:"li"},{href:"https://docusaurus.io/docs/markdown-features/admonitions"}),"Callouts/admonitions"),"\nfor block notes, infos, and warnings"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",c({parentName:"li"},{href:"https://docusaurus.io/docs/markdown-features/react"}),"React JSX components")," via\n",(0,n.yg)("a",c({parentName:"li"},{href:"https://mdxjs.com/"}),"MDX"),", specifically via the built-in UI component library\n",(0,n.yg)("a",c({parentName:"li"},{href:"https://infima.dev/"}),"Infima")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",c({parentName:"li"},{href:"https://docusaurus.io/docs/markdown-features/math-equations"}),"Math equations"),"\nvia ",(0,n.yg)("a",c({parentName:"li"},{href:"https://katex.org/"}),"KaTeX"))),(0,n.yg)("p",null,"We encourage making judicious use of these extras for an optimal reading\nexperience."),(0,n.yg)("h2",c({},{id:"edit-diagrams"}),"Edit diagrams"),(0,n.yg)("p",null,"We use ",(0,n.yg)("a",c({parentName:"p"},{href:"https://excalidraw.com"}),"Excalidraw")," as primary tool to create sketches\nof architectural diagrams. It is open source and has a neat collaboration\nfeature: the ability to ",(0,n.yg)("em",{parentName:"p"},"embed the source code")," of the sketch into the exported\nPNG or SVG images."),(0,n.yg)("p",null,"Our editing workflow looks as follows:"),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},"Open ",(0,n.yg)("a",c({parentName:"li"},{href:"https://excalidraw.com"}),"https://excalidraw.com")," and click ",(0,n.yg)("em",{parentName:"li"},"Upload")," in the top left"),(0,n.yg)("li",{parentName:"ol"},"Select the SVG you would like to edit"),(0,n.yg)("li",{parentName:"ol"},"Make your edits in Excalidraw"),(0,n.yg)("li",{parentName:"ol"},'Uncheck the box "Background" to ensure a transparent background.'),(0,n.yg)("li",{parentName:"ol"},"Re-export the drawing as ",(0,n.yg)("strong",{parentName:"li"},"SVG")," and ",(0,n.yg)("strong",{parentName:"li"},'check the box "Embed scene"'))),(0,n.yg)("p",null,'The last part is crucial: If you don\'t check "Embed scene" we will no longer be\nable to recover the original diagram source.'),(0,n.yg)("admonition",c({},{title:"Filename Convention",type:"tip"}),(0,n.yg)("p",{parentName:"admonition"},"By convention, we export all SVGs with embedded Excalidraw source with the\nfilename extension ",(0,n.yg)("inlineCode",{parentName:"p"},"*.excalidraw.svg"),".")),(0,n.yg)("h2",c({},{id:"cater-to-dark-mode"}),"Cater to dark mode"),(0,n.yg)("p",null,"The Excalidraw workflow above already respects dark mode. You only need to\ninclude the generated SVG as follows:"),(0,n.yg)("figure",c({},{"data-rehype-pretty-code-figure":""}),(0,n.yg)("pre",c({parentName:"figure"},{tabIndex:0,"data-language":"markdown","data-theme":"github-dark-default"}),(0,n.yg)("code",c({parentName:"pre"},{"data-language":"markdown","data-theme":"github-dark-default",style:{display:"grid"}}),(0,n.yg)("span",c({parentName:"code"},{"data-line":""}),(0,n.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3"}}),"!["),(0,n.yg)("span",c({parentName:"span"},{style:{color:"#A5D6FF"}}),"Image Description"),(0,n.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3"}}),"]("),(0,n.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3",textDecoration:"underline"}}),"/path/to/diagram.excalidraw.svg"),(0,n.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3"}}),")"))))),(0,n.yg)("p",null,"For non-Excalidraw images, you must provide two versions, one for light and one\nfor dark mode. We use the same CSS that GitHub supports to render them\nconditionally, i.e., ",(0,n.yg)("inlineCode",{parentName:"p"},"#gh-dark-mode-only")," and ",(0,n.yg)("inlineCode",{parentName:"p"},"#gh-light-mode-only"),"."),(0,n.yg)("p",null,"Here's an example to include one image that exists in two variants:"),(0,n.yg)("figure",c({},{"data-rehype-pretty-code-figure":""}),(0,n.yg)("pre",c({parentName:"figure"},{tabIndex:0,"data-language":"markdown","data-theme":"github-dark-default"}),(0,n.yg)("code",c({parentName:"pre"},{"data-language":"markdown","data-theme":"github-dark-default",style:{display:"grid"}}),(0,n.yg)("span",c({parentName:"code"},{"data-line":""}),(0,n.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3"}}),"!["),(0,n.yg)("span",c({parentName:"span"},{style:{color:"#A5D6FF"}}),"Image Description"),(0,n.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3"}}),"]("),(0,n.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3",textDecoration:"underline"}}),"/path/to/dark.png#gh-dark-mode-only"),(0,n.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3"}}),")")),"\n",(0,n.yg)("span",c({parentName:"code"},{"data-line":""}),(0,n.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3"}}),"!["),(0,n.yg)("span",c({parentName:"span"},{style:{color:"#A5D6FF"}}),"Image Description"),(0,n.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3"}}),"]("),(0,n.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3",textDecoration:"underline"}}),"/path/to/light.png#gh-light-mode-only"),(0,n.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3"}}),")"))))),(0,n.yg)("h2",c({},{id:"scale-images"}),"Scale images"),(0,n.yg)("p",null,"We're making use of the alt text in Markdown images in combination with some\nCSS3 features to specify a maximum width:"),(0,n.yg)("figure",c({},{"data-rehype-pretty-code-figure":""}),(0,n.yg)("pre",c({parentName:"figure"},{tabIndex:0,"data-language":"markdown","data-theme":"github-dark-default"}),(0,n.yg)("code",c({parentName:"pre"},{"data-language":"markdown","data-theme":"github-dark-default",style:{display:"grid"}}),(0,n.yg)("span",c({parentName:"code"},{"data-line":""}),(0,n.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3"}}),"!["),(0,n.yg)("span",c({parentName:"span"},{style:{color:"#A5D6FF"}}),"alt #width500"),(0,n.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3"}}),"]("),(0,n.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3",textDecoration:"underline"}}),"/path/to/img"),(0,n.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3"}}),")"))))),(0,n.yg)("p",null,"The suffix ",(0,n.yg)("inlineCode",{parentName:"p"},"#width500")," gets picked up by the following CSS:"),(0,n.yg)("figure",c({},{"data-rehype-pretty-code-figure":""}),(0,n.yg)("pre",c({parentName:"figure"},{tabIndex:0,"data-language":"css","data-theme":"github-dark-default"}),(0,n.yg)("code",c({parentName:"pre"},{"data-language":"css","data-theme":"github-dark-default",style:{display:"grid"}}),(0,n.yg)("span",c({parentName:"code"},{"data-line":""}),(0,n.yg)("span",c({parentName:"span"},{style:{color:"#7EE787"}}),"img"),(0,n.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3"}}),"["),(0,n.yg)("span",c({parentName:"span"},{style:{color:"#79C0FF"}}),"alt"),(0,n.yg)("span",c({parentName:"span"},{style:{color:"#FF7B72"}}),"$="),(0,n.yg)("span",c({parentName:"span"},{style:{color:"#A5D6FF"}}),'"#width500"'),(0,n.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3"}}),"] {")),"\n",(0,n.yg)("span",c({parentName:"code"},{"data-line":""}),(0,n.yg)("span",c({parentName:"span"},{style:{color:"#79C0FF"}}),"  max-width"),(0,n.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3"}}),": "),(0,n.yg)("span",c({parentName:"span"},{style:{color:"#79C0FF"}}),"500"),(0,n.yg)("span",c({parentName:"span"},{style:{color:"#FF7B72"}}),"px"),(0,n.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3"}}),";")),"\n",(0,n.yg)("span",c({parentName:"code"},{"data-line":""}),(0,n.yg)("span",c({parentName:"span"},{style:{color:"#79C0FF"}}),"  display"),(0,n.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3"}}),": "),(0,n.yg)("span",c({parentName:"span"},{style:{color:"#79C0FF"}}),"block"),(0,n.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3"}}),";")),"\n",(0,n.yg)("span",c({parentName:"code"},{"data-line":""}),(0,n.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3"}}),"}"))))),(0,n.yg)("p",null,"We currently support the following classes:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"#width300")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"#width400")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"#width500")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"#width600"))),(0,n.yg)("p",null,"This should hopefully cover the majority of use cases."))}v.isMDXComponent=!0}}]);