"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[42261],{15680:(e,a,n)=>{n.d(a,{xA:()=>d,yg:()=>g});var t=n(96540);function i(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function r(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function o(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?r(Object(n),!0).forEach((function(a){i(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function p(e,a){if(null==e)return{};var n,t,i=function(e,a){if(null==e)return{};var n,t,i={},r=Object.keys(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||(i[n]=e[n]);return i}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=t.createContext({}),l=function(e){var a=t.useContext(s),n=a;return e&&(n="function"==typeof e?e(a):o(o({},a),e)),n},d=function(e){var a=l(e.components);return t.createElement(s.Provider,{value:a},e.children)},c="mdxType",y={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},m=t.forwardRef((function(e,a){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,d=p(e,["components","mdxType","originalType","parentName"]),c=l(n),m=i,g=c["".concat(s,".").concat(m)]||c[m]||y[m]||r;return n?t.createElement(g,o(o({ref:a},d),{},{components:n})):t.createElement(g,o({ref:a},d))}));function g(e,a){var n=arguments,i=a&&a.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=m;var p={};for(var s in a)hasOwnProperty.call(a,s)&&(p[s]=a[s]);p.originalType=e,p[c]="string"==typeof e?e:i,o[1]=p;for(var l=2;l<r;l++)o[l]=n[l];return t.createElement.apply(null,o)}return t.createElement.apply(null,n)}m.displayName="MDXCreateElement"},17790:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>N,contentTitle:()=>u,default:()=>f,frontMatter:()=>g,metadata:()=>h,toc:()=>I});var t=n(15680),i=Object.defineProperty,r=Object.defineProperties,o=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,d=(e,a,n)=>a in e?i(e,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[a]=n,c=(e,a)=>{for(var n in a||(a={}))s.call(a,n)&&d(e,n,a[n]);if(p)for(var n of p(a))l.call(a,n)&&d(e,n,a[n]);return e},y=(e,a)=>r(e,o(a)),m=(e,a)=>{var n={};for(var t in e)s.call(e,t)&&a.indexOf(t)<0&&(n[t]=e[t]);if(null!=e&&p)for(var t of p(e))a.indexOf(t)<0&&l.call(e,t)&&(n[t]=e[t]);return n};const g={},u="Platform CLI",h={unversionedId:"platform-cli",id:"platform-cli",title:"Platform CLI",description:"The Tenzir Platform CLI allows users to interact with the Tenzir Platform from the command-line",source:"@site/docs/platform-cli.md",sourceDirName:".",slug:"/platform-cli",permalink:"/next/platform-cli",draft:!1,editUrl:"https://github.com/tenzir/tenzir/tree/main/web/docs/platform-cli.md",tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"Python Library",permalink:"/next/python-library"},next:{title:"Glossary",permalink:"/next/glossary"}},N={},I=[{value:"Installation",id:"installation",level:2},{value:"Authentication",id:"authentication",level:2},{value:"Synopsis",id:"synopsis",level:3},{value:"Description",id:"description",level:3},{value:"<code>&lt;workspace_id&gt;</code>",id:"workspace_id",level:4},{value:"Manage Nodes",id:"manage-nodes",level:2},{value:"Synopsis",id:"synopsis-1",level:3},{value:"Description",id:"description-1",level:3},{value:"<code>&lt;node_id&gt;</code>",id:"node_id",level:4},{value:"<code>&lt;node_name&gt;</code>",id:"node_name",level:4},{value:"<code>&lt;container_image&gt;</code>",id:"container_image",level:4},{value:"Manage Secrets",id:"manage-secrets",level:2},{value:"Synopsis",id:"synopsis-2",level:3},{value:"Description",id:"description-2",level:3},{value:"<code>&lt;name&gt;</code>",id:"name",level:4},{value:"<code>&lt;secret_id&gt;</code>",id:"secret_id",level:4},{value:"<code>--file=&lt;file&gt;</code>",id:"--filefile",level:4},{value:"<code>--value=&lt;value&gt;</code>",id:"--valuevalue",level:4},{value:"<code>--env</code>",id:"--env",level:4},{value:"<code>--json</code>",id:"--json",level:4},{value:"Manage External Secret Stores",id:"manage-external-secret-stores",level:2},{value:"Synopsis",id:"synopsis-3",level:3},{value:"Description",id:"description-3",level:3},{value:"Manage Alerts",id:"manage-alerts",level:2},{value:"Synopsis",id:"synopsis-4",level:3},{value:"Description",id:"description-4",level:3},{value:"<code>&lt;node&gt;</code>",id:"node",level:4},{value:"<code>&lt;duration&gt;</code>",id:"duration",level:4},{value:"<code>&lt;webhook_url&gt;</code>",id:"webhook_url",level:4},{value:"<code>&lt;webhook_body&gt;</code>",id:"webhook_body",level:4},{value:"Example",id:"example",level:3},{value:"Manage Workspaces",id:"manage-workspaces",level:2},{value:"Synopsis",id:"synopsis-5",level:3},{value:"Description",id:"description-5",level:3},{value:"<code>&lt;owner_namespace&gt;</code>",id:"owner_namespace",level:4},{value:"<code>&lt;owner_id&gt;</code>",id:"owner_id",level:4},{value:"<code>--name &lt;workspace_name&gt;</code>",id:"--name-workspace_name",level:4},{value:"<code>&lt;workspace_id&gt;</code>",id:"workspace_id-1",level:4},{value:"Configure Access Rules",id:"configure-access-rules",level:2},{value:"Synopsis",id:"synopsis-6",level:3},{value:"Description",id:"description-6",level:3},{value:"Prepare Static Workspaces",id:"prepare-static-workspaces",level:2},{value:"Synopsis",id:"synopsis-7",level:3},{value:"Description",id:"description-7",level:3}],b={toc:I},w="wrapper";function f(e){var a=e,{components:n}=a,i=m(a,["components"]);return(0,t.yg)(w,y(c(c({},b),i),{components:n,mdxType:"MDXLayout"}),(0,t.yg)("h1",c({},{id:"platform-cli"}),"Platform CLI"),(0,t.yg)("p",null,"The ",(0,t.yg)("em",{parentName:"p"},"Tenzir Platform CLI")," allows users to interact with the ",(0,t.yg)("em",{parentName:"p"},"Tenzir Platform")," from the command-line\nto manage their workspaces and nodes."),(0,t.yg)("h2",c({},{id:"installation"}),"Installation"),(0,t.yg)("p",null,"Install the ",(0,t.yg)("a",c({parentName:"p"},{href:"https://pypi.org/project/tenzir-platform/"}),(0,t.yg)("inlineCode",{parentName:"a"},"tenzir-platform")),"\npackage from PyPI."),(0,t.yg)("figure",c({},{"data-rehype-pretty-code-figure":""}),(0,t.yg)("pre",c({parentName:"figure"},{tabIndex:0,"data-language":"bash","data-theme":"github-dark-default"}),(0,t.yg)("code",c({parentName:"pre"},{"data-language":"bash","data-theme":"github-dark-default",style:{display:"grid"}}),(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#FFA657"}}),"pip"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#A5D6FF"}})," install"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#A5D6FF"}})," tenzir-platform"))),(0,t.yg)("button",c({parentName:"pre"},{type:"button",data:"pip install tenzir-platform",title:"Copy code","aria-label":"Copy code",className:"rehype-pretty-copy","data-feedback-duration":"3000","data-name":"rehype-pretty-copy-button"}),(0,t.yg)("span",c({parentName:"button"},{className:"ready"})),(0,t.yg)("span",c({parentName:"button"},{className:"success"}))),(0,t.yg)("style",{parentName:"pre"},'\n    :root {\n      --copy-icon: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDM2IDM2Ij48cmVjdCB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjYmZjN2Q1IiBkPSJNMjkuNSA3aC0xOUExLjUgMS41IDAgMCAwIDkgOC41djI0YTEuNSAxLjUgMCAwIDAgMS41IDEuNWgxOWExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTI0QTEuNSAxLjUgMCAwIDAgMjkuNSA3TTI5IDMySDExVjloMThaIiBjbGFzcz0iY2xyLWktb3V0bGluZSBjbHItaS1vdXRsaW5lLXBhdGgtMSIvPjxwYXRoIGZpbGw9IiNiZmM3ZDUiIGQ9Ik0yNiAzLjVBMS41IDEuNSAwIDAgMCAyNC41IDJoLTE5QTEuNSAxLjUgMCAwIDAgNCAzLjV2MjRBMS41IDEuNSAwIDAgMCA1LjUgMjlINlY0aDIwWiIgY2xhc3M9ImNsci1pLW91dGxpbmUgY2xyLWktb3V0bGluZS1wYXRoLTIiLz48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDM2djM2SDB6Ii8+PC9zdmc+");\n      --success-icon: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cmVjdCB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjMDBkNjAwIiBkPSJNMjEgN0w5IDE5bC01LjUtNS41bDEuNDEtMS40MUw5IDE2LjE3TDE5LjU5IDUuNTl6Ii8+PC9zdmc+");\n    }\n\n    pre:has(code) {\n      position: relative;\n    }\n\n    button[data=\'<span>\'] {\n      width: 0;\n      height: 0;\n      display: none;\n      visibility: hidden;\n    }\n\n    pre button.rehype-pretty-copy {\n      top: 1px;\n      right: 1px;\n      padding: 0;\n      width: 24px;\n      height: 24px;\n      display: flex;\n      cursor: pointer;\n      margin-top: 8px;\n      margin-right: 8px;\n      position: absolute;\n      border-radius: 25%;\n      & span {\n        width: 100%;\n        aspect-ratio: 1 / 1;\n        background-repeat: no-repeat;\n      }\n      & .ready {\n        background-image: var(--copy-icon);\n      }\n      & .success {\n        display: none;\n        background-image: var(--success-icon);\n      }\n    }\n\n    &.rehype-pretty-copied { \n      & .success { \n        display: block;\n      } & .ready {\n        display: none;\n      }\n    }\n\n    pre button.rehype-pretty-copy.rehype-pretty-copied {\n      opacity: 1;\n      cursor: default;\n      & .ready { display: none; }\n      & .success { display: block; }\n    }\n\n      pre button.rehype-pretty-copy { opacity: 0; }\n      button[data-name="rehype-pretty-copy-button"]:hover {\n        opacity: 1;\n      }\n    '))),(0,t.yg)("h2",c({},{id:"authentication"}),"Authentication"),(0,t.yg)("h3",c({},{id:"synopsis"}),"Synopsis"),(0,t.yg)("figure",c({},{"data-rehype-pretty-code-figure":""}),(0,t.yg)("pre",c({parentName:"figure"},{tabIndex:0,"data-language":"text","data-theme":"github-dark-default"}),(0,t.yg)("code",c({parentName:"pre"},{"data-language":"text","data-theme":"github-dark-default",style:{display:"grid"}}),(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",{parentName:"span"},"tenzir-platform auth login")),"\n",(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",{parentName:"span"},"tenzir-platform workspace list")),"\n",(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",{parentName:"span"},"tenzir-platform workspace select <workspace_id>"))),(0,t.yg)("button",c({parentName:"pre"},{type:"button",data:"tenzir-platform auth login\ntenzir-platform workspace list\ntenzir-platform workspace select <workspace_id>",title:"Copy code","aria-label":"Copy code",className:"rehype-pretty-copy","data-feedback-duration":"3000","data-name":"rehype-pretty-copy-button"}),(0,t.yg)("span",c({parentName:"button"},{className:"ready"})),(0,t.yg)("span",c({parentName:"button"},{className:"success"}))),(0,t.yg)("style",{parentName:"pre"},'\n    :root {\n      --copy-icon: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDM2IDM2Ij48cmVjdCB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjYmZjN2Q1IiBkPSJNMjkuNSA3aC0xOUExLjUgMS41IDAgMCAwIDkgOC41djI0YTEuNSAxLjUgMCAwIDAgMS41IDEuNWgxOWExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTI0QTEuNSAxLjUgMCAwIDAgMjkuNSA3TTI5IDMySDExVjloMThaIiBjbGFzcz0iY2xyLWktb3V0bGluZSBjbHItaS1vdXRsaW5lLXBhdGgtMSIvPjxwYXRoIGZpbGw9IiNiZmM3ZDUiIGQ9Ik0yNiAzLjVBMS41IDEuNSAwIDAgMCAyNC41IDJoLTE5QTEuNSAxLjUgMCAwIDAgNCAzLjV2MjRBMS41IDEuNSAwIDAgMCA1LjUgMjlINlY0aDIwWiIgY2xhc3M9ImNsci1pLW91dGxpbmUgY2xyLWktb3V0bGluZS1wYXRoLTIiLz48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDM2djM2SDB6Ii8+PC9zdmc+");\n      --success-icon: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cmVjdCB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjMDBkNjAwIiBkPSJNMjEgN0w5IDE5bC01LjUtNS41bDEuNDEtMS40MUw5IDE2LjE3TDE5LjU5IDUuNTl6Ii8+PC9zdmc+");\n    }\n\n    pre:has(code) {\n      position: relative;\n    }\n\n    button[data=\'<span>\'] {\n      width: 0;\n      height: 0;\n      display: none;\n      visibility: hidden;\n    }\n\n    pre button.rehype-pretty-copy {\n      top: 1px;\n      right: 1px;\n      padding: 0;\n      width: 24px;\n      height: 24px;\n      display: flex;\n      cursor: pointer;\n      margin-top: 8px;\n      margin-right: 8px;\n      position: absolute;\n      border-radius: 25%;\n      & span {\n        width: 100%;\n        aspect-ratio: 1 / 1;\n        background-repeat: no-repeat;\n      }\n      & .ready {\n        background-image: var(--copy-icon);\n      }\n      & .success {\n        display: none;\n        background-image: var(--success-icon);\n      }\n    }\n\n    &.rehype-pretty-copied { \n      & .success { \n        display: block;\n      } & .ready {\n        display: none;\n      }\n    }\n\n    pre button.rehype-pretty-copy.rehype-pretty-copied {\n      opacity: 1;\n      cursor: default;\n      & .ready { display: none; }\n      & .success { display: block; }\n    }\n\n      pre button.rehype-pretty-copy { opacity: 0; }\n      button[data-name="rehype-pretty-copy-button"]:hover {\n        opacity: 1;\n      }\n    '))),(0,t.yg)("h3",c({},{id:"description"}),"Description"),(0,t.yg)("p",null,"The ",(0,t.yg)("inlineCode",{parentName:"p"},"tenzir-platform auth login")," command authenticates the current user."),(0,t.yg)("p",null,"The ",(0,t.yg)("inlineCode",{parentName:"p"},"tenzir-platform workspace list")," and ",(0,t.yg)("inlineCode",{parentName:"p"},"tenzir-platform workspace select"),"\ncommands show workspaces available to the authenticated user and select one,\nrespectively."),(0,t.yg)("h4",c({},{id:"workspace_id"}),(0,t.yg)("inlineCode",{parentName:"h4"},"<workspace_id>")),(0,t.yg)("p",null,"The unique ID of the workspace, as shown in ",(0,t.yg)("inlineCode",{parentName:"p"},"tenzir-platform workspace list"),"."),(0,t.yg)("h2",c({},{id:"manage-nodes"}),"Manage Nodes"),(0,t.yg)("h3",c({},{id:"synopsis-1"}),"Synopsis"),(0,t.yg)("figure",c({},{"data-rehype-pretty-code-figure":""}),(0,t.yg)("pre",c({parentName:"figure"},{tabIndex:0,"data-language":"text","data-theme":"github-dark-default"}),(0,t.yg)("code",c({parentName:"pre"},{"data-language":"text","data-theme":"github-dark-default",style:{display:"grid"}}),(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",{parentName:"span"},"tenzir-platform node list")),"\n",(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",{parentName:"span"},"tenzir-platform node ping <node_id>")),"\n",(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",{parentName:"span"},"tenzir-platform node create [--name <node_name>]")),"\n",(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",{parentName:"span"},"tenzir-platform node delete <node_id>")),"\n",(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",{parentName:"span"},"tenzir-platform node run [--name <node_name>] [--image <container_image>]"))),(0,t.yg)("button",c({parentName:"pre"},{type:"button",data:"tenzir-platform node list\ntenzir-platform node ping <node_id>\ntenzir-platform node create [--name <node_name>]\ntenzir-platform node delete <node_id>\ntenzir-platform node run [--name <node_name>] [--image <container_image>]",title:"Copy code","aria-label":"Copy code",className:"rehype-pretty-copy","data-feedback-duration":"3000","data-name":"rehype-pretty-copy-button"}),(0,t.yg)("span",c({parentName:"button"},{className:"ready"})),(0,t.yg)("span",c({parentName:"button"},{className:"success"}))),(0,t.yg)("style",{parentName:"pre"},'\n    :root {\n      --copy-icon: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDM2IDM2Ij48cmVjdCB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjYmZjN2Q1IiBkPSJNMjkuNSA3aC0xOUExLjUgMS41IDAgMCAwIDkgOC41djI0YTEuNSAxLjUgMCAwIDAgMS41IDEuNWgxOWExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTI0QTEuNSAxLjUgMCAwIDAgMjkuNSA3TTI5IDMySDExVjloMThaIiBjbGFzcz0iY2xyLWktb3V0bGluZSBjbHItaS1vdXRsaW5lLXBhdGgtMSIvPjxwYXRoIGZpbGw9IiNiZmM3ZDUiIGQ9Ik0yNiAzLjVBMS41IDEuNSAwIDAgMCAyNC41IDJoLTE5QTEuNSAxLjUgMCAwIDAgNCAzLjV2MjRBMS41IDEuNSAwIDAgMCA1LjUgMjlINlY0aDIwWiIgY2xhc3M9ImNsci1pLW91dGxpbmUgY2xyLWktb3V0bGluZS1wYXRoLTIiLz48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDM2djM2SDB6Ii8+PC9zdmc+");\n      --success-icon: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cmVjdCB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjMDBkNjAwIiBkPSJNMjEgN0w5IDE5bC01LjUtNS41bDEuNDEtMS40MUw5IDE2LjE3TDE5LjU5IDUuNTl6Ii8+PC9zdmc+");\n    }\n\n    pre:has(code) {\n      position: relative;\n    }\n\n    button[data=\'<span>\'] {\n      width: 0;\n      height: 0;\n      display: none;\n      visibility: hidden;\n    }\n\n    pre button.rehype-pretty-copy {\n      top: 1px;\n      right: 1px;\n      padding: 0;\n      width: 24px;\n      height: 24px;\n      display: flex;\n      cursor: pointer;\n      margin-top: 8px;\n      margin-right: 8px;\n      position: absolute;\n      border-radius: 25%;\n      & span {\n        width: 100%;\n        aspect-ratio: 1 / 1;\n        background-repeat: no-repeat;\n      }\n      & .ready {\n        background-image: var(--copy-icon);\n      }\n      & .success {\n        display: none;\n        background-image: var(--success-icon);\n      }\n    }\n\n    &.rehype-pretty-copied { \n      & .success { \n        display: block;\n      } & .ready {\n        display: none;\n      }\n    }\n\n    pre button.rehype-pretty-copy.rehype-pretty-copied {\n      opacity: 1;\n      cursor: default;\n      & .ready { display: none; }\n      & .success { display: block; }\n    }\n\n      pre button.rehype-pretty-copy { opacity: 0; }\n      button[data-name="rehype-pretty-copy-button"]:hover {\n        opacity: 1;\n      }\n    '))),(0,t.yg)("h3",c({},{id:"description-1"}),"Description"),(0,t.yg)("p",null,"The following commands interact with the selected workspace. See ",(0,t.yg)("a",c({parentName:"p"},{href:"#authentication"}),"Authentication"),"\nabove for how to select a workspace:"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("inlineCode",{parentName:"li"},"tenzir-platform node list")," lists all nodes in the selected workspace,\nincluding their ID, name, and connection status."),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("inlineCode",{parentName:"li"},"tenzir-platform node ping")," pings the specified node."),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("inlineCode",{parentName:"li"},"tenzir-platform node create")," registers a new node at the platform so that it\ncan be connected to the platform. Note that this neither starts a new node nor\nconfigures one, it just creates a new API key that a node can use to connect\nto the platform with."),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("inlineCode",{parentName:"li"},"tenzir-platform node delete")," removes a node from the platform. Note that this\ndoes not stop the node, it just removes it from the platform."),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("inlineCode",{parentName:"li"},"tenzir-platform node run")," creates and registers an ad-hoc node, and starts it\non the local host. Requires Docker Compose to be available.\nThe node is temporary and will be deleted when the ",(0,t.yg)("inlineCode",{parentName:"li"},"run")," command is stopped.")),(0,t.yg)("h4",c({},{id:"node_id"}),(0,t.yg)("inlineCode",{parentName:"h4"},"<node_id>")),(0,t.yg)("p",null,"The unique ID of the node, as shown in ",(0,t.yg)("inlineCode",{parentName:"p"},"tenzir-platform node list"),"."),(0,t.yg)("h4",c({},{id:"node_name"}),(0,t.yg)("inlineCode",{parentName:"h4"},"<node_name>")),(0,t.yg)("p",null,"The name of the node as shown in the app."),(0,t.yg)("h4",c({},{id:"container_image"}),(0,t.yg)("inlineCode",{parentName:"h4"},"<container_image>")),(0,t.yg)("p",null,"The Docker image to use for ad-hoc created node. We recommend using one of the\nfollowing images:"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("inlineCode",{parentName:"li"},"tenzir/tenzir:v4.11.2")," to use the specified release."),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("inlineCode",{parentName:"li"},"tenzir/tenzir:latest")," to use the last release."),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("inlineCode",{parentName:"li"},"tenzir/tenzir:main")," to use the currnet development version.")),(0,t.yg)("h2",c({},{id:"manage-secrets"}),"Manage Secrets"),(0,t.yg)("p",null,"The Tenzir Platform provides storage of secrets, which can be accessed by pipelines running on a Tenzir Node."),(0,t.yg)("h3",c({},{id:"synopsis-2"}),"Synopsis"),(0,t.yg)("pre",null,(0,t.yg)("code",c({parentName:"pre"},{}),"  tenzir-platform secret add <name> [--file=<file>] [--value=<value>] [--env]\n  tenzir-platform secret update <secret_id> [--file=<file>] [--value=<value>] [--env]\n  tenzir-platform secret delete <secret_id>\n  tenzir-platform secret list [--json]\n")),(0,t.yg)("h3",c({},{id:"description-2"}),"Description"),(0,t.yg)("p",null,"The following commands allow for managing secrets in the Tenzir Platform. Secrets can be securely stored and accessed by pipelines running on nodes."),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("p",{parentName:"li"},(0,t.yg)("inlineCode",{parentName:"p"},"tenzir-platform secret add")," adds a new secret to the platform. The secret value can be provided directly via the ",(0,t.yg)("inlineCode",{parentName:"p"},"--value")," option, read from a file using the ",(0,t.yg)("inlineCode",{parentName:"p"},"--file")," option, or sourced from an environment variable using the ",(0,t.yg)("inlineCode",{parentName:"p"},"--env")," flag. The secret is identified by the provided ",(0,t.yg)("inlineCode",{parentName:"p"},"<name>"),".")),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("p",{parentName:"li"},(0,t.yg)("inlineCode",{parentName:"p"},"tenzir-platform secret update")," updates an existing secret identified by ",(0,t.yg)("inlineCode",{parentName:"p"},"<secret_id>"),". Similar to adding a secret, the new value can be provided via ",(0,t.yg)("inlineCode",{parentName:"p"},"--value"),", ",(0,t.yg)("inlineCode",{parentName:"p"},"--file"),", or ",(0,t.yg)("inlineCode",{parentName:"p"},"--env"),".")),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("p",{parentName:"li"},(0,t.yg)("inlineCode",{parentName:"p"},"tenzir-platform secret delete")," removes a secret from the platform. The secret to be deleted is identified by its ",(0,t.yg)("inlineCode",{parentName:"p"},"<secret_id>"),".")),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("p",{parentName:"li"},(0,t.yg)("inlineCode",{parentName:"p"},"tenzir-platform secret list")," lists all secrets available in the platform. The ",(0,t.yg)("inlineCode",{parentName:"p"},"--json")," flag can be used to output the list in JSON format for easier integration with other tools."))),(0,t.yg)("h4",c({},{id:"name"}),(0,t.yg)("inlineCode",{parentName:"h4"},"<name>")),(0,t.yg)("p",null,"The unique name to identify the secret. This name is used when accessing the secret in pipelines."),(0,t.yg)("h4",c({},{id:"secret_id"}),(0,t.yg)("inlineCode",{parentName:"h4"},"<secret_id>")),(0,t.yg)("p",null,"The unique identifier of the secret, as shown in the output of ",(0,t.yg)("inlineCode",{parentName:"p"},"tenzir-platform secret list"),"."),(0,t.yg)("h4",c({},{id:"--filefile"}),(0,t.yg)("inlineCode",{parentName:"h4"},"--file=<file>")),(0,t.yg)("p",null,"Specifies a file containing the secret value. The file's contents will be securely stored as the secret value."),(0,t.yg)("h4",c({},{id:"--valuevalue"}),(0,t.yg)("inlineCode",{parentName:"h4"},"--value=<value>")),(0,t.yg)("p",null,"Specifies the secret value directly as a command-line argument."),(0,t.yg)("h4",c({},{id:"--env"}),(0,t.yg)("inlineCode",{parentName:"h4"},"--env")),(0,t.yg)("p",null,"Indicates that the secret value should be sourced from an environment variable. The environment variable must be set before running the command."),(0,t.yg)("h4",c({},{id:"--json"}),(0,t.yg)("inlineCode",{parentName:"h4"},"--json")),(0,t.yg)("p",null,"Outputs the list of secrets in JSON format when used with the ",(0,t.yg)("inlineCode",{parentName:"p"},"tenzir-platform secret list")," command."),(0,t.yg)("h2",c({},{id:"manage-external-secret-stores"}),"Manage External Secret Stores"),(0,t.yg)("p",null,"Instead of using the built-in secret store of the Tenzir Platform, users can\nconfigure their workspaces to use secrets from an external secret store."),(0,t.yg)("p",null,"At the moment, only AWS Secrets Manager is supported as an external store,\nalthough we're planning to add more options in the near future."),(0,t.yg)("p",null,"By default, external secret stores are mounted read-only, ie. it will not be\npossible to add or update secrets from the CLI or the web interface. Some\nexternal secret store implementations may offer options to also allow write\naccess to the secrets."),(0,t.yg)("h3",c({},{id:"synopsis-3"}),"Synopsis"),(0,t.yg)("figure",c({},{"data-rehype-pretty-code-figure":""}),(0,t.yg)("pre",c({parentName:"figure"},{tabIndex:0,"data-language":"sh","data-theme":"github-dark-default"}),(0,t.yg)("code",c({parentName:"pre"},{"data-language":"sh","data-theme":"github-dark-default",style:{display:"grid"}}),(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#FFA657"}}),"tenzir-platform"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#A5D6FF"}})," secret"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#A5D6FF"}})," store"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#A5D6FF"}})," add"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#A5D6FF"}})," aws")),"\n",(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3"}}),"    --region"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#FF7B72"}}),"=<"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#A5D6FF"}}),"region"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#FF7B72"}}),">")),"\n",(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3"}}),"    --assumed-role-arn"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#FF7B72"}}),"=<"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#A5D6FF"}}),"assumed_role_arn"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#FF7B72"}}),">")),"\n",(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3"}}),"    [--name"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#FF7B72"}}),"=<"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3"}}),"name"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#FF7B72"}}),">"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3"}}),"]")),"\n",(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3"}}),"    [--prefix"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#FF7B72"}}),"=<"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3"}}),"prefix"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#FF7B72"}}),">"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3"}}),"]")),"\n",(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3"}}),"    [--access-key-id"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#FF7B72"}}),"=<"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3"}}),"key_id"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#FF7B72"}}),">"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3"}}),"]")),"\n",(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3"}}),"    [--secret-access-key"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#FF7B72"}}),"=<"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3"}}),"key"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#FF7B72"}}),">"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3"}}),"]")),"\n",(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#FFA657"}}),"tenzir-platform"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#A5D6FF"}})," secret"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#A5D6FF"}})," store"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#A5D6FF"}})," set-default"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#FF7B72"}})," <"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#A5D6FF"}}),"store_i"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3"}}),"d"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#FF7B72"}}),">")),"\n",(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#FFA657"}}),"tenzir-platform"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#A5D6FF"}})," secret"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#A5D6FF"}})," store"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#A5D6FF"}})," delete"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#FF7B72"}})," <"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#A5D6FF"}}),"store_i"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3"}}),"d"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#FF7B72"}}),">")),"\n",(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#FFA657"}}),"tenzir-platform"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#A5D6FF"}})," secret"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#A5D6FF"}})," store"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#A5D6FF"}})," list"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#E6EDF3"}})," [--json]"))),(0,t.yg)("button",c({parentName:"pre"},{type:"button",data:"tenzir-platform secret store add aws\n    --region=<region>\n    --assumed-role-arn=<assumed_role_arn>\n    [--name=<name>]\n    [--prefix=<prefix>]\n    [--access-key-id=<key_id>]\n    [--secret-access-key=<key>]\ntenzir-platform secret store set-default <store_id>\ntenzir-platform secret store delete <store_id>\ntenzir-platform secret store list [--json]",title:"Copy code","aria-label":"Copy code",className:"rehype-pretty-copy","data-feedback-duration":"3000","data-name":"rehype-pretty-copy-button"}),(0,t.yg)("span",c({parentName:"button"},{className:"ready"})),(0,t.yg)("span",c({parentName:"button"},{className:"success"}))),(0,t.yg)("style",{parentName:"pre"},'\n    :root {\n      --copy-icon: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDM2IDM2Ij48cmVjdCB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjYmZjN2Q1IiBkPSJNMjkuNSA3aC0xOUExLjUgMS41IDAgMCAwIDkgOC41djI0YTEuNSAxLjUgMCAwIDAgMS41IDEuNWgxOWExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTI0QTEuNSAxLjUgMCAwIDAgMjkuNSA3TTI5IDMySDExVjloMThaIiBjbGFzcz0iY2xyLWktb3V0bGluZSBjbHItaS1vdXRsaW5lLXBhdGgtMSIvPjxwYXRoIGZpbGw9IiNiZmM3ZDUiIGQ9Ik0yNiAzLjVBMS41IDEuNSAwIDAgMCAyNC41IDJoLTE5QTEuNSAxLjUgMCAwIDAgNCAzLjV2MjRBMS41IDEuNSAwIDAgMCA1LjUgMjlINlY0aDIwWiIgY2xhc3M9ImNsci1pLW91dGxpbmUgY2xyLWktb3V0bGluZS1wYXRoLTIiLz48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDM2djM2SDB6Ii8+PC9zdmc+");\n      --success-icon: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cmVjdCB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjMDBkNjAwIiBkPSJNMjEgN0w5IDE5bC01LjUtNS41bDEuNDEtMS40MUw5IDE2LjE3TDE5LjU5IDUuNTl6Ii8+PC9zdmc+");\n    }\n\n    pre:has(code) {\n      position: relative;\n    }\n\n    button[data=\'<span>\'] {\n      width: 0;\n      height: 0;\n      display: none;\n      visibility: hidden;\n    }\n\n    pre button.rehype-pretty-copy {\n      top: 1px;\n      right: 1px;\n      padding: 0;\n      width: 24px;\n      height: 24px;\n      display: flex;\n      cursor: pointer;\n      margin-top: 8px;\n      margin-right: 8px;\n      position: absolute;\n      border-radius: 25%;\n      & span {\n        width: 100%;\n        aspect-ratio: 1 / 1;\n        background-repeat: no-repeat;\n      }\n      & .ready {\n        background-image: var(--copy-icon);\n      }\n      & .success {\n        display: none;\n        background-image: var(--success-icon);\n      }\n    }\n\n    &.rehype-pretty-copied { \n      & .success { \n        display: block;\n      } & .ready {\n        display: none;\n      }\n    }\n\n    pre button.rehype-pretty-copy.rehype-pretty-copied {\n      opacity: 1;\n      cursor: default;\n      & .ready { display: none; }\n      & .success { display: block; }\n    }\n\n      pre button.rehype-pretty-copy { opacity: 0; }\n      button[data-name="rehype-pretty-copy-button"]:hover {\n        opacity: 1;\n      }\n    '))),(0,t.yg)("h3",c({},{id:"description-3"}),"Description"),(0,t.yg)("p",null,"When the Tenzir Node accesses a secret by using the ",(0,t.yg)("inlineCode",{parentName:"p"},'secret("foo")')," function\nin a pipeline, the Tenzir Platform will look up the secret with the name ",(0,t.yg)("inlineCode",{parentName:"p"},"foo"),"\nin the default secret store of that node's workspace and return the secret\nvalue to the node."),(0,t.yg)("p",null,"When using an external secret store, the Tenzir Platform needs to have the\nnecessary permissions to read secret value from that store."),(0,t.yg)("p",null,"For the AWS Secrets Manager, the Tenzir Platform uses STS to assume a role with\nthe necessary permissions. It is your responsibility to create that role and"),(0,t.yg)("p",null,"1) Create an IAM user. Download access keys and pass them via the ",(0,t.yg)("inlineCode",{parentName:"p"},"--access-key-id"),"\nand ",(0,t.yg)("inlineCode",{parentName:"p"},"--secret-access-key")," arguments. This approach is the easiest to set up,\nbut only acceptable for self-hosted testing or development instances of the\nTenzir Platform because it stores long-term credentials in the Tenzir Platform."),(0,t.yg)("p",null,"2) Assign the permissions to the task role of the websocket gateway.\nThis the recommended option for users running the Sovereign Edition of the\nPlatform and deployed it to their own AWS account."),(0,t.yg)("p",null,"3) Assign the permission to assume the configured role to Tenzir's AWS account\nwith the id ",(0,t.yg)("inlineCode",{parentName:"p"},"660178929208"),". This option will only work with our publicly\nhosted platform instance on ",(0,t.yg)("inlineCode",{parentName:"p"},"https://app.tenzir.com"),"."),(0,t.yg)("p",null,"We're working on expanding this to offer an OIDC-based option as well, as an\nalternative to options (1) and (3) above."),(0,t.yg)("h2",c({},{id:"manage-alerts"}),"Manage Alerts"),(0,t.yg)("h3",c({},{id:"synopsis-4"}),"Synopsis"),(0,t.yg)("figure",c({},{"data-rehype-pretty-code-figure":""}),(0,t.yg)("pre",c({parentName:"figure"},{tabIndex:0,"data-language":"text","data-theme":"github-dark-default"}),(0,t.yg)("code",c({parentName:"pre"},{"data-language":"text","data-theme":"github-dark-default",style:{display:"grid"}}),(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",{parentName:"span"},"tenzir-platform alert add <node> <duration> <webhook_url> [<webhook_body>]")),"\n",(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",{parentName:"span"},"tenzir-platform alert delete <alert_id>")),"\n",(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",{parentName:"span"},"tenzir-platform alert list"))),(0,t.yg)("button",c({parentName:"pre"},{type:"button",data:"tenzir-platform alert add <node> <duration> <webhook_url> [<webhook_body>]\ntenzir-platform alert delete <alert_id>\ntenzir-platform alert list",title:"Copy code","aria-label":"Copy code",className:"rehype-pretty-copy","data-feedback-duration":"3000","data-name":"rehype-pretty-copy-button"}),(0,t.yg)("span",c({parentName:"button"},{className:"ready"})),(0,t.yg)("span",c({parentName:"button"},{className:"success"}))),(0,t.yg)("style",{parentName:"pre"},'\n    :root {\n      --copy-icon: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDM2IDM2Ij48cmVjdCB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjYmZjN2Q1IiBkPSJNMjkuNSA3aC0xOUExLjUgMS41IDAgMCAwIDkgOC41djI0YTEuNSAxLjUgMCAwIDAgMS41IDEuNWgxOWExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTI0QTEuNSAxLjUgMCAwIDAgMjkuNSA3TTI5IDMySDExVjloMThaIiBjbGFzcz0iY2xyLWktb3V0bGluZSBjbHItaS1vdXRsaW5lLXBhdGgtMSIvPjxwYXRoIGZpbGw9IiNiZmM3ZDUiIGQ9Ik0yNiAzLjVBMS41IDEuNSAwIDAgMCAyNC41IDJoLTE5QTEuNSAxLjUgMCAwIDAgNCAzLjV2MjRBMS41IDEuNSAwIDAgMCA1LjUgMjlINlY0aDIwWiIgY2xhc3M9ImNsci1pLW91dGxpbmUgY2xyLWktb3V0bGluZS1wYXRoLTIiLz48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDM2djM2SDB6Ii8+PC9zdmc+");\n      --success-icon: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cmVjdCB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjMDBkNjAwIiBkPSJNMjEgN0w5IDE5bC01LjUtNS41bDEuNDEtMS40MUw5IDE2LjE3TDE5LjU5IDUuNTl6Ii8+PC9zdmc+");\n    }\n\n    pre:has(code) {\n      position: relative;\n    }\n\n    button[data=\'<span>\'] {\n      width: 0;\n      height: 0;\n      display: none;\n      visibility: hidden;\n    }\n\n    pre button.rehype-pretty-copy {\n      top: 1px;\n      right: 1px;\n      padding: 0;\n      width: 24px;\n      height: 24px;\n      display: flex;\n      cursor: pointer;\n      margin-top: 8px;\n      margin-right: 8px;\n      position: absolute;\n      border-radius: 25%;\n      & span {\n        width: 100%;\n        aspect-ratio: 1 / 1;\n        background-repeat: no-repeat;\n      }\n      & .ready {\n        background-image: var(--copy-icon);\n      }\n      & .success {\n        display: none;\n        background-image: var(--success-icon);\n      }\n    }\n\n    &.rehype-pretty-copied { \n      & .success { \n        display: block;\n      } & .ready {\n        display: none;\n      }\n    }\n\n    pre button.rehype-pretty-copy.rehype-pretty-copied {\n      opacity: 1;\n      cursor: default;\n      & .ready { display: none; }\n      & .success { display: block; }\n    }\n\n      pre button.rehype-pretty-copy { opacity: 0; }\n      button[data-name="rehype-pretty-copy-button"]:hover {\n        opacity: 1;\n      }\n    '))),(0,t.yg)("h3",c({},{id:"description-4"}),"Description"),(0,t.yg)("p",null,"The following commands allow for setting up alerts for specific nodes. After a\nnode has been disconnected for the configured amount of time, an alert fires by\nperforming a POST request against the configured webhook URL."),(0,t.yg)("h4",c({},{id:"node"}),(0,t.yg)("inlineCode",{parentName:"h4"},"<node>")),(0,t.yg)("p",null,"The node to be monitored. Can be given provided as a node ID or a node name,\nas long as the name is unambiguous."),(0,t.yg)("h4",c({},{id:"duration"}),(0,t.yg)("inlineCode",{parentName:"h4"},"<duration>")),(0,t.yg)("p",null,"The amount of time to wait between the node disconnect and triggering the alert."),(0,t.yg)("h4",c({},{id:"webhook_url"}),(0,t.yg)("inlineCode",{parentName:"h4"},"<webhook_url>")),(0,t.yg)("p",null,"The platform performs a POST request against this URL when the alert triggers."),(0,t.yg)("h4",c({},{id:"webhook_body"}),(0,t.yg)("inlineCode",{parentName:"h4"},"<webhook_body>")),(0,t.yg)("p",null,"The body to send along with the webhook. Must be valid JSON. The body may\ncontain the string ",(0,t.yg)("inlineCode",{parentName:"p"},"$NODE_NAME"),", which will be replaced by the name of the\nnode that triggered the alert."),(0,t.yg)("p",null,"Defaults to ",(0,t.yg)("inlineCode",{parentName:"p"},'{"text": "Node $NODE_NAME disconnected for more than {duration}s"}'),",\nwhere ",(0,t.yg)("inlineCode",{parentName:"p"},"node_id")," and ",(0,t.yg)("inlineCode",{parentName:"p"},"duration")," are set dynamically from the CLI parameters."),(0,t.yg)("h3",c({},{id:"example"}),"Example"),(0,t.yg)("p",null,"Given nodes like this:"),(0,t.yg)("figure",c({},{"data-rehype-pretty-code-figure":""}),(0,t.yg)("pre",c({parentName:"figure"},{tabIndex:0,"data-language":"text","data-theme":"github-dark-default"}),(0,t.yg)("code",c({parentName:"pre"},{"data-language":"text","data-theme":"github-dark-default",style:{display:"grid"}}),(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",{parentName:"span"},"$ tenzir-platform node list")),"\n",(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",{parentName:"span"},"\ud83d\udfe2 Node-1 (n-w2tjezz3)")),"\n",(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",{parentName:"span"},"\ud83d\udfe2 Node-2 (n-kzw21299)")),"\n",(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",{parentName:"span"},"\ud83d\udd34 Node-3 (n-ie2tdgca)"))),(0,t.yg)("button",c({parentName:"pre"},{type:"button",data:"$ tenzir-platform node list\n\ud83d\udfe2 Node-1 (n-w2tjezz3)\n\ud83d\udfe2 Node-2 (n-kzw21299)\n\ud83d\udd34 Node-3 (n-ie2tdgca)",title:"Copy code","aria-label":"Copy code",className:"rehype-pretty-copy","data-feedback-duration":"3000","data-name":"rehype-pretty-copy-button"}),(0,t.yg)("span",c({parentName:"button"},{className:"ready"})),(0,t.yg)("span",c({parentName:"button"},{className:"success"}))),(0,t.yg)("style",{parentName:"pre"},'\n    :root {\n      --copy-icon: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDM2IDM2Ij48cmVjdCB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjYmZjN2Q1IiBkPSJNMjkuNSA3aC0xOUExLjUgMS41IDAgMCAwIDkgOC41djI0YTEuNSAxLjUgMCAwIDAgMS41IDEuNWgxOWExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTI0QTEuNSAxLjUgMCAwIDAgMjkuNSA3TTI5IDMySDExVjloMThaIiBjbGFzcz0iY2xyLWktb3V0bGluZSBjbHItaS1vdXRsaW5lLXBhdGgtMSIvPjxwYXRoIGZpbGw9IiNiZmM3ZDUiIGQ9Ik0yNiAzLjVBMS41IDEuNSAwIDAgMCAyNC41IDJoLTE5QTEuNSAxLjUgMCAwIDAgNCAzLjV2MjRBMS41IDEuNSAwIDAgMCA1LjUgMjlINlY0aDIwWiIgY2xhc3M9ImNsci1pLW91dGxpbmUgY2xyLWktb3V0bGluZS1wYXRoLTIiLz48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDM2djM2SDB6Ii8+PC9zdmc+");\n      --success-icon: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cmVjdCB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjMDBkNjAwIiBkPSJNMjEgN0w5IDE5bC01LjUtNS41bDEuNDEtMS40MUw5IDE2LjE3TDE5LjU5IDUuNTl6Ii8+PC9zdmc+");\n    }\n\n    pre:has(code) {\n      position: relative;\n    }\n\n    button[data=\'<span>\'] {\n      width: 0;\n      height: 0;\n      display: none;\n      visibility: hidden;\n    }\n\n    pre button.rehype-pretty-copy {\n      top: 1px;\n      right: 1px;\n      padding: 0;\n      width: 24px;\n      height: 24px;\n      display: flex;\n      cursor: pointer;\n      margin-top: 8px;\n      margin-right: 8px;\n      position: absolute;\n      border-radius: 25%;\n      & span {\n        width: 100%;\n        aspect-ratio: 1 / 1;\n        background-repeat: no-repeat;\n      }\n      & .ready {\n        background-image: var(--copy-icon);\n      }\n      & .success {\n        display: none;\n        background-image: var(--success-icon);\n      }\n    }\n\n    &.rehype-pretty-copied { \n      & .success { \n        display: block;\n      } & .ready {\n        display: none;\n      }\n    }\n\n    pre button.rehype-pretty-copy.rehype-pretty-copied {\n      opacity: 1;\n      cursor: default;\n      & .ready { display: none; }\n      & .success { display: block; }\n    }\n\n      pre button.rehype-pretty-copy { opacity: 0; }\n      button[data-name="rehype-pretty-copy-button"]:hover {\n        opacity: 1;\n      }\n    '))),(0,t.yg)("p",null,"We want to receive a Slack notification whenever Node-3 is offline for more than 3 minutes.\nFirst we create a webhook as described in the ",(0,t.yg)("a",c({parentName:"p"},{href:"https://api.slack.com/messaging/webhooks"}),"Slack docs"),".\nNext, we configure the alert in the Tenzir Platform:"),(0,t.yg)("figure",c({},{"data-rehype-pretty-code-figure":""}),(0,t.yg)("pre",c({parentName:"figure"},{tabIndex:0,"data-language":"bash","data-theme":"github-dark-default"}),(0,t.yg)("code",c({parentName:"pre"},{"data-language":"bash","data-theme":"github-dark-default",style:{display:"grid"}}),(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#FFA657"}}),"tenzir-platform"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#A5D6FF"}})," alert"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#A5D6FF"}})," add"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#A5D6FF"}})," Node-3"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#A5D6FF"}})," 3m"),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#A5D6FF"}}),' "https://hooks.slack.com/services/XXXXX/YYYYY/ZZZZZ"'),(0,t.yg)("span",c({parentName:"span"},{style:{color:"#A5D6FF"}}),' \'{"text": "Alert! Look after node $NODE_NAME"}\''))),(0,t.yg)("button",c({parentName:"pre"},{type:"button",data:'tenzir-platform alert add Node-3 3m "https://hooks.slack.com/services/XXXXX/YYYYY/ZZZZZ" \'{"text": "Alert! Look after node $NODE_NAME"}\'',title:"Copy code","aria-label":"Copy code",className:"rehype-pretty-copy","data-feedback-duration":"3000","data-name":"rehype-pretty-copy-button"}),(0,t.yg)("span",c({parentName:"button"},{className:"ready"})),(0,t.yg)("span",c({parentName:"button"},{className:"success"}))),(0,t.yg)("style",{parentName:"pre"},'\n    :root {\n      --copy-icon: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDM2IDM2Ij48cmVjdCB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjYmZjN2Q1IiBkPSJNMjkuNSA3aC0xOUExLjUgMS41IDAgMCAwIDkgOC41djI0YTEuNSAxLjUgMCAwIDAgMS41IDEuNWgxOWExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTI0QTEuNSAxLjUgMCAwIDAgMjkuNSA3TTI5IDMySDExVjloMThaIiBjbGFzcz0iY2xyLWktb3V0bGluZSBjbHItaS1vdXRsaW5lLXBhdGgtMSIvPjxwYXRoIGZpbGw9IiNiZmM3ZDUiIGQ9Ik0yNiAzLjVBMS41IDEuNSAwIDAgMCAyNC41IDJoLTE5QTEuNSAxLjUgMCAwIDAgNCAzLjV2MjRBMS41IDEuNSAwIDAgMCA1LjUgMjlINlY0aDIwWiIgY2xhc3M9ImNsci1pLW91dGxpbmUgY2xyLWktb3V0bGluZS1wYXRoLTIiLz48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDM2djM2SDB6Ii8+PC9zdmc+");\n      --success-icon: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cmVjdCB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjMDBkNjAwIiBkPSJNMjEgN0w5IDE5bC01LjUtNS41bDEuNDEtMS40MUw5IDE2LjE3TDE5LjU5IDUuNTl6Ii8+PC9zdmc+");\n    }\n\n    pre:has(code) {\n      position: relative;\n    }\n\n    button[data=\'<span>\'] {\n      width: 0;\n      height: 0;\n      display: none;\n      visibility: hidden;\n    }\n\n    pre button.rehype-pretty-copy {\n      top: 1px;\n      right: 1px;\n      padding: 0;\n      width: 24px;\n      height: 24px;\n      display: flex;\n      cursor: pointer;\n      margin-top: 8px;\n      margin-right: 8px;\n      position: absolute;\n      border-radius: 25%;\n      & span {\n        width: 100%;\n        aspect-ratio: 1 / 1;\n        background-repeat: no-repeat;\n      }\n      & .ready {\n        background-image: var(--copy-icon);\n      }\n      & .success {\n        display: none;\n        background-image: var(--success-icon);\n      }\n    }\n\n    &.rehype-pretty-copied { \n      & .success { \n        display: block;\n      } & .ready {\n        display: none;\n      }\n    }\n\n    pre button.rehype-pretty-copy.rehype-pretty-copied {\n      opacity: 1;\n      cursor: default;\n      & .ready { display: none; }\n      & .success { display: block; }\n    }\n\n      pre button.rehype-pretty-copy { opacity: 0; }\n      button[data-name="rehype-pretty-copy-button"]:hover {\n        opacity: 1;\n      }\n    '))),(0,t.yg)("p",null,"Unless Node-3 reconnects, we should see a message appear after 3 minutes in the configured Slack channel."),(0,t.yg)("h2",c({},{id:"manage-workspaces"}),"Manage Workspaces"),(0,t.yg)("admonition",c({},{title:"On-Premise Setup Required",type:"warning"}),(0,t.yg)("p",{parentName:"admonition"},"This functionality of the CLI can only be used in combination\nwith an on-premise platform deployment, which is available to users\nof the ",(0,t.yg)("a",c({parentName:"p"},{href:"https://tenzir.com/pricing"}),"Sovereign Edition"),".")),(0,t.yg)("p",null,"These CLI commands are only available to local platform administrators.\nThe ",(0,t.yg)("inlineCode",{parentName:"p"},"TENZIR_PLATFORM_OIDC_ADMIN_RULES")," variable described\n",(0,t.yg)("a",c({parentName:"p"},{href:"installation/deploy-the-platform#identity-provider-idp"}),"here")," is used\nto define who is an administrator in your platform deployment."),(0,t.yg)("h3",c({},{id:"synopsis-5"}),"Synopsis"),(0,t.yg)("figure",c({},{"data-rehype-pretty-code-figure":""}),(0,t.yg)("pre",c({parentName:"figure"},{tabIndex:0,"data-language":"text","data-theme":"github-dark-default"}),(0,t.yg)("code",c({parentName:"pre"},{"data-language":"text","data-theme":"github-dark-default",style:{display:"grid"}}),(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",{parentName:"span"},"tenzir-platform admin list-global-workspaces")),"\n",(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",{parentName:"span"},"tenzir-platform admin create-workspace <owner_namespace> <owner_id> [--name <workspace_name>]")),"\n",(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",{parentName:"span"},"tenzir-platform admin delete-workspace <workspace_id>"))),(0,t.yg)("button",c({parentName:"pre"},{type:"button",data:"tenzir-platform admin list-global-workspaces\ntenzir-platform admin create-workspace <owner_namespace> <owner_id> [--name <workspace_name>]\ntenzir-platform admin delete-workspace <workspace_id>",title:"Copy code","aria-label":"Copy code",className:"rehype-pretty-copy","data-feedback-duration":"3000","data-name":"rehype-pretty-copy-button"}),(0,t.yg)("span",c({parentName:"button"},{className:"ready"})),(0,t.yg)("span",c({parentName:"button"},{className:"success"}))),(0,t.yg)("style",{parentName:"pre"},'\n    :root {\n      --copy-icon: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDM2IDM2Ij48cmVjdCB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjYmZjN2Q1IiBkPSJNMjkuNSA3aC0xOUExLjUgMS41IDAgMCAwIDkgOC41djI0YTEuNSAxLjUgMCAwIDAgMS41IDEuNWgxOWExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTI0QTEuNSAxLjUgMCAwIDAgMjkuNSA3TTI5IDMySDExVjloMThaIiBjbGFzcz0iY2xyLWktb3V0bGluZSBjbHItaS1vdXRsaW5lLXBhdGgtMSIvPjxwYXRoIGZpbGw9IiNiZmM3ZDUiIGQ9Ik0yNiAzLjVBMS41IDEuNSAwIDAgMCAyNC41IDJoLTE5QTEuNSAxLjUgMCAwIDAgNCAzLjV2MjRBMS41IDEuNSAwIDAgMCA1LjUgMjlINlY0aDIwWiIgY2xhc3M9ImNsci1pLW91dGxpbmUgY2xyLWktb3V0bGluZS1wYXRoLTIiLz48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDM2djM2SDB6Ii8+PC9zdmc+");\n      --success-icon: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cmVjdCB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjMDBkNjAwIiBkPSJNMjEgN0w5IDE5bC01LjUtNS41bDEuNDEtMS40MUw5IDE2LjE3TDE5LjU5IDUuNTl6Ii8+PC9zdmc+");\n    }\n\n    pre:has(code) {\n      position: relative;\n    }\n\n    button[data=\'<span>\'] {\n      width: 0;\n      height: 0;\n      display: none;\n      visibility: hidden;\n    }\n\n    pre button.rehype-pretty-copy {\n      top: 1px;\n      right: 1px;\n      padding: 0;\n      width: 24px;\n      height: 24px;\n      display: flex;\n      cursor: pointer;\n      margin-top: 8px;\n      margin-right: 8px;\n      position: absolute;\n      border-radius: 25%;\n      & span {\n        width: 100%;\n        aspect-ratio: 1 / 1;\n        background-repeat: no-repeat;\n      }\n      & .ready {\n        background-image: var(--copy-icon);\n      }\n      & .success {\n        display: none;\n        background-image: var(--success-icon);\n      }\n    }\n\n    &.rehype-pretty-copied { \n      & .success { \n        display: block;\n      } & .ready {\n        display: none;\n      }\n    }\n\n    pre button.rehype-pretty-copy.rehype-pretty-copied {\n      opacity: 1;\n      cursor: default;\n      & .ready { display: none; }\n      & .success { display: block; }\n    }\n\n      pre button.rehype-pretty-copy { opacity: 0; }\n      button[data-name="rehype-pretty-copy-button"]:hover {\n        opacity: 1;\n      }\n    '))),(0,t.yg)("h3",c({},{id:"description-5"}),"Description"),(0,t.yg)("p",null,"The ",(0,t.yg)("inlineCode",{parentName:"p"},"tenzir-platform workspace admin list-global-workspaces"),", ",(0,t.yg)("inlineCode",{parentName:"p"},"tenzir-platform\nadmin create-workspace"),", and ",(0,t.yg)("inlineCode",{parentName:"p"},"tenzir-platform admin delete-workspace")," commands\nlist, create, or delete workspaces, respectively."),(0,t.yg)("h4",c({},{id:"owner_namespace"}),(0,t.yg)("inlineCode",{parentName:"h4"},"<owner_namespace>")),(0,t.yg)("p",null,"Either ",(0,t.yg)("inlineCode",{parentName:"p"},"user")," or ",(0,t.yg)("inlineCode",{parentName:"p"},"organization"),", depending on whether the workspace is\nassociated with a user or an organization."),(0,t.yg)("p",null,"The selected namespace will determine the ",(0,t.yg)("em",{parentName:"p"},"default")," access rules for the\nworkspace:"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"For a user workspace, a single access rule will be created that allows\naccess to the user whose user id matches the given ",(0,t.yg)("inlineCode",{parentName:"li"},"owner_id"),"."),(0,t.yg)("li",{parentName:"ul"},"For an organization workspace, no rules will be created by default and\nthey have to be manually added using the ",(0,t.yg)("inlineCode",{parentName:"li"},"add-auth-rule")," subcommand\ndescribed below.")),(0,t.yg)("h4",c({},{id:"owner_id"}),(0,t.yg)("inlineCode",{parentName:"h4"},"<owner_id>")),(0,t.yg)("p",null,"The unique ID of the workspace owner:"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"If ",(0,t.yg)("inlineCode",{parentName:"li"},"<owner_namespace>")," is ",(0,t.yg)("inlineCode",{parentName:"li"},"user"),", then this matches the user's ",(0,t.yg)("inlineCode",{parentName:"li"},"sub")," claim in\nthe OIDC token."),(0,t.yg)("li",{parentName:"ul"},"If ",(0,t.yg)("inlineCode",{parentName:"li"},"<owner_namespace>")," is ",(0,t.yg)("inlineCode",{parentName:"li"},"organization"),", then this is an arbitrary string\nuniquely identifiying the organization the workspace belongs to.")),(0,t.yg)("h4",c({},{id:"--name-workspace_name"}),(0,t.yg)("inlineCode",{parentName:"h4"},"--name <workspace_name>")),(0,t.yg)("p",null,"The name of the workspace as shown in the app."),(0,t.yg)("h4",c({},{id:"workspace_id-1"}),(0,t.yg)("inlineCode",{parentName:"h4"},"<workspace_id>")),(0,t.yg)("p",null,"The unique ID of the workspace, as shown in ",(0,t.yg)("inlineCode",{parentName:"p"},"tenzir-platform workspace list")," or\n",(0,t.yg)("inlineCode",{parentName:"p"},"tenzir-platform admin list-global-workspaces"),"."),(0,t.yg)("h2",c({},{id:"configure-access-rules"}),"Configure Access Rules"),(0,t.yg)("admonition",c({},{title:"On-Premise Setup Required",type:"warning"}),(0,t.yg)("p",{parentName:"admonition"},"This functionality of the CLI can only be used in combination\nwith an on-premise platform deployment, which is available to users\nof the ",(0,t.yg)("a",c({parentName:"p"},{href:"https://tenzir.com/pricing"}),"Sovereign Edition"),".")),(0,t.yg)("p",null,"These CLI commands are only available to local platform administrators.\nThe ",(0,t.yg)("inlineCode",{parentName:"p"},"TENZIR_PLATFORM_OIDC_ADMIN_RULES")," variable described\n",(0,t.yg)("a",c({parentName:"p"},{href:"installation/deploy-the-platform#identity-provider-idp"}),"here")," is used\nto define who is an administrator in your platform deployment."),(0,t.yg)("h3",c({},{id:"synopsis-6"}),"Synopsis"),(0,t.yg)("figure",c({},{"data-rehype-pretty-code-figure":""}),(0,t.yg)("pre",c({parentName:"figure"},{tabIndex:0,"data-language":"text","data-theme":"github-dark-default"}),(0,t.yg)("code",c({parentName:"pre"},{"data-language":"text","data-theme":"github-dark-default",style:{display:"grid"}}),(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",{parentName:"span"},"tenzir-platform admin list-auth-rules <workspace_id>")),"\n",(0,t.yg)("span",c({parentName:"code"},{"data-line":""})," "),"\n",(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",{parentName:"span"},"tenzir-platform admin add-auth-rule allow-all <workspace_id>")),"\n",(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",{parentName:"span"},"tenzir-platform admin add-auth-rule user <workspace_id> <user_id>")),"\n",(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",{parentName:"span"},"tenzir-platform admin add-auth-rule")),"\n",(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",{parentName:"span"},"    email-domain <workspace_id> <connection> <domain>")),"\n",(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",{parentName:"span"},"tenzir-platform admin add-auth-rule")),"\n",(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",{parentName:"span"},"    organization-membership <workspace_id> <connection> <organization_claim> <organization>")),"\n",(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",{parentName:"span"},"tenzir-platform admin add-auth-rule")),"\n",(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",{parentName:"span"},"    organization-role <workspace_id> <connection> <roles_claim> <role> <organization_claim> <organization>")),"\n",(0,t.yg)("span",c({parentName:"code"},{"data-line":""})," "),"\n",(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",{parentName:"span"},"tenzir-platform admin delete-auth-rule <workspace_id> <auth_rule_index>"))),(0,t.yg)("button",c({parentName:"pre"},{type:"button",data:"tenzir-platform admin list-auth-rules <workspace_id>\n\ntenzir-platform admin add-auth-rule allow-all <workspace_id>\ntenzir-platform admin add-auth-rule user <workspace_id> <user_id>\ntenzir-platform admin add-auth-rule\n    email-domain <workspace_id> <connection> <domain>\ntenzir-platform admin add-auth-rule\n    organization-membership <workspace_id> <connection> <organization_claim> <organization>\ntenzir-platform admin add-auth-rule\n    organization-role <workspace_id> <connection> <roles_claim> <role> <organization_claim> <organization>\n\ntenzir-platform admin delete-auth-rule <workspace_id> <auth_rule_index>",title:"Copy code","aria-label":"Copy code",className:"rehype-pretty-copy","data-feedback-duration":"3000","data-name":"rehype-pretty-copy-button"}),(0,t.yg)("span",c({parentName:"button"},{className:"ready"})),(0,t.yg)("span",c({parentName:"button"},{className:"success"}))),(0,t.yg)("style",{parentName:"pre"},'\n    :root {\n      --copy-icon: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDM2IDM2Ij48cmVjdCB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjYmZjN2Q1IiBkPSJNMjkuNSA3aC0xOUExLjUgMS41IDAgMCAwIDkgOC41djI0YTEuNSAxLjUgMCAwIDAgMS41IDEuNWgxOWExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTI0QTEuNSAxLjUgMCAwIDAgMjkuNSA3TTI5IDMySDExVjloMThaIiBjbGFzcz0iY2xyLWktb3V0bGluZSBjbHItaS1vdXRsaW5lLXBhdGgtMSIvPjxwYXRoIGZpbGw9IiNiZmM3ZDUiIGQ9Ik0yNiAzLjVBMS41IDEuNSAwIDAgMCAyNC41IDJoLTE5QTEuNSAxLjUgMCAwIDAgNCAzLjV2MjRBMS41IDEuNSAwIDAgMCA1LjUgMjlINlY0aDIwWiIgY2xhc3M9ImNsci1pLW91dGxpbmUgY2xyLWktb3V0bGluZS1wYXRoLTIiLz48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDM2djM2SDB6Ii8+PC9zdmc+");\n      --success-icon: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cmVjdCB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjMDBkNjAwIiBkPSJNMjEgN0w5IDE5bC01LjUtNS41bDEuNDEtMS40MUw5IDE2LjE3TDE5LjU5IDUuNTl6Ii8+PC9zdmc+");\n    }\n\n    pre:has(code) {\n      position: relative;\n    }\n\n    button[data=\'<span>\'] {\n      width: 0;\n      height: 0;\n      display: none;\n      visibility: hidden;\n    }\n\n    pre button.rehype-pretty-copy {\n      top: 1px;\n      right: 1px;\n      padding: 0;\n      width: 24px;\n      height: 24px;\n      display: flex;\n      cursor: pointer;\n      margin-top: 8px;\n      margin-right: 8px;\n      position: absolute;\n      border-radius: 25%;\n      & span {\n        width: 100%;\n        aspect-ratio: 1 / 1;\n        background-repeat: no-repeat;\n      }\n      & .ready {\n        background-image: var(--copy-icon);\n      }\n      & .success {\n        display: none;\n        background-image: var(--success-icon);\n      }\n    }\n\n    &.rehype-pretty-copied { \n      & .success { \n        display: block;\n      } & .ready {\n        display: none;\n      }\n    }\n\n    pre button.rehype-pretty-copy.rehype-pretty-copied {\n      opacity: 1;\n      cursor: default;\n      & .ready { display: none; }\n      & .success { display: block; }\n    }\n\n      pre button.rehype-pretty-copy { opacity: 0; }\n      button[data-name="rehype-pretty-copy-button"]:hover {\n        opacity: 1;\n      }\n    '))),(0,t.yg)("h3",c({},{id:"description-6"}),"Description"),(0,t.yg)("p",null,"Users with admin permissions can use the ",(0,t.yg)("inlineCode",{parentName:"p"},"tenzir-platform admin list-auth-rules"),",\n",(0,t.yg)("inlineCode",{parentName:"p"},"tenzir-platform admin add-auth-rule"),", and ",(0,t.yg)("inlineCode",{parentName:"p"},"tenzir-platform admin delete-auth-rule"),"\ncommands to list, create, or delete authentication rules for all users, respectively."),(0,t.yg)("p",null,"Authentication rules allow users to access the workspace with the provided\n",(0,t.yg)("inlineCode",{parentName:"p"},"<workspace_id>")," if the user's ",(0,t.yg)("inlineCode",{parentName:"p"},"id_token")," matches the configured rule. Users\nhave access to a workspace if any configured rule allows access. The following\nrules exist:"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("p",{parentName:"li"},(0,t.yg)("strong",{parentName:"p"},"Email Suffix Rule"),": ",(0,t.yg)("inlineCode",{parentName:"p"},"tenzir-platform admin add-auth-rule email-domain"),"\nallows access if the ",(0,t.yg)("inlineCode",{parentName:"p"},"id_token")," contains a field ",(0,t.yg)("inlineCode",{parentName:"p"},"connection")," that exactly\nmatches the provided ",(0,t.yg)("inlineCode",{parentName:"p"},"<connection>")," and a field ",(0,t.yg)("inlineCode",{parentName:"p"},"email")," that ends with the\nconfigured ",(0,t.yg)("inlineCode",{parentName:"p"},"<domain>"),".")),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("p",{parentName:"li"},(0,t.yg)("strong",{parentName:"p"},"Organization Membership"),": ",(0,t.yg)("inlineCode",{parentName:"p"},"tenzir-platform admin add-auth-rule\norganization-membership")," allows\naccess if the ",(0,t.yg)("inlineCode",{parentName:"p"},"id_token")," contains a field ",(0,t.yg)("inlineCode",{parentName:"p"},"connection")," that exactly matches the\nprovided ",(0,t.yg)("inlineCode",{parentName:"p"},"<connection>")," and a field ",(0,t.yg)("inlineCode",{parentName:"p"},"<organization_claim>")," that exactly matches\nthe provided ",(0,t.yg)("inlineCode",{parentName:"p"},"<organization>"),"."),(0,t.yg)("p",{parentName:"li"},"Note that the ",(0,t.yg)("inlineCode",{parentName:"p"},"<organization_claim>")," and ",(0,t.yg)("inlineCode",{parentName:"p"},"<organization>")," can be freely\nchosen, so this rule can also be repurposed for generic claims that are not\nnecessarily related to organizations.")),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("p",{parentName:"li"},(0,t.yg)("strong",{parentName:"p"},"Organization Role Rule"),": ",(0,t.yg)("inlineCode",{parentName:"p"},"tenzir-platform admin add-auth-rule\norganization-role")," allows access if the ",(0,t.yg)("inlineCode",{parentName:"p"},"id_token")," contains a field\n",(0,t.yg)("inlineCode",{parentName:"p"},"connection")," that exactly matches the provided ",(0,t.yg)("inlineCode",{parentName:"p"},"<connection>"),", a field\n",(0,t.yg)("inlineCode",{parentName:"p"},"<organization_claim>")," that exactly matches the provided ",(0,t.yg)("inlineCode",{parentName:"p"},"<organization>"),", and\na field ",(0,t.yg)("inlineCode",{parentName:"p"},"<roles_claim>")," that must be a list containing a value exactly\nmatching ",(0,t.yg)("inlineCode",{parentName:"p"},"<role>"),"."),(0,t.yg)("p",{parentName:"li"},"We recommend using organization role rules to check if a user has a specific\nrole with an organization.")),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("p",{parentName:"li"},(0,t.yg)("strong",{parentName:"p"},"User Rule"),": ",(0,t.yg)("inlineCode",{parentName:"p"},"tenzir-platform admin add-auth-rule user")," allows access if the\n",(0,t.yg)("inlineCode",{parentName:"p"},"id_token")," contains a field ",(0,t.yg)("inlineCode",{parentName:"p"},"sub")," that exactly matches the provided\n",(0,t.yg)("inlineCode",{parentName:"p"},"<user_id>"),".")),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("p",{parentName:"li"},(0,t.yg)("strong",{parentName:"p"},"Allow All Rule"),": ",(0,t.yg)("inlineCode",{parentName:"p"},"tenzir-platform admin add-auth-rule allow-all")," allows access\nto every user. This can be useful to e.g. set up a workspace that is shared by all\nusers of a platform instance."))),(0,t.yg)("h2",c({},{id:"prepare-static-workspaces"}),"Prepare Static Workspaces"),(0,t.yg)("admonition",c({},{title:"On-Premise Setup Required",type:"warning"}),(0,t.yg)("p",{parentName:"admonition"},"This functionality of the CLI can only be used in combination\nwith an on-premise platform deployment, which is available to users\nof the ",(0,t.yg)("a",c({parentName:"p"},{href:"https://tenzir.com/pricing"}),"Sovereign Edition"),".")),(0,t.yg)("p",null,"Operators of an on-prem instance of the Tenzir Platform may need to add\ncertain options to the configuration files that need to follow a specific\nformat."),(0,t.yg)("p",null,"These commands can be used to conveniently generate the required values.\nUnlike the other CLI commands, these work offline and don't attempt to\nestablish a connection to the Tenzir Platform."),(0,t.yg)("h3",c({},{id:"synopsis-7"}),"Synopsis"),(0,t.yg)("figure",c({},{"data-rehype-pretty-code-figure":""}),(0,t.yg)("pre",c({parentName:"figure"},{tabIndex:0,"data-language":"text","data-theme":"github-dark-default"}),(0,t.yg)("code",c({parentName:"pre"},{"data-language":"text","data-theme":"github-dark-default",style:{display:"grid"}}),(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",{parentName:"span"},"tenzir-platform tools generate-workspace-token <workspace_id>")),"\n",(0,t.yg)("span",c({parentName:"code"},{"data-line":""}),(0,t.yg)("span",{parentName:"span"},"tenzir-platform tools print-auth-rule <rule options>"))),(0,t.yg)("button",c({parentName:"pre"},{type:"button",data:"tenzir-platform tools generate-workspace-token <workspace_id>\ntenzir-platform tools print-auth-rule <rule options>",title:"Copy code","aria-label":"Copy code",className:"rehype-pretty-copy","data-feedback-duration":"3000","data-name":"rehype-pretty-copy-button"}),(0,t.yg)("span",c({parentName:"button"},{className:"ready"})),(0,t.yg)("span",c({parentName:"button"},{className:"success"}))),(0,t.yg)("style",{parentName:"pre"},'\n    :root {\n      --copy-icon: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDM2IDM2Ij48cmVjdCB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjYmZjN2Q1IiBkPSJNMjkuNSA3aC0xOUExLjUgMS41IDAgMCAwIDkgOC41djI0YTEuNSAxLjUgMCAwIDAgMS41IDEuNWgxOWExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTI0QTEuNSAxLjUgMCAwIDAgMjkuNSA3TTI5IDMySDExVjloMThaIiBjbGFzcz0iY2xyLWktb3V0bGluZSBjbHItaS1vdXRsaW5lLXBhdGgtMSIvPjxwYXRoIGZpbGw9IiNiZmM3ZDUiIGQ9Ik0yNiAzLjVBMS41IDEuNSAwIDAgMCAyNC41IDJoLTE5QTEuNSAxLjUgMCAwIDAgNCAzLjV2MjRBMS41IDEuNSAwIDAgMCA1LjUgMjlINlY0aDIwWiIgY2xhc3M9ImNsci1pLW91dGxpbmUgY2xyLWktb3V0bGluZS1wYXRoLTIiLz48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDM2djM2SDB6Ii8+PC9zdmc+");\n      --success-icon: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cmVjdCB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjMDBkNjAwIiBkPSJNMjEgN0w5IDE5bC01LjUtNS41bDEuNDEtMS40MUw5IDE2LjE3TDE5LjU5IDUuNTl6Ii8+PC9zdmc+");\n    }\n\n    pre:has(code) {\n      position: relative;\n    }\n\n    button[data=\'<span>\'] {\n      width: 0;\n      height: 0;\n      display: none;\n      visibility: hidden;\n    }\n\n    pre button.rehype-pretty-copy {\n      top: 1px;\n      right: 1px;\n      padding: 0;\n      width: 24px;\n      height: 24px;\n      display: flex;\n      cursor: pointer;\n      margin-top: 8px;\n      margin-right: 8px;\n      position: absolute;\n      border-radius: 25%;\n      & span {\n        width: 100%;\n        aspect-ratio: 1 / 1;\n        background-repeat: no-repeat;\n      }\n      & .ready {\n        background-image: var(--copy-icon);\n      }\n      & .success {\n        display: none;\n        background-image: var(--success-icon);\n      }\n    }\n\n    &.rehype-pretty-copied { \n      & .success { \n        display: block;\n      } & .ready {\n        display: none;\n      }\n    }\n\n    pre button.rehype-pretty-copy.rehype-pretty-copied {\n      opacity: 1;\n      cursor: default;\n      & .ready { display: none; }\n      & .success { display: block; }\n    }\n\n      pre button.rehype-pretty-copy { opacity: 0; }\n      button[data-name="rehype-pretty-copy-button"]:hover {\n        opacity: 1;\n      }\n    '))),(0,t.yg)("h3",c({},{id:"description-7"}),"Description"),(0,t.yg)("p",null,"The ",(0,t.yg)("inlineCode",{parentName:"p"},"tenzir-platform tools generate-workspace-token")," command prints a workspace\ntoken that can be used when adding statically defined workspaces to the\nTenzir Platform."),(0,t.yg)("p",null,"The ",(0,t.yg)("inlineCode",{parentName:"p"},"tenzir-platform tools generate-workspace-token")," set of commands print\nthe JSON representation of an auth rule, that can be used to define admin\nrules, to add auth rules to workspaces using the CLI, or to define the auth\nrules for statically defined workspaces."))}f.isMDXComponent=!0}}]);