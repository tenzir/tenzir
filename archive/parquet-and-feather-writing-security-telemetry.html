<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-blog-archive">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Parquet &amp; Feather: Writing Security Telemetry | Tenzir</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.tenzir.com/archive/parquet-and-feather-writing-security-telemetry"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Parquet &amp; Feather: Writing Security Telemetry | Tenzir"><meta data-rh="true" name="description" content="How does Apache Parquet compare to Feather for storing"><meta data-rh="true" property="og:description" content="How does Apache Parquet compare to Feather for storing"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2022-10-24T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/dispanser,https://github.com/mavam"><meta data-rh="true" property="article:tag" content="benchmark,arrow,parquet,feather,quarto,r"><link data-rh="true" rel="icon" href="/img/tenzir-logo-adaptive.svg"><link data-rh="true" rel="canonical" href="https://docs.tenzir.com/archive/parquet-and-feather-writing-security-telemetry"><link data-rh="true" rel="alternate" href="https://docs.tenzir.com/archive/parquet-and-feather-writing-security-telemetry" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.tenzir.com/archive/parquet-and-feather-writing-security-telemetry" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://BVB58VRBDH-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/releases/rss.xml" title="Tenzir RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/releases/atom.xml" title="Tenzir Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="Tenzir" href="/opensearch.xml">



<link rel="alternate" type="application/rss+xml" href="/archive/rss.xml" title="Tenzir RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/archive/atom.xml" title="Tenzir Atom Feed">

<script src="https://plausible.io/js/script.js" aysnc defer="defer" data-domain="docs.tenzir.com"></script><link rel="stylesheet" href="/assets/css/styles.8411515e.css">
<link rel="preload" href="/assets/js/runtime~main.1d9f27ee.js" as="script">
<link rel="preload" href="/assets/js/main.050b0d29.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(e){}return e}()||function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://tenzir.com" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/tenzir-black.svg" alt="Tenzir" class="themedImage_ToTc themedImage--light_HNdA" width="120"><img src="/img/tenzir-white.svg" alt="Tenzir" class="themedImage_ToTc themedImage--dark_i4oU" width="120"></div></a><a class="navbar__item navbar__link" href="/overview">Docs</a><a class="navbar__item navbar__link" href="/releases">Releases</a><a class="navbar__item navbar__link" href="/changelog">Changelog</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link header-discord-link" aria-label="Discord" href="/discord"></a><a href="https://github.com/tenzir/tenzir" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub"></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/overview">v4.32</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/next/overview">Next</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/overview">v4.32</a></li><li><a class="dropdown__link" href="/v4.31/overview">v4.31</a></li><li><a class="dropdown__link" href="/v4.30/overview">v4.30</a></li></ul></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Blog Archive</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/archive/tenzir-platform-is-now-generally-available">Tenzir Platform is Now Generally Available</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/archive/an-interns-reflection">An Intern&#x27;s Reflection</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/archive/reduce-cost-and-noise-with-deduplication">Reduce Cost and Noise with Deduplication</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/archive/introducing-office-hours">Introducing Office Hours</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/archive/switching-fluentbit-from-json-to-msgpack">Switching Fluent Bit from JSON to MsgPack</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/archive/contextualization-made-simple">Contextualization Made Simple</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/archive/enrichment-complexity-in-the-wild">Enrichment Complexity in the Wild</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/archive/matching-yara-rules-in-byte-pipelines">Matching YARA Rules in Byte Pipelines</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/archive/integrating-velociraptor-into-tenzir-pipelines">Integrating Velociraptor into Tenzir Pipelines</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/archive/five-design-principles-for-building-a-data-pipeline-engine">Five Design Principles for Building a Data Pipeline Engine</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/archive/we-need-to-talk-about-the-cost-of-security-operations-infrastructure">We Need to Talk About the Cost of Security Operations Infrastructure</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/archive/a-first-look-at-esql">A First Look at ES|QL</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/archive/slash-your-siem-cloud-and-data-costs-with-tenzir-security-data-pipelines">Slash Your SIEM, Cloud, and Data Costs with Tenzir Security Data Pipelines</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/archive/introducing-tenzir-security-data-pipelines">Introducing Tenzir Security Data Pipelines</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/archive/tenzir-for-splunk-users">Tenzir for Splunk Users</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/archive/native-zeek-log-rotation-and-shipping">Native Zeek Log Rotation &amp; Shipping</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/archive/shell-yeah-supercharging-zeek-and-suricata-with-tenzir">Shell Yeah! Supercharging Zeek and Suricata with Tenzir</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/archive/zeek-and-ye-shall-pipe">Zeek and Ye Shall Pipe</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/archive/mobilizing-zeek-logs">Mobilizing Zeek Logs</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/archive/migrating-from-vast-to-tenzir">Migrating from VAST to Tenzir</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/archive/vast-to-tenzir">Visibility Across Space and Time is now Tenzir</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/archive/from-slack-to-discord">From Slack to Discord</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/archive/the-new-rest-api">The New REST API</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/archive/parquet-and-feather-data-engineering-woes">Parquet &amp; Feather: Data Engineering Woes</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/archive/parquet-and-feather-writing-security-telemetry">Parquet &amp; Feather: Writing Security Telemetry</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/archive/parquet-and-feather-enabling-open-investigations">Parquet &amp; Feather: Enabling Open Investigations</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/archive/a-git-retrospective">A Git Retrospective</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/archive/richer-typing-in-sigma">Richer Typing in Sigma</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/archive/apache-arrow-as-platform-for-security-data-engineering">Apache Arrow as Platform for Security Data Engineering</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="title_f1Hy" itemprop="headline">Parquet &amp; Feather: Writing Security Telemetry</h1><div class="container_mt6G margin-vert--md"><time datetime="2022-10-24T00:00:00.000Z" itemprop="datePublished">October 24, 2022</time> · <!-- -->27 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/dispanser" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/dispanser.png" alt="Thomas Peiselt"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/dispanser" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Thomas Peiselt</span></a></div><small class="avatar__subtitle" itemprop="description">Data Engineer</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/mavam" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/mavam.png" alt="Matthias Vallentin"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/mavam" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Matthias Vallentin</span></a></div><small class="avatar__subtitle" itemprop="description">Founder &amp; CEO</small></div></div></div></div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody"><p>How does Apache <a href="https://parquet.apache.org/" target="_blank" rel="noopener noreferrer">Parquet</a> compare to <a href="https://arrow.apache.org/docs/python/feather.html" target="_blank" rel="noopener noreferrer">Feather</a> for storing
structured security data? In this blog post, we answer this question.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Parquet &amp; Feather: 2/3</div><div class="admonitionContent_S0QG"><p>This is blog post is part of a 3-piece series on Parquet and Feather.</p><ol><li><a href="/archive/parquet-and-feather-enabling-open-investigations">Enabling Open Investigations</a></li><li>This blog post</li><li><a href="/archive/parquet-and-feather-data-engineering-woes">Data Engineering Woes</a></li></ol></div></div><p>In the <a href="/archive/parquet-and-feather-enabling-open-investigations">previous blog</a>, we explained why Parquet and
Feather are great building blocks for modern investigations. In this blog, we take
a look at how they actually perform on the write path in two dimensions:</p><ul><li><strong>Size</strong>: how much space does typical security telemetry occupy?</li><li><strong>Speed</strong>: how fast can we write out to a store?</li></ul><p>Parquet and Feather have different goals. While Parquet is an on-disk format
that optimizes for size, Feather is a thin layer around the native Arrow
in-memory representation. This puts them at different points in the spectrum of
throughput and latency.</p><p>To better understand this spectrum, we instrumented the write path of VAST,
which consists roughly of the following steps:</p><ol><li>Parse the input</li><li>Convert it into Arrow record batches</li><li>Ship Arrow record batches to a VAST server</li><li>Write Arrow record batches out into a Parquet or Feather store</li><li>Create an index from Arrow record batches</li></ol><p>Since steps (1–3) and (5) are the same for both stores, we ignore them in the
following analysis and solely zoom in on (4).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="dataset">Dataset<a href="#dataset" class="hash-link" aria-label="Direct link to Dataset" title="Direct link to Dataset">​</a></h2><p>For our evaluation, we use a dataset that models a “normal day in a corporate
network” fused with data from for real-world attacks. While this approach might
not be ideal for detection engineering, it provides enough diversity to analyze
storage and processing behavior.</p><p>Specifically, we rely on a 3.77 GB PCAP trace of the <a href="https://www.sciencedirect.com/science/article/pii/S1742287612000370" target="_blank" rel="noopener noreferrer">M57 case study</a>. We
also injected real-world attacks from
<a href="https://www.malware-traffic-analysis.net/index.html" target="_blank" rel="noopener noreferrer">malware-traffic-analysis.net</a> into the PCAP trace. To
make the timestamps look somewhat realistic, we shifted the timestamps of the
PCAPs to pretend that the corresponding activity happens on the same day. For
this we used <a href="https://www.wireshark.org/docs/wsug_html_chunked/AppToolseditcap.html" target="_blank" rel="noopener noreferrer"><code>editcap</code></a> and then merged the resulting PCAPs into one
big file using <a href="https://www.wireshark.org/docs/wsug_html_chunked/AppToolsmergecap.html" target="_blank" rel="noopener noreferrer"><code>mergecap</code></a>.</p><p>We then ran <a href="https://zeek.org" target="_blank" rel="noopener noreferrer">Zeek</a> and <a href="https://suricata.io" target="_blank" rel="noopener noreferrer">Suricata</a> over
the trace to produce structured logs. For full reproducibility, we host this
custom data set in a <a href="https://drive.google.com/drive/folders/1mPJYVGKTk86P2JU3KD-WFz8tUkTLK095?usp=sharing" target="_blank" rel="noopener noreferrer">Google Drive folder</a>.</p><p>VAST can ingest PCAP, Zeek, and Suricata natively. All three data sources are
highly valuable for detection and investigation, which is why we use them in
this analysis. They represent a good mix of nested and structured data (Zeek &amp;
Suricata) vs. simple-but-bulky data (PCAP). To give you a flavor, here’s an
example Zeek log:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">#separator \x09</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#set_separator  ,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#empty_field    (empty)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#unset_field    -</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#path   http</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#open   2022-04-20-09-56-45</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#fields ts  uid id.orig_h   id.orig_p   id.resp_h   id.resp_p   trans_depth method  host    uri referrer    version user_agent  origin  request_body_len    response_body_len   status_code status_msg  info_code   info_msg    tags    username    password    proxied orig_fuids  orig_filenames  orig_mime_types resp_fuids  resp_filenames  resp_mime_types</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#types  time    string  addr    port    addr    port    count   string  string  string  string  string  string  string  count   count   count   string  count   string  set[enum]   string  string  set[string] vector[string]  vector[string]  vector[string]  vector[string]  vector[string]  vector[string]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">1637155963.249475   CrkwBA3xeEV9dzj1n   128.14.134.170  57468   198.71.247.91   80  1   GET 198.71.247.91   /   -   1.1 Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36     -   0   51  200 OK  -   -   (empty) -   -   -   -   -   -   FhEFqzHx1hVpkhWci   -   text/html</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">1637157241.722674   Csf8Re1mi6gYI3JC6f  87.251.64.137   64078   198.71.247.91   80  1   -   -   -   -   1.1 -   -   0   18  400 Bad Request -   -   (empty) -   -   -   -   -   -   FpKcQG2BmJjEU9FXwh  -   text/html</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">1637157318.182504   C1q1Lz1gxAAyf4Wrzk  139.162.242.152 57268   198.71.247.91   80  1   GET 198.71.247.91   /   -   1.1 Mozilla/5.0 (Windows NT 6.1; WOW64; rv:8.0) Gecko/20100101 Firefox/8.0  -   0   51  200 OK  -   -   (empty) -   -   -   -   -   -   FyTOLL1rVGzjXoNAb   -   text/html</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">1637157331.507633   C9FzNf12ebDETzvDLk  172.70.135.112  37220   198.71.247.91   80  1   GET lifeisnetwork.com   /   -   1.1 Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36 -   0   51  200 OK  -   -   (empty) -   -   X-FORWARDED-FOR -&gt; 137.135.117.126  -   -   -   Fnmp6k1xVFoqqIO5Ub  -   text/html</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">1637157331.750342   C9FzNf12ebDETzvDLk  172.70.135.112  37220   198.71.247.91   80  2   GET lifeisnetwork.com   /   -   1.1 Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36 -   0   51  200 OK  -   -   (empty) -   -   X-FORWARDED-FOR -&gt; 137.135.117.126  -   -   -   F1uLr1giTpXx81dP4   -   text/html</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">1637157331.915255   C9FzNf12ebDETzvDLk  172.70.135.112  37220   198.71.247.91   80  3   GET lifeisnetwork.com   /wp-includes/wlwmanifest.xml    -   1.1 Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36 -   0   279 404 Not Found   -   -   (empty) -   -   X-FORWARDED-FOR -&gt; 137.135.117.126  -   -   -   F9dg5w2y748yNX9ZCc  -   text/html</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">1637157331.987527   C9FzNf12ebDETzvDLk  172.70.135.112  37220   198.71.247.91   80  4   GET lifeisnetwork.com   /xmlrpc.php?rsd -   1.1 Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36 -   0   279 404 Not Found   -   -   (empty) -   -   X-FORWARDED-FOR -&gt; 137.135.117.126  -   -   -   FxzLxklm7xyuzTF8h   -   text/html</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Here’s a snippet of a Suricata log:</p><figure data-rehype-pretty-code-figure=""><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span data-line=""><span style="color:#E6EDF3">{</span><span style="color:#7EE787">&quot;timestamp&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;2021-11-17T14:32:43.262184+0100&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;flow_id&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">1129058930499898</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;pcap_cnt&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">7</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;event_type&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;http&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;src_ip&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;128.14.134.170&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;src_port&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">57468</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;dest_ip&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;198.71.247.91&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;dest_port&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">80</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;proto&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;TCP&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;tx_id&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">0</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;community_id&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;1:YXWfTYEyYLKVv5Ge4WqijUnKTrM=&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http&quot;</span><span style="color:#E6EDF3">:{</span><span style="color:#7EE787">&quot;hostname&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;198.71.247.91&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;url&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;/&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_user_agent&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_content_type&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;text/html&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_method&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;GET&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;protocol&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;HTTP/1.1&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;status&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">200</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;length&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">51</span><span style="color:#E6EDF3">}}</span></span>
<span data-line=""><span style="color:#E6EDF3">{</span><span style="color:#7EE787">&quot;timestamp&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;2021-11-17T14:32:43.237882+0100&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;flow_id&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">675134617085815</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;event_type&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;flow&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;src_ip&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;54.176.143.72&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;dest_ip&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;198.71.247.91&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;proto&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;ICMP&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;icmp_type&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">8</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;icmp_code&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">0</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;response_icmp_type&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">0</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;response_icmp_code&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">0</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;flow&quot;</span><span style="color:#E6EDF3">:{</span><span style="color:#7EE787">&quot;pkts_toserver&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">1</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;pkts_toclient&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">1</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;bytes_toserver&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">50</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;bytes_toclient&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">50</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;start&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;2021-11-17T14:43:34.649079+0100&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;end&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;2021-11-17T14:43:34.649210+0100&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;age&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">0</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;state&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;established&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;reason&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;timeout&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;alerted&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">false</span><span style="color:#E6EDF3">},</span><span style="color:#7EE787">&quot;community_id&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;1:WHH+8OuOygRPi50vrH45p9WwgA4=&quot;</span><span style="color:#E6EDF3">}</span></span>
<span data-line=""><span style="color:#E6EDF3">{</span><span style="color:#7EE787">&quot;timestamp&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;2021-11-17T14:32:48.254950+0100&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;flow_id&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">1129058930499898</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;pcap_cnt&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">10</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;event_type&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;fileinfo&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;src_ip&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;198.71.247.91&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;src_port&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">80</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;dest_ip&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;128.14.134.170&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;dest_port&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">57468</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;proto&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;TCP&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http&quot;</span><span style="color:#E6EDF3">:{</span><span style="color:#7EE787">&quot;hostname&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;198.71.247.91&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;url&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;/&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_user_agent&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_content_type&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;text/html&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_method&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;GET&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;protocol&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;HTTP/1.1&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;status&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">200</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;length&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">51</span><span style="color:#E6EDF3">},</span><span style="color:#7EE787">&quot;app_proto&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;http&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;fileinfo&quot;</span><span style="color:#E6EDF3">:{</span><span style="color:#7EE787">&quot;filename&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;/&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;sid&quot;</span><span style="color:#E6EDF3">:[],</span><span style="color:#7EE787">&quot;gaps&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">false</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;state&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;CLOSED&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;stored&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">false</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;size&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">51</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;tx_id&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">0</span><span style="color:#E6EDF3">}}</span></span>
<span data-line=""><span style="color:#E6EDF3">{</span><span style="color:#7EE787">&quot;timestamp&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;2021-11-17T14:55:18.327585+0100&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;flow_id&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">652708491465446</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;pcap_cnt&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">206</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;event_type&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;http&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;src_ip&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;139.162.242.152&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;src_port&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">57268</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;dest_ip&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;198.71.247.91&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;dest_port&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">80</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;proto&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;TCP&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;tx_id&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">0</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;community_id&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;1:gEyyy4v7MJSsjLvl+3D17G/rOIY=&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http&quot;</span><span style="color:#E6EDF3">:{</span><span style="color:#7EE787">&quot;hostname&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;198.71.247.91&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;url&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;/&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_user_agent&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;Mozilla/5.0 (Windows NT 6.1; WOW64; rv:8.0) Gecko/20100101 Firefox/8.0&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_content_type&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;text/html&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_method&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;GET&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;protocol&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;HTTP/1.1&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;status&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">200</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;length&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">51</span><span style="color:#E6EDF3">}}</span></span>
<span data-line=""><span style="color:#E6EDF3">{</span><span style="color:#7EE787">&quot;timestamp&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;2021-11-17T14:55:18.329669+0100&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;flow_id&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">652708491465446</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;pcap_cnt&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">208</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;event_type&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;fileinfo&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;src_ip&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;198.71.247.91&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;src_port&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">80</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;dest_ip&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;139.162.242.152&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;dest_port&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">57268</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;proto&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;TCP&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http&quot;</span><span style="color:#E6EDF3">:{</span><span style="color:#7EE787">&quot;hostname&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;198.71.247.91&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;url&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;/&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_user_agent&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;Mozilla/5.0 (Windows NT 6.1; WOW64; rv:8.0) Gecko/20100101 Firefox/8.0&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_content_type&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;text/html&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_method&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;GET&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;protocol&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;HTTP/1.1&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;status&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">200</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;length&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">51</span><span style="color:#E6EDF3">},</span><span style="color:#7EE787">&quot;app_proto&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;http&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;fileinfo&quot;</span><span style="color:#E6EDF3">:{</span><span style="color:#7EE787">&quot;filename&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;/&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;sid&quot;</span><span style="color:#E6EDF3">:[],</span><span style="color:#7EE787">&quot;gaps&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">false</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;state&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;CLOSED&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;stored&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">false</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;size&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">51</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;tx_id&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">0</span><span style="color:#E6EDF3">}}</span></span>
<span data-line=""><span style="color:#E6EDF3">{</span><span style="color:#7EE787">&quot;timestamp&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;2021-11-17T14:55:31.569634+0100&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;flow_id&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">987097466129838</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;pcap_cnt&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">224</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;event_type&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;http&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;src_ip&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;172.70.135.112&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;src_port&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">37220</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;dest_ip&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;198.71.247.91&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;dest_port&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">80</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;proto&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;TCP&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;tx_id&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">0</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;community_id&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;1:7YaniZQ3kx5r62SiXkvH9P6TINQ=&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http&quot;</span><span style="color:#E6EDF3">:{</span><span style="color:#7EE787">&quot;hostname&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;lifeisnetwork.com&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;url&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;/&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_user_agent&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;xff&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;137.135.117.126&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_content_type&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;text/html&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_method&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;GET&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;protocol&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;HTTP/1.1&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;status&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">200</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;length&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">51</span><span style="color:#E6EDF3">}}</span></span>
<span data-line=""><span style="color:#E6EDF3">{</span><span style="color:#7EE787">&quot;timestamp&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;2021-11-17T14:55:31.750383+0100&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;flow_id&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">987097466129838</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;pcap_cnt&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">226</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;event_type&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;fileinfo&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;src_ip&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;198.71.247.91&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;src_port&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">80</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;dest_ip&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;172.70.135.112&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;dest_port&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">37220</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;proto&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;TCP&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http&quot;</span><span style="color:#E6EDF3">:{</span><span style="color:#7EE787">&quot;hostname&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;lifeisnetwork.com&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;url&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;/&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_user_agent&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;xff&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;137.135.117.126&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_content_type&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;text/html&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_method&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;GET&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;protocol&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;HTTP/1.1&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;status&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">200</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;length&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">51</span><span style="color:#E6EDF3">},</span><span style="color:#7EE787">&quot;app_proto&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;http&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;fileinfo&quot;</span><span style="color:#E6EDF3">:{</span><span style="color:#7EE787">&quot;filename&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;/&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;sid&quot;</span><span style="color:#E6EDF3">:[],</span><span style="color:#7EE787">&quot;gaps&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">false</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;state&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;CLOSED&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;stored&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">false</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;size&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">51</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;tx_id&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">0</span><span style="color:#E6EDF3">}}</span></span>
<span data-line=""><span style="color:#E6EDF3">{</span><span style="color:#7EE787">&quot;timestamp&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;2021-11-17T14:55:31.812254+0100&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;flow_id&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">987097466129838</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;pcap_cnt&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">228</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;event_type&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;http&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;src_ip&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;172.70.135.112&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;src_port&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">37220</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;dest_ip&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;198.71.247.91&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;dest_port&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">80</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;proto&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;TCP&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;tx_id&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">1</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;community_id&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;1:7YaniZQ3kx5r62SiXkvH9P6TINQ=&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http&quot;</span><span style="color:#E6EDF3">:{</span><span style="color:#7EE787">&quot;hostname&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;lifeisnetwork.com&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;url&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;/&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_user_agent&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;xff&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;137.135.117.126&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_content_type&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;text/html&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_method&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;GET&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;protocol&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;HTTP/1.1&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;status&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">200</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;length&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">51</span><span style="color:#E6EDF3">}}</span></span>
<span data-line=""><span style="color:#E6EDF3">{</span><span style="color:#7EE787">&quot;timestamp&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;2021-11-17T14:55:31.915298+0100&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;flow_id&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">987097466129838</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;pcap_cnt&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">230</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;event_type&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;fileinfo&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;src_ip&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;198.71.247.91&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;src_port&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">80</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;dest_ip&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;172.70.135.112&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;dest_port&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">37220</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;proto&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;TCP&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http&quot;</span><span style="color:#E6EDF3">:{</span><span style="color:#7EE787">&quot;hostname&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;lifeisnetwork.com&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;url&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;/&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_user_agent&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;xff&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;137.135.117.126&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_content_type&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;text/html&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_method&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;GET&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;protocol&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;HTTP/1.1&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;status&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">200</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;length&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">51</span><span style="color:#E6EDF3">},</span><span style="color:#7EE787">&quot;app_proto&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;http&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;fileinfo&quot;</span><span style="color:#E6EDF3">:{</span><span style="color:#7EE787">&quot;filename&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;/&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;sid&quot;</span><span style="color:#E6EDF3">:[],</span><span style="color:#7EE787">&quot;gaps&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">false</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;state&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;CLOSED&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;stored&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">false</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;size&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">51</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;tx_id&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">1</span><span style="color:#E6EDF3">}}</span></span>
<span data-line=""><span style="color:#E6EDF3">{</span><span style="color:#7EE787">&quot;timestamp&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;2021-11-17T14:55:31.977269+0100&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;flow_id&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">987097466129838</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;pcap_cnt&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">232</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;event_type&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;http&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;src_ip&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;172.70.135.112&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;src_port&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">37220</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;dest_ip&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;198.71.247.91&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;dest_port&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">80</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;proto&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;TCP&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;tx_id&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">2</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;community_id&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;1:7YaniZQ3kx5r62SiXkvH9P6TINQ=&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http&quot;</span><span style="color:#E6EDF3">:{</span><span style="color:#7EE787">&quot;hostname&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;lifeisnetwork.com&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;url&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;/wp-includes/wlwmanifest.xml&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_user_agent&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;xff&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;137.135.117.126&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_content_type&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;text/html&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_method&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;GET&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;protocol&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;HTTP/1.1&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;status&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">404</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;length&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">279</span><span style="color:#E6EDF3">}}</span></span>
<span data-line=""><span style="color:#E6EDF3">{</span><span style="color:#7EE787">&quot;timestamp&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;2021-11-17T14:55:31.987556+0100&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;flow_id&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">987097466129838</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;pcap_cnt&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">234</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;event_type&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;fileinfo&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;src_ip&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;198.71.247.91&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;src_port&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">80</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;dest_ip&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;172.70.135.112&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;dest_port&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">37220</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;proto&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;TCP&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http&quot;</span><span style="color:#E6EDF3">:{</span><span style="color:#7EE787">&quot;hostname&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;lifeisnetwork.com&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;url&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;/wp-includes/wlwmanifest.xml&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_user_agent&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;xff&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;137.135.117.126&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_content_type&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;text/html&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_method&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;GET&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;protocol&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;HTTP/1.1&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;status&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">404</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;length&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">279</span><span style="color:#E6EDF3">},</span><span style="color:#7EE787">&quot;app_proto&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;http&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;fileinfo&quot;</span><span style="color:#E6EDF3">:{</span><span style="color:#7EE787">&quot;filename&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;/wp-includes/wlwmanifest.xml&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;sid&quot;</span><span style="color:#E6EDF3">:[],</span><span style="color:#7EE787">&quot;gaps&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">false</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;state&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;CLOSED&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;stored&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">false</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;size&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">279</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;tx_id&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">2</span><span style="color:#E6EDF3">}}</span></span>
<span data-line=""><span style="color:#E6EDF3">{</span><span style="color:#7EE787">&quot;timestamp&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;2021-11-17T14:55:32.049539+0100&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;flow_id&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">987097466129838</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;pcap_cnt&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">236</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;event_type&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;http&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;src_ip&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;172.70.135.112&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;src_port&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">37220</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;dest_ip&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;198.71.247.91&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;dest_port&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">80</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;proto&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;TCP&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;tx_id&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">3</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;community_id&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;1:7YaniZQ3kx5r62SiXkvH9P6TINQ=&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http&quot;</span><span style="color:#E6EDF3">:{</span><span style="color:#7EE787">&quot;hostname&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;lifeisnetwork.com&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;url&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;/xmlrpc.php?rsd&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_user_agent&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;xff&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;137.135.117.126&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_content_type&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;text/html&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_method&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;GET&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;protocol&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;HTTP/1.1&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;status&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">404</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;length&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">279</span><span style="color:#E6EDF3">}}</span></span>
<span data-line=""><span style="color:#E6EDF3">{</span><span style="color:#7EE787">&quot;timestamp&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;2021-11-17T14:55:32.057985+0100&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;flow_id&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">987097466129838</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;pcap_cnt&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">238</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;event_type&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;fileinfo&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;src_ip&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;198.71.247.91&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;src_port&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">80</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;dest_ip&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;172.70.135.112&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;dest_port&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">37220</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;proto&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;TCP&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http&quot;</span><span style="color:#E6EDF3">:{</span><span style="color:#7EE787">&quot;hostname&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;lifeisnetwork.com&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;url&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;/xmlrpc.php?rsd&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_user_agent&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;xff&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;137.135.117.126&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_content_type&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;text/html&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_method&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;GET&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;protocol&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;HTTP/1.1&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;status&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">404</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;length&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">279</span><span style="color:#E6EDF3">},</span><span style="color:#7EE787">&quot;app_proto&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;http&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;fileinfo&quot;</span><span style="color:#E6EDF3">:{</span><span style="color:#7EE787">&quot;filename&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;/xmlrpc.php&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;sid&quot;</span><span style="color:#E6EDF3">:[],</span><span style="color:#7EE787">&quot;gaps&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">false</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;state&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;CLOSED&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;stored&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">false</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;size&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">279</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;tx_id&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">3</span><span style="color:#E6EDF3">}}</span></span>
<span data-line=""><span style="color:#E6EDF3">{</span><span style="color:#7EE787">&quot;timestamp&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;2021-11-17T14:55:32.119589+0100&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;flow_id&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">987097466129838</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;pcap_cnt&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">239</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;event_type&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;http&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;src_ip&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;172.70.135.112&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;src_port&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">37220</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;dest_ip&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;198.71.247.91&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;dest_port&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">80</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;proto&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;TCP&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;tx_id&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">4</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;community_id&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;1:7YaniZQ3kx5r62SiXkvH9P6TINQ=&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http&quot;</span><span style="color:#E6EDF3">:{</span><span style="color:#7EE787">&quot;hostname&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;lifeisnetwork.com&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;url&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;/&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_user_agent&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;xff&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;137.135.117.126&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_content_type&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;text/html&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_method&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;GET&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;protocol&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;HTTP/1.1&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;status&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">200</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;length&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">51</span><span style="color:#E6EDF3">}}</span></span>
<span data-line=""><span style="color:#E6EDF3">{</span><span style="color:#7EE787">&quot;timestamp&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;2021-11-17T14:55:32.127935+0100&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;flow_id&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">987097466129838</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;pcap_cnt&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">241</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;event_type&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;fileinfo&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;src_ip&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;198.71.247.91&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;src_port&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">80</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;dest_ip&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;172.70.135.112&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;dest_port&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">37220</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;proto&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;TCP&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http&quot;</span><span style="color:#E6EDF3">:{</span><span style="color:#7EE787">&quot;hostname&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;lifeisnetwork.com&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;url&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;/&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_user_agent&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;xff&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;137.135.117.126&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_content_type&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;text/html&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;http_method&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;GET&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;protocol&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;HTTP/1.1&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;status&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">200</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;length&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">51</span><span style="color:#E6EDF3">},</span><span style="color:#7EE787">&quot;app_proto&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;http&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;fileinfo&quot;</span><span style="color:#E6EDF3">:{</span><span style="color:#7EE787">&quot;filename&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;/&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;sid&quot;</span><span style="color:#E6EDF3">:[],</span><span style="color:#7EE787">&quot;gaps&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">false</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;state&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#A5D6FF">&quot;CLOSED&quot;</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;stored&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">false</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;size&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">51</span><span style="color:#E6EDF3">,</span><span style="color:#7EE787">&quot;tx_id&quot;</span><span style="color:#E6EDF3">:</span><span style="color:#79C0FF">4</span><span style="color:#E6EDF3">}}</span></span></code></pre><button type="button" data="{&quot;timestamp&quot;:&quot;2021-11-17T14:32:43.262184+0100&quot;,&quot;flow_id&quot;:1129058930499898,&quot;pcap_cnt&quot;:7,&quot;event_type&quot;:&quot;http&quot;,&quot;src_ip&quot;:&quot;128.14.134.170&quot;,&quot;src_port&quot;:57468,&quot;dest_ip&quot;:&quot;198.71.247.91&quot;,&quot;dest_port&quot;:80,&quot;proto&quot;:&quot;TCP&quot;,&quot;tx_id&quot;:0,&quot;community_id&quot;:&quot;1:YXWfTYEyYLKVv5Ge4WqijUnKTrM=&quot;,&quot;http&quot;:{&quot;hostname&quot;:&quot;198.71.247.91&quot;,&quot;url&quot;:&quot;/&quot;,&quot;http_user_agent&quot;:&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36&quot;,&quot;http_content_type&quot;:&quot;text/html&quot;,&quot;http_method&quot;:&quot;GET&quot;,&quot;protocol&quot;:&quot;HTTP/1.1&quot;,&quot;status&quot;:200,&quot;length&quot;:51}}
{&quot;timestamp&quot;:&quot;2021-11-17T14:32:43.237882+0100&quot;,&quot;flow_id&quot;:675134617085815,&quot;event_type&quot;:&quot;flow&quot;,&quot;src_ip&quot;:&quot;54.176.143.72&quot;,&quot;dest_ip&quot;:&quot;198.71.247.91&quot;,&quot;proto&quot;:&quot;ICMP&quot;,&quot;icmp_type&quot;:8,&quot;icmp_code&quot;:0,&quot;response_icmp_type&quot;:0,&quot;response_icmp_code&quot;:0,&quot;flow&quot;:{&quot;pkts_toserver&quot;:1,&quot;pkts_toclient&quot;:1,&quot;bytes_toserver&quot;:50,&quot;bytes_toclient&quot;:50,&quot;start&quot;:&quot;2021-11-17T14:43:34.649079+0100&quot;,&quot;end&quot;:&quot;2021-11-17T14:43:34.649210+0100&quot;,&quot;age&quot;:0,&quot;state&quot;:&quot;established&quot;,&quot;reason&quot;:&quot;timeout&quot;,&quot;alerted&quot;:false},&quot;community_id&quot;:&quot;1:WHH+8OuOygRPi50vrH45p9WwgA4=&quot;}
{&quot;timestamp&quot;:&quot;2021-11-17T14:32:48.254950+0100&quot;,&quot;flow_id&quot;:1129058930499898,&quot;pcap_cnt&quot;:10,&quot;event_type&quot;:&quot;fileinfo&quot;,&quot;src_ip&quot;:&quot;198.71.247.91&quot;,&quot;src_port&quot;:80,&quot;dest_ip&quot;:&quot;128.14.134.170&quot;,&quot;dest_port&quot;:57468,&quot;proto&quot;:&quot;TCP&quot;,&quot;http&quot;:{&quot;hostname&quot;:&quot;198.71.247.91&quot;,&quot;url&quot;:&quot;/&quot;,&quot;http_user_agent&quot;:&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36&quot;,&quot;http_content_type&quot;:&quot;text/html&quot;,&quot;http_method&quot;:&quot;GET&quot;,&quot;protocol&quot;:&quot;HTTP/1.1&quot;,&quot;status&quot;:200,&quot;length&quot;:51},&quot;app_proto&quot;:&quot;http&quot;,&quot;fileinfo&quot;:{&quot;filename&quot;:&quot;/&quot;,&quot;sid&quot;:[],&quot;gaps&quot;:false,&quot;state&quot;:&quot;CLOSED&quot;,&quot;stored&quot;:false,&quot;size&quot;:51,&quot;tx_id&quot;:0}}
{&quot;timestamp&quot;:&quot;2021-11-17T14:55:18.327585+0100&quot;,&quot;flow_id&quot;:652708491465446,&quot;pcap_cnt&quot;:206,&quot;event_type&quot;:&quot;http&quot;,&quot;src_ip&quot;:&quot;139.162.242.152&quot;,&quot;src_port&quot;:57268,&quot;dest_ip&quot;:&quot;198.71.247.91&quot;,&quot;dest_port&quot;:80,&quot;proto&quot;:&quot;TCP&quot;,&quot;tx_id&quot;:0,&quot;community_id&quot;:&quot;1:gEyyy4v7MJSsjLvl+3D17G/rOIY=&quot;,&quot;http&quot;:{&quot;hostname&quot;:&quot;198.71.247.91&quot;,&quot;url&quot;:&quot;/&quot;,&quot;http_user_agent&quot;:&quot;Mozilla/5.0 (Windows NT 6.1; WOW64; rv:8.0) Gecko/20100101 Firefox/8.0&quot;,&quot;http_content_type&quot;:&quot;text/html&quot;,&quot;http_method&quot;:&quot;GET&quot;,&quot;protocol&quot;:&quot;HTTP/1.1&quot;,&quot;status&quot;:200,&quot;length&quot;:51}}
{&quot;timestamp&quot;:&quot;2021-11-17T14:55:18.329669+0100&quot;,&quot;flow_id&quot;:652708491465446,&quot;pcap_cnt&quot;:208,&quot;event_type&quot;:&quot;fileinfo&quot;,&quot;src_ip&quot;:&quot;198.71.247.91&quot;,&quot;src_port&quot;:80,&quot;dest_ip&quot;:&quot;139.162.242.152&quot;,&quot;dest_port&quot;:57268,&quot;proto&quot;:&quot;TCP&quot;,&quot;http&quot;:{&quot;hostname&quot;:&quot;198.71.247.91&quot;,&quot;url&quot;:&quot;/&quot;,&quot;http_user_agent&quot;:&quot;Mozilla/5.0 (Windows NT 6.1; WOW64; rv:8.0) Gecko/20100101 Firefox/8.0&quot;,&quot;http_content_type&quot;:&quot;text/html&quot;,&quot;http_method&quot;:&quot;GET&quot;,&quot;protocol&quot;:&quot;HTTP/1.1&quot;,&quot;status&quot;:200,&quot;length&quot;:51},&quot;app_proto&quot;:&quot;http&quot;,&quot;fileinfo&quot;:{&quot;filename&quot;:&quot;/&quot;,&quot;sid&quot;:[],&quot;gaps&quot;:false,&quot;state&quot;:&quot;CLOSED&quot;,&quot;stored&quot;:false,&quot;size&quot;:51,&quot;tx_id&quot;:0}}
{&quot;timestamp&quot;:&quot;2021-11-17T14:55:31.569634+0100&quot;,&quot;flow_id&quot;:987097466129838,&quot;pcap_cnt&quot;:224,&quot;event_type&quot;:&quot;http&quot;,&quot;src_ip&quot;:&quot;172.70.135.112&quot;,&quot;src_port&quot;:37220,&quot;dest_ip&quot;:&quot;198.71.247.91&quot;,&quot;dest_port&quot;:80,&quot;proto&quot;:&quot;TCP&quot;,&quot;tx_id&quot;:0,&quot;community_id&quot;:&quot;1:7YaniZQ3kx5r62SiXkvH9P6TINQ=&quot;,&quot;http&quot;:{&quot;hostname&quot;:&quot;lifeisnetwork.com&quot;,&quot;url&quot;:&quot;/&quot;,&quot;http_user_agent&quot;:&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36&quot;,&quot;xff&quot;:&quot;137.135.117.126&quot;,&quot;http_content_type&quot;:&quot;text/html&quot;,&quot;http_method&quot;:&quot;GET&quot;,&quot;protocol&quot;:&quot;HTTP/1.1&quot;,&quot;status&quot;:200,&quot;length&quot;:51}}
{&quot;timestamp&quot;:&quot;2021-11-17T14:55:31.750383+0100&quot;,&quot;flow_id&quot;:987097466129838,&quot;pcap_cnt&quot;:226,&quot;event_type&quot;:&quot;fileinfo&quot;,&quot;src_ip&quot;:&quot;198.71.247.91&quot;,&quot;src_port&quot;:80,&quot;dest_ip&quot;:&quot;172.70.135.112&quot;,&quot;dest_port&quot;:37220,&quot;proto&quot;:&quot;TCP&quot;,&quot;http&quot;:{&quot;hostname&quot;:&quot;lifeisnetwork.com&quot;,&quot;url&quot;:&quot;/&quot;,&quot;http_user_agent&quot;:&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36&quot;,&quot;xff&quot;:&quot;137.135.117.126&quot;,&quot;http_content_type&quot;:&quot;text/html&quot;,&quot;http_method&quot;:&quot;GET&quot;,&quot;protocol&quot;:&quot;HTTP/1.1&quot;,&quot;status&quot;:200,&quot;length&quot;:51},&quot;app_proto&quot;:&quot;http&quot;,&quot;fileinfo&quot;:{&quot;filename&quot;:&quot;/&quot;,&quot;sid&quot;:[],&quot;gaps&quot;:false,&quot;state&quot;:&quot;CLOSED&quot;,&quot;stored&quot;:false,&quot;size&quot;:51,&quot;tx_id&quot;:0}}
{&quot;timestamp&quot;:&quot;2021-11-17T14:55:31.812254+0100&quot;,&quot;flow_id&quot;:987097466129838,&quot;pcap_cnt&quot;:228,&quot;event_type&quot;:&quot;http&quot;,&quot;src_ip&quot;:&quot;172.70.135.112&quot;,&quot;src_port&quot;:37220,&quot;dest_ip&quot;:&quot;198.71.247.91&quot;,&quot;dest_port&quot;:80,&quot;proto&quot;:&quot;TCP&quot;,&quot;tx_id&quot;:1,&quot;community_id&quot;:&quot;1:7YaniZQ3kx5r62SiXkvH9P6TINQ=&quot;,&quot;http&quot;:{&quot;hostname&quot;:&quot;lifeisnetwork.com&quot;,&quot;url&quot;:&quot;/&quot;,&quot;http_user_agent&quot;:&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36&quot;,&quot;xff&quot;:&quot;137.135.117.126&quot;,&quot;http_content_type&quot;:&quot;text/html&quot;,&quot;http_method&quot;:&quot;GET&quot;,&quot;protocol&quot;:&quot;HTTP/1.1&quot;,&quot;status&quot;:200,&quot;length&quot;:51}}
{&quot;timestamp&quot;:&quot;2021-11-17T14:55:31.915298+0100&quot;,&quot;flow_id&quot;:987097466129838,&quot;pcap_cnt&quot;:230,&quot;event_type&quot;:&quot;fileinfo&quot;,&quot;src_ip&quot;:&quot;198.71.247.91&quot;,&quot;src_port&quot;:80,&quot;dest_ip&quot;:&quot;172.70.135.112&quot;,&quot;dest_port&quot;:37220,&quot;proto&quot;:&quot;TCP&quot;,&quot;http&quot;:{&quot;hostname&quot;:&quot;lifeisnetwork.com&quot;,&quot;url&quot;:&quot;/&quot;,&quot;http_user_agent&quot;:&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36&quot;,&quot;xff&quot;:&quot;137.135.117.126&quot;,&quot;http_content_type&quot;:&quot;text/html&quot;,&quot;http_method&quot;:&quot;GET&quot;,&quot;protocol&quot;:&quot;HTTP/1.1&quot;,&quot;status&quot;:200,&quot;length&quot;:51},&quot;app_proto&quot;:&quot;http&quot;,&quot;fileinfo&quot;:{&quot;filename&quot;:&quot;/&quot;,&quot;sid&quot;:[],&quot;gaps&quot;:false,&quot;state&quot;:&quot;CLOSED&quot;,&quot;stored&quot;:false,&quot;size&quot;:51,&quot;tx_id&quot;:1}}
{&quot;timestamp&quot;:&quot;2021-11-17T14:55:31.977269+0100&quot;,&quot;flow_id&quot;:987097466129838,&quot;pcap_cnt&quot;:232,&quot;event_type&quot;:&quot;http&quot;,&quot;src_ip&quot;:&quot;172.70.135.112&quot;,&quot;src_port&quot;:37220,&quot;dest_ip&quot;:&quot;198.71.247.91&quot;,&quot;dest_port&quot;:80,&quot;proto&quot;:&quot;TCP&quot;,&quot;tx_id&quot;:2,&quot;community_id&quot;:&quot;1:7YaniZQ3kx5r62SiXkvH9P6TINQ=&quot;,&quot;http&quot;:{&quot;hostname&quot;:&quot;lifeisnetwork.com&quot;,&quot;url&quot;:&quot;/wp-includes/wlwmanifest.xml&quot;,&quot;http_user_agent&quot;:&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36&quot;,&quot;xff&quot;:&quot;137.135.117.126&quot;,&quot;http_content_type&quot;:&quot;text/html&quot;,&quot;http_method&quot;:&quot;GET&quot;,&quot;protocol&quot;:&quot;HTTP/1.1&quot;,&quot;status&quot;:404,&quot;length&quot;:279}}
{&quot;timestamp&quot;:&quot;2021-11-17T14:55:31.987556+0100&quot;,&quot;flow_id&quot;:987097466129838,&quot;pcap_cnt&quot;:234,&quot;event_type&quot;:&quot;fileinfo&quot;,&quot;src_ip&quot;:&quot;198.71.247.91&quot;,&quot;src_port&quot;:80,&quot;dest_ip&quot;:&quot;172.70.135.112&quot;,&quot;dest_port&quot;:37220,&quot;proto&quot;:&quot;TCP&quot;,&quot;http&quot;:{&quot;hostname&quot;:&quot;lifeisnetwork.com&quot;,&quot;url&quot;:&quot;/wp-includes/wlwmanifest.xml&quot;,&quot;http_user_agent&quot;:&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36&quot;,&quot;xff&quot;:&quot;137.135.117.126&quot;,&quot;http_content_type&quot;:&quot;text/html&quot;,&quot;http_method&quot;:&quot;GET&quot;,&quot;protocol&quot;:&quot;HTTP/1.1&quot;,&quot;status&quot;:404,&quot;length&quot;:279},&quot;app_proto&quot;:&quot;http&quot;,&quot;fileinfo&quot;:{&quot;filename&quot;:&quot;/wp-includes/wlwmanifest.xml&quot;,&quot;sid&quot;:[],&quot;gaps&quot;:false,&quot;state&quot;:&quot;CLOSED&quot;,&quot;stored&quot;:false,&quot;size&quot;:279,&quot;tx_id&quot;:2}}
{&quot;timestamp&quot;:&quot;2021-11-17T14:55:32.049539+0100&quot;,&quot;flow_id&quot;:987097466129838,&quot;pcap_cnt&quot;:236,&quot;event_type&quot;:&quot;http&quot;,&quot;src_ip&quot;:&quot;172.70.135.112&quot;,&quot;src_port&quot;:37220,&quot;dest_ip&quot;:&quot;198.71.247.91&quot;,&quot;dest_port&quot;:80,&quot;proto&quot;:&quot;TCP&quot;,&quot;tx_id&quot;:3,&quot;community_id&quot;:&quot;1:7YaniZQ3kx5r62SiXkvH9P6TINQ=&quot;,&quot;http&quot;:{&quot;hostname&quot;:&quot;lifeisnetwork.com&quot;,&quot;url&quot;:&quot;/xmlrpc.php?rsd&quot;,&quot;http_user_agent&quot;:&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36&quot;,&quot;xff&quot;:&quot;137.135.117.126&quot;,&quot;http_content_type&quot;:&quot;text/html&quot;,&quot;http_method&quot;:&quot;GET&quot;,&quot;protocol&quot;:&quot;HTTP/1.1&quot;,&quot;status&quot;:404,&quot;length&quot;:279}}
{&quot;timestamp&quot;:&quot;2021-11-17T14:55:32.057985+0100&quot;,&quot;flow_id&quot;:987097466129838,&quot;pcap_cnt&quot;:238,&quot;event_type&quot;:&quot;fileinfo&quot;,&quot;src_ip&quot;:&quot;198.71.247.91&quot;,&quot;src_port&quot;:80,&quot;dest_ip&quot;:&quot;172.70.135.112&quot;,&quot;dest_port&quot;:37220,&quot;proto&quot;:&quot;TCP&quot;,&quot;http&quot;:{&quot;hostname&quot;:&quot;lifeisnetwork.com&quot;,&quot;url&quot;:&quot;/xmlrpc.php?rsd&quot;,&quot;http_user_agent&quot;:&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36&quot;,&quot;xff&quot;:&quot;137.135.117.126&quot;,&quot;http_content_type&quot;:&quot;text/html&quot;,&quot;http_method&quot;:&quot;GET&quot;,&quot;protocol&quot;:&quot;HTTP/1.1&quot;,&quot;status&quot;:404,&quot;length&quot;:279},&quot;app_proto&quot;:&quot;http&quot;,&quot;fileinfo&quot;:{&quot;filename&quot;:&quot;/xmlrpc.php&quot;,&quot;sid&quot;:[],&quot;gaps&quot;:false,&quot;state&quot;:&quot;CLOSED&quot;,&quot;stored&quot;:false,&quot;size&quot;:279,&quot;tx_id&quot;:3}}
{&quot;timestamp&quot;:&quot;2021-11-17T14:55:32.119589+0100&quot;,&quot;flow_id&quot;:987097466129838,&quot;pcap_cnt&quot;:239,&quot;event_type&quot;:&quot;http&quot;,&quot;src_ip&quot;:&quot;172.70.135.112&quot;,&quot;src_port&quot;:37220,&quot;dest_ip&quot;:&quot;198.71.247.91&quot;,&quot;dest_port&quot;:80,&quot;proto&quot;:&quot;TCP&quot;,&quot;tx_id&quot;:4,&quot;community_id&quot;:&quot;1:7YaniZQ3kx5r62SiXkvH9P6TINQ=&quot;,&quot;http&quot;:{&quot;hostname&quot;:&quot;lifeisnetwork.com&quot;,&quot;url&quot;:&quot;/&quot;,&quot;http_user_agent&quot;:&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36&quot;,&quot;xff&quot;:&quot;137.135.117.126&quot;,&quot;http_content_type&quot;:&quot;text/html&quot;,&quot;http_method&quot;:&quot;GET&quot;,&quot;protocol&quot;:&quot;HTTP/1.1&quot;,&quot;status&quot;:200,&quot;length&quot;:51}}
{&quot;timestamp&quot;:&quot;2021-11-17T14:55:32.127935+0100&quot;,&quot;flow_id&quot;:987097466129838,&quot;pcap_cnt&quot;:241,&quot;event_type&quot;:&quot;fileinfo&quot;,&quot;src_ip&quot;:&quot;198.71.247.91&quot;,&quot;src_port&quot;:80,&quot;dest_ip&quot;:&quot;172.70.135.112&quot;,&quot;dest_port&quot;:37220,&quot;proto&quot;:&quot;TCP&quot;,&quot;http&quot;:{&quot;hostname&quot;:&quot;lifeisnetwork.com&quot;,&quot;url&quot;:&quot;/&quot;,&quot;http_user_agent&quot;:&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36&quot;,&quot;xff&quot;:&quot;137.135.117.126&quot;,&quot;http_content_type&quot;:&quot;text/html&quot;,&quot;http_method&quot;:&quot;GET&quot;,&quot;protocol&quot;:&quot;HTTP/1.1&quot;,&quot;status&quot;:200,&quot;length&quot;:51},&quot;app_proto&quot;:&quot;http&quot;,&quot;fileinfo&quot;:{&quot;filename&quot;:&quot;/&quot;,&quot;sid&quot;:[],&quot;gaps&quot;:false,&quot;state&quot;:&quot;CLOSED&quot;,&quot;stored&quot;:false,&quot;size&quot;:51,&quot;tx_id&quot;:4}}" title="Copy code" aria-label="Copy code" class="rehype-pretty-copy" data-feedback-duration="3000" data-name="rehype-pretty-copy-button"><span class="ready"></span><span class="success"></span></button><style>
    :root {
      --copy-icon: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDM2IDM2Ij48cmVjdCB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjYmZjN2Q1IiBkPSJNMjkuNSA3aC0xOUExLjUgMS41IDAgMCAwIDkgOC41djI0YTEuNSAxLjUgMCAwIDAgMS41IDEuNWgxOWExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTI0QTEuNSAxLjUgMCAwIDAgMjkuNSA3TTI5IDMySDExVjloMThaIiBjbGFzcz0iY2xyLWktb3V0bGluZSBjbHItaS1vdXRsaW5lLXBhdGgtMSIvPjxwYXRoIGZpbGw9IiNiZmM3ZDUiIGQ9Ik0yNiAzLjVBMS41IDEuNSAwIDAgMCAyNC41IDJoLTE5QTEuNSAxLjUgMCAwIDAgNCAzLjV2MjRBMS41IDEuNSAwIDAgMCA1LjUgMjlINlY0aDIwWiIgY2xhc3M9ImNsci1pLW91dGxpbmUgY2xyLWktb3V0bGluZS1wYXRoLTIiLz48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDM2djM2SDB6Ii8+PC9zdmc+&quot;);
      --success-icon: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cmVjdCB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjMDBkNjAwIiBkPSJNMjEgN0w5IDE5bC01LjUtNS41bDEuNDEtMS40MUw5IDE2LjE3TDE5LjU5IDUuNTl6Ii8+PC9zdmc+&quot;);
    }

    pre:has(code) {
      position: relative;
    }

    button[data=&#x27;&lt;span&gt;&#x27;] {
      width: 0;
      height: 0;
      display: none;
      visibility: hidden;
    }

    pre button.rehype-pretty-copy {
      top: 1px;
      right: 1px;
      padding: 0;
      width: 24px;
      height: 24px;
      display: flex;
      cursor: pointer;
      margin-top: 8px;
      margin-right: 8px;
      position: absolute;
      border-radius: 25%;
      &amp; span {
        width: 100%;
        aspect-ratio: 1 / 1;
        background-repeat: no-repeat;
      }
      &amp; .ready {
        background-image: var(--copy-icon);
      }
      &amp; .success {
        display: none;
        background-image: var(--success-icon);
      }
    }

    &amp;.rehype-pretty-copied { 
      &amp; .success { 
        display: block;
      } &amp; .ready {
        display: none;
      }
    }

    pre button.rehype-pretty-copy.rehype-pretty-copied {
      opacity: 1;
      cursor: default;
      &amp; .ready { display: none; }
      &amp; .success { display: block; }
    }

      pre button.rehype-pretty-copy { opacity: 0; }
      button[data-name=&quot;rehype-pretty-copy-button&quot;]:hover {
        opacity: 1;
      }
    </style></code></pre></figure><p>Note that Zeek’s tab-separated value (TSV) format is already a structured table,
whereas Suricata data needs to be demultiplexed first through the <code>event_type</code>
field.</p><p>The PCAP packet type is currently hard-coded in VAST’s PCAP plugin and looks
like this:</p><figure data-rehype-pretty-code-figure=""><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span data-line=""><span style="color:#FF7B72">type</span><span style="color:#FFA657"> pcap</span><span style="color:#E6EDF3">.</span><span style="color:#FFA657">packet</span><span style="color:#FF7B72"> =</span><span style="color:#FFA657"> record</span><span style="color:#E6EDF3"> {</span></span>
<span data-line=""><span style="color:#E6EDF3">  time: timestamp,</span></span>
<span data-line=""><span style="color:#E6EDF3">  src: addr,</span></span>
<span data-line=""><span style="color:#E6EDF3">  dst: addr,</span></span>
<span data-line=""><span style="color:#E6EDF3">  sport: port,</span></span>
<span data-line=""><span style="color:#E6EDF3">  dport: port,</span></span>
<span data-line=""><span style="color:#E6EDF3">  vlan: record {</span></span>
<span data-line=""><span style="color:#E6EDF3">    outer: count,</span></span>
<span data-line=""><span style="color:#E6EDF3">    inner: count,</span></span>
<span data-line=""><span style="color:#E6EDF3">  },</span></span>
<span data-line=""><span style="color:#E6EDF3">  community_id: </span><span style="color:#FF7B72">string</span><span style="color:#E6EDF3"> #index</span><span style="color:#FF7B72">=</span><span style="color:#E6EDF3">hash,</span></span>
<span data-line=""><span style="color:#E6EDF3">  payload: </span><span style="color:#FF7B72">string</span><span style="color:#E6EDF3"> #skip,</span></span>
<span data-line=""><span style="color:#E6EDF3">}</span></span></code></pre><button type="button" data="type pcap.packet = record {
  time: timestamp,
  src: addr,
  dst: addr,
  sport: port,
  dport: port,
  vlan: record {
    outer: count,
    inner: count,
  },
  community_id: string #index=hash,
  payload: string #skip,
}" title="Copy code" aria-label="Copy code" class="rehype-pretty-copy" data-feedback-duration="3000" data-name="rehype-pretty-copy-button"><span class="ready"></span><span class="success"></span></button><style>
    :root {
      --copy-icon: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDM2IDM2Ij48cmVjdCB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjYmZjN2Q1IiBkPSJNMjkuNSA3aC0xOUExLjUgMS41IDAgMCAwIDkgOC41djI0YTEuNSAxLjUgMCAwIDAgMS41IDEuNWgxOWExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTI0QTEuNSAxLjUgMCAwIDAgMjkuNSA3TTI5IDMySDExVjloMThaIiBjbGFzcz0iY2xyLWktb3V0bGluZSBjbHItaS1vdXRsaW5lLXBhdGgtMSIvPjxwYXRoIGZpbGw9IiNiZmM3ZDUiIGQ9Ik0yNiAzLjVBMS41IDEuNSAwIDAgMCAyNC41IDJoLTE5QTEuNSAxLjUgMCAwIDAgNCAzLjV2MjRBMS41IDEuNSAwIDAgMCA1LjUgMjlINlY0aDIwWiIgY2xhc3M9ImNsci1pLW91dGxpbmUgY2xyLWktb3V0bGluZS1wYXRoLTIiLz48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDM2djM2SDB6Ii8+PC9zdmc+&quot;);
      --success-icon: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cmVjdCB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjMDBkNjAwIiBkPSJNMjEgN0w5IDE5bC01LjUtNS41bDEuNDEtMS40MUw5IDE2LjE3TDE5LjU5IDUuNTl6Ii8+PC9zdmc+&quot;);
    }

    pre:has(code) {
      position: relative;
    }

    button[data=&#x27;&lt;span&gt;&#x27;] {
      width: 0;
      height: 0;
      display: none;
      visibility: hidden;
    }

    pre button.rehype-pretty-copy {
      top: 1px;
      right: 1px;
      padding: 0;
      width: 24px;
      height: 24px;
      display: flex;
      cursor: pointer;
      margin-top: 8px;
      margin-right: 8px;
      position: absolute;
      border-radius: 25%;
      &amp; span {
        width: 100%;
        aspect-ratio: 1 / 1;
        background-repeat: no-repeat;
      }
      &amp; .ready {
        background-image: var(--copy-icon);
      }
      &amp; .success {
        display: none;
        background-image: var(--success-icon);
      }
    }

    &amp;.rehype-pretty-copied { 
      &amp; .success { 
        display: block;
      } &amp; .ready {
        display: none;
      }
    }

    pre button.rehype-pretty-copy.rehype-pretty-copied {
      opacity: 1;
      cursor: default;
      &amp; .ready { display: none; }
      &amp; .success { display: block; }
    }

      pre button.rehype-pretty-copy { opacity: 0; }
      button[data-name=&quot;rehype-pretty-copy-button&quot;]:hover {
        opacity: 1;
      }
    </style></code></pre></figure><p>Now that we’ve looked at the structure of the dataset, let’s take a look at our
measurement methodology.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="measurement">Measurement<a href="#measurement" class="hash-link" aria-label="Direct link to Measurement" title="Direct link to Measurement">​</a></h3><p>Our objective is understanding the storage and runtime characteristics of
Parquet and Feather on the provided input data. To this end, we instrumented
VAST to produce us with a measurement trace file that we then analyze with R for
gaining insights. The <a target="_blank" href="/assets/files/feather-parquet-zstd-experiments-838f8b98eddc445bdec89afa8b5594ee.diff">corresponding patch</a> is not meant for further
production, so we kept it separate. But we did find an opportunity to improve
VAST and <a href="https://github.com/tenzir/vast/pull/2623" target="_blank" rel="noopener noreferrer">made the Zstd compression level configurable</a>. Our <a target="_blank" href="/assets/files/benchmark-c6c36861e650e0c3666051e77c0a4b1c.fish">benchmark script</a> is available for full reproducibility.</p><p>Our instrumentation produced a <a target="_blank" href="/assets/files/data-4b5e6a9824475e5d5ccde4f7c128788e.csv">CSV file</a> with the following features:</p><ul><li><strong>Store</strong>: the type of store plugin used in the measurement, i.e., <code>parquet</code>
or <code>feather</code>.</li><li><strong>Construction time</strong>: the time it takes to convert Arrow record batches into
Parquet or Feather. We fenced the corresponding code blocks and computed the
difference in nanoseconds.</li><li><strong>Input size</strong>: the number of bytes that the to-be-converted record batches
consume.</li><li><strong>Output size</strong>: the number of bytes that the store file takes up.</li><li><strong>Number of events</strong>: the total number of events in all input record batches</li><li><strong>Number of record batches</strong>: the number Arrow record batches per store</li><li><strong>Schema</strong>: the name of the schema; there exists one store file per schema</li><li><strong>Zstd compression level</strong>: the applied Zstd compression level</li></ul><p>Every row corresponds to a single store file where we varied some of these
parameters. We used <a href="https://github.com/sharkdp/hyperfine" target="_blank" rel="noopener noreferrer">hyperfine</a> as
benchmark driver tool, configured with 8 runs. Let’s take a look at the data.</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Code</summary><div><div class="collapsibleContent_i85q"><figure data-rehype-pretty-code-figure=""><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span data-line=""><span style="color:#79C0FF">library</span><span style="color:#E6EDF3">(dplyr)</span></span>
<span data-line=""><span style="color:#79C0FF">library</span><span style="color:#E6EDF3">(ggplot2)</span></span>
<span data-line=""><span style="color:#79C0FF">library</span><span style="color:#E6EDF3">(lubridate)</span></span>
<span data-line=""><span style="color:#79C0FF">library</span><span style="color:#E6EDF3">(scales)</span></span>
<span data-line=""><span style="color:#79C0FF">library</span><span style="color:#E6EDF3">(stringr)</span></span>
<span data-line=""><span style="color:#79C0FF">library</span><span style="color:#E6EDF3">(tidyr)</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#8B949E"># For faceting, to show clearer boundaries.</span></span>
<span data-line=""><span style="color:#D2A8FF">theme_bw_trans</span><span style="color:#FF7B72"> &lt;-</span><span style="color:#FF7B72"> function</span><span style="color:#E6EDF3">(</span><span style="color:#FF7B72">...</span><span style="color:#E6EDF3">) {</span></span>
<span data-line=""><span style="color:#FFA657">  theme_bw</span><span style="color:#E6EDF3">(</span><span style="color:#FF7B72">...</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">  theme</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">panel.background</span><span style="color:#FF7B72"> =</span><span style="color:#FFA657"> element_rect</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">fill</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;transparent&quot;</span><span style="color:#E6EDF3">),</span></span>
<span data-line=""><span style="color:#FFA657">        plot.background</span><span style="color:#FF7B72"> =</span><span style="color:#FFA657"> element_rect</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">fill</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;transparent&quot;</span><span style="color:#E6EDF3">),</span></span>
<span data-line=""><span style="color:#FFA657">        legend.key</span><span style="color:#FF7B72"> =</span><span style="color:#FFA657"> element_rect</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">fill</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;transparent&quot;</span><span style="color:#E6EDF3">),</span></span>
<span data-line=""><span style="color:#FFA657">        legend.background</span><span style="color:#FF7B72"> =</span><span style="color:#FFA657"> element_rect</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">fill</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;transparent&quot;</span><span style="color:#E6EDF3">))</span></span>
<span data-line=""><span style="color:#E6EDF3">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#FFA657">theme_set</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">theme_minimal</span><span style="color:#E6EDF3">())</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#E6EDF3">data </span><span style="color:#FF7B72">&lt;-</span><span style="color:#79C0FF"> read.csv</span><span style="color:#E6EDF3">(</span><span style="color:#A5D6FF">&quot;data.csv&quot;</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  rename</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">store</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> store_type) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  mutate</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">duration</span><span style="color:#FF7B72"> =</span><span style="color:#FFA657"> dnanoseconds</span><span style="color:#E6EDF3">(duration))</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#E6EDF3">original </span><span style="color:#FF7B72">&lt;-</span><span style="color:#79C0FF"> read.csv</span><span style="color:#E6EDF3">(</span><span style="color:#A5D6FF">&quot;sizes.csv&quot;</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  mutate</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">store</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;original&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">store_class</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;original&quot;</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  select</span><span style="color:#E6EDF3">(store, store_class, schema, bytes)</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#8B949E"># Global view on number of events per schema.</span></span>
<span data-line=""><span style="color:#E6EDF3">schemas </span><span style="color:#FF7B72">&lt;-</span><span style="color:#E6EDF3"> data </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#8B949E">  # Pick one element from the run matrix.</span></span>
<span data-line=""><span style="color:#79C0FF">  filter</span><span style="color:#E6EDF3">(store </span><span style="color:#FF7B72">==</span><span style="color:#A5D6FF"> &quot;feather&quot;</span><span style="color:#FF7B72"> &amp;</span><span style="color:#E6EDF3"> zstd.level </span><span style="color:#FF7B72">==</span><span style="color:#79C0FF"> 1</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  group_by</span><span style="color:#E6EDF3">(schema) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  summarize</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">n</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> sum</span><span style="color:#E6EDF3">(num_events),</span></span>
<span data-line=""><span style="color:#FFA657">            bytes_memory</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> sum</span><span style="color:#E6EDF3">(bytes_memory))</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#8B949E"># Normalize store sizes by number of events/store.</span></span>
<span data-line=""><span style="color:#E6EDF3">normalized </span><span style="color:#FF7B72">&lt;-</span><span style="color:#E6EDF3"> data </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  mutate</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">duration_normalized</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> duration </span><span style="color:#FF7B72">/</span><span style="color:#E6EDF3"> num_events,</span></span>
<span data-line=""><span style="color:#FFA657">         bytes_memory_normalized</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> bytes_memory </span><span style="color:#FF7B72">/</span><span style="color:#E6EDF3"> num_events,</span></span>
<span data-line=""><span style="color:#FFA657">         bytes_storage_normalized</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> bytes_in_storage </span><span style="color:#FF7B72">/</span><span style="color:#E6EDF3"> num_events,</span></span>
<span data-line=""><span style="color:#FFA657">         bytes_ratio</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> bytes_in_storage </span><span style="color:#FF7B72">/</span><span style="color:#E6EDF3"> bytes_memory)</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#8B949E"># Compute average over measurements.</span></span>
<span data-line=""><span style="color:#E6EDF3">aggregated </span><span style="color:#FF7B72">&lt;-</span><span style="color:#E6EDF3"> normalized </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  group_by</span><span style="color:#E6EDF3">(store, schema, zstd.level) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  summarize</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">duration</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> mean</span><span style="color:#E6EDF3">(duration_normalized),</span></span>
<span data-line=""><span style="color:#FFA657">            memory</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> mean</span><span style="color:#E6EDF3">(bytes_memory_normalized),</span></span>
<span data-line=""><span style="color:#FFA657">            storage</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> mean</span><span style="color:#E6EDF3">(bytes_storage_normalized))</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#8B949E"># Treat in-memory measurements as just another storage type.</span></span>
<span data-line=""><span style="color:#E6EDF3">memory </span><span style="color:#FF7B72">&lt;-</span><span style="color:#E6EDF3"> aggregated </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#79C0FF">  filter</span><span style="color:#E6EDF3">(store </span><span style="color:#FF7B72">==</span><span style="color:#A5D6FF"> &quot;feather&quot;</span><span style="color:#FF7B72"> &amp;</span><span style="color:#E6EDF3"> zstd.level </span><span style="color:#FF7B72">==</span><span style="color:#79C0FF"> 1</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  mutate</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">store</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;memory&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">store_class</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;memory&quot;</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  select</span><span style="color:#E6EDF3">(store, store_class, schema, </span><span style="color:#FFA657">bytes</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> memory)</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#8B949E"># Unite with rest of data.</span></span>
<span data-line=""><span style="color:#E6EDF3">unified </span><span style="color:#FF7B72">&lt;-</span></span>
<span data-line=""><span style="color:#E6EDF3">  aggregated </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  select</span><span style="color:#E6EDF3">(</span><span style="color:#FF7B72">-</span><span style="color:#E6EDF3">memory) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  mutate</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">zstd.level</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> factor</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">str_replace_na</span><span style="color:#E6EDF3">(zstd.level),</span></span>
<span data-line=""><span style="color:#FFA657">                             levels</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> c</span><span style="color:#E6EDF3">(</span><span style="color:#A5D6FF">&quot;NA&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#A5D6FF">&quot;-5&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#A5D6FF">&quot;1&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#A5D6FF">&quot;9&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#A5D6FF">&quot;19&quot;</span><span style="color:#E6EDF3">))) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  rename</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">bytes</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> storage, </span><span style="color:#FFA657">store_class</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> store) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  unite</span><span style="color:#E6EDF3">(</span><span style="color:#A5D6FF">&quot;store&quot;</span><span style="color:#E6EDF3">, store_class, zstd.level, </span><span style="color:#FFA657">sep</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;+&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">remove</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> FALSE</span><span style="color:#E6EDF3">)</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#E6EDF3">schemas_gt10k </span><span style="color:#FF7B72">&lt;-</span><span style="color:#E6EDF3"> schemas </span><span style="color:#FF7B72">|&gt;</span><span style="color:#79C0FF"> filter</span><span style="color:#E6EDF3">(n </span><span style="color:#FF7B72">&gt;</span><span style="color:#79C0FF"> 10e3</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">|&gt;</span><span style="color:#FFA657"> pull</span><span style="color:#E6EDF3">(schema)</span></span>
<span data-line=""><span style="color:#E6EDF3">schemas_gt100k </span><span style="color:#FF7B72">&lt;-</span><span style="color:#E6EDF3"> schemas </span><span style="color:#FF7B72">|&gt;</span><span style="color:#79C0FF"> filter</span><span style="color:#E6EDF3">(n </span><span style="color:#FF7B72">&gt;</span><span style="color:#79C0FF"> 100e3</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">|&gt;</span><span style="color:#FFA657"> pull</span><span style="color:#E6EDF3">(schema)</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#8B949E"># Only schemas with &gt; 100k events.</span></span>
<span data-line=""><span style="color:#E6EDF3">cleaned </span><span style="color:#FF7B72">&lt;-</span><span style="color:#E6EDF3"> unified </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#79C0FF">  filter</span><span style="color:#E6EDF3">(schema </span><span style="color:#FF7B72">%in%</span><span style="color:#E6EDF3"> schemas_gt100k)</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#8B949E"># Helper function to format numbers with SI unit suffixes.</span></span>
<span data-line=""><span style="color:#D2A8FF">fmt_short</span><span style="color:#FF7B72"> &lt;-</span><span style="color:#FF7B72"> function</span><span style="color:#E6EDF3">(x) {</span></span>
<span data-line=""><span style="color:#79C0FF">  scales</span><span style="color:#FF7B72">::</span><span style="color:#FFA657">label_number</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">scale_cut</span><span style="color:#FF7B72"> =</span><span style="color:#FFA657"> cut_short_scale</span><span style="color:#E6EDF3">(), </span><span style="color:#FFA657">accuracy</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 0.1</span><span style="color:#E6EDF3">)(x)</span></span>
<span data-line=""><span style="color:#E6EDF3">}</span></span></code></pre><button type="button" data="library(dplyr)
library(ggplot2)
library(lubridate)
library(scales)
library(stringr)
library(tidyr)

# For faceting, to show clearer boundaries.
theme_bw_trans &lt;- function(...) {
  theme_bw(...) +
  theme(panel.background = element_rect(fill = &quot;transparent&quot;),
        plot.background = element_rect(fill = &quot;transparent&quot;),
        legend.key = element_rect(fill = &quot;transparent&quot;),
        legend.background = element_rect(fill = &quot;transparent&quot;))
}

theme_set(theme_minimal())

data &lt;- read.csv(&quot;data.csv&quot;) |&gt;
  rename(store = store_type) |&gt;
  mutate(duration = dnanoseconds(duration))

original &lt;- read.csv(&quot;sizes.csv&quot;) |&gt;
  mutate(store = &quot;original&quot;, store_class = &quot;original&quot;) |&gt;
  select(store, store_class, schema, bytes)

# Global view on number of events per schema.
schemas &lt;- data |&gt;
  # Pick one element from the run matrix.
  filter(store == &quot;feather&quot; &amp; zstd.level == 1) |&gt;
  group_by(schema) |&gt;
  summarize(n = sum(num_events),
            bytes_memory = sum(bytes_memory))

# Normalize store sizes by number of events/store.
normalized &lt;- data |&gt;
  mutate(duration_normalized = duration / num_events,
         bytes_memory_normalized = bytes_memory / num_events,
         bytes_storage_normalized = bytes_in_storage / num_events,
         bytes_ratio = bytes_in_storage / bytes_memory)

# Compute average over measurements.
aggregated &lt;- normalized |&gt;
  group_by(store, schema, zstd.level) |&gt;
  summarize(duration = mean(duration_normalized),
            memory = mean(bytes_memory_normalized),
            storage = mean(bytes_storage_normalized))

# Treat in-memory measurements as just another storage type.
memory &lt;- aggregated |&gt;
  filter(store == &quot;feather&quot; &amp; zstd.level == 1) |&gt;
  mutate(store = &quot;memory&quot;, store_class = &quot;memory&quot;) |&gt;
  select(store, store_class, schema, bytes = memory)

# Unite with rest of data.
unified &lt;-
  aggregated |&gt;
  select(-memory) |&gt;
  mutate(zstd.level = factor(str_replace_na(zstd.level),
                             levels = c(&quot;NA&quot;, &quot;-5&quot;, &quot;1&quot;, &quot;9&quot;, &quot;19&quot;))) |&gt;
  rename(bytes = storage, store_class = store) |&gt;
  unite(&quot;store&quot;, store_class, zstd.level, sep = &quot;+&quot;, remove = FALSE)

schemas_gt10k &lt;- schemas |&gt; filter(n &gt; 10e3) |&gt; pull(schema)
schemas_gt100k &lt;- schemas |&gt; filter(n &gt; 100e3) |&gt; pull(schema)

# Only schemas with &gt; 100k events.
cleaned &lt;- unified |&gt;
  filter(schema %in% schemas_gt100k)

# Helper function to format numbers with SI unit suffixes.
fmt_short &lt;- function(x) {
  scales::label_number(scale_cut = cut_short_scale(), accuracy = 0.1)(x)
}" title="Copy code" aria-label="Copy code" class="rehype-pretty-copy" data-feedback-duration="3000" data-name="rehype-pretty-copy-button"><span class="ready"></span><span class="success"></span></button><style>
    :root {
      --copy-icon: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDM2IDM2Ij48cmVjdCB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjYmZjN2Q1IiBkPSJNMjkuNSA3aC0xOUExLjUgMS41IDAgMCAwIDkgOC41djI0YTEuNSAxLjUgMCAwIDAgMS41IDEuNWgxOWExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTI0QTEuNSAxLjUgMCAwIDAgMjkuNSA3TTI5IDMySDExVjloMThaIiBjbGFzcz0iY2xyLWktb3V0bGluZSBjbHItaS1vdXRsaW5lLXBhdGgtMSIvPjxwYXRoIGZpbGw9IiNiZmM3ZDUiIGQ9Ik0yNiAzLjVBMS41IDEuNSAwIDAgMCAyNC41IDJoLTE5QTEuNSAxLjUgMCAwIDAgNCAzLjV2MjRBMS41IDEuNSAwIDAgMCA1LjUgMjlINlY0aDIwWiIgY2xhc3M9ImNsci1pLW91dGxpbmUgY2xyLWktb3V0bGluZS1wYXRoLTIiLz48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDM2djM2SDB6Ii8+PC9zdmc+&quot;);
      --success-icon: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cmVjdCB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjMDBkNjAwIiBkPSJNMjEgN0w5IDE5bC01LjUtNS41bDEuNDEtMS40MUw5IDE2LjE3TDE5LjU5IDUuNTl6Ii8+PC9zdmc+&quot;);
    }

    pre:has(code) {
      position: relative;
    }

    button[data=&#x27;&lt;span&gt;&#x27;] {
      width: 0;
      height: 0;
      display: none;
      visibility: hidden;
    }

    pre button.rehype-pretty-copy {
      top: 1px;
      right: 1px;
      padding: 0;
      width: 24px;
      height: 24px;
      display: flex;
      cursor: pointer;
      margin-top: 8px;
      margin-right: 8px;
      position: absolute;
      border-radius: 25%;
      &amp; span {
        width: 100%;
        aspect-ratio: 1 / 1;
        background-repeat: no-repeat;
      }
      &amp; .ready {
        background-image: var(--copy-icon);
      }
      &amp; .success {
        display: none;
        background-image: var(--success-icon);
      }
    }

    &amp;.rehype-pretty-copied { 
      &amp; .success { 
        display: block;
      } &amp; .ready {
        display: none;
      }
    }

    pre button.rehype-pretty-copy.rehype-pretty-copied {
      opacity: 1;
      cursor: default;
      &amp; .ready { display: none; }
      &amp; .success { display: block; }
    }

      pre button.rehype-pretty-copy { opacity: 0; }
      button[data-name=&quot;rehype-pretty-copy-button&quot;]:hover {
        opacity: 1;
      }
    </style></code></pre></figure></div></div></details><h3 class="anchor anchorWithStickyNavbar_LWe7" id="schemas">Schemas<a href="#schemas" class="hash-link" aria-label="Direct link to Schemas" title="Direct link to Schemas">​</a></h3><p>We have a total of 42 unique schemas:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> [1] &quot;zeek.dce_rpc&quot;       &quot;zeek.dhcp&quot;          &quot;zeek.x509&quot;         </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> [4] &quot;zeek.dpd&quot;           &quot;zeek.ftp&quot;           &quot;zeek.files&quot;        </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> [7] &quot;zeek.ntlm&quot;          &quot;zeek.kerberos&quot;      &quot;zeek.ocsp&quot;         </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[10] &quot;zeek.ntp&quot;           &quot;zeek.dns&quot;           &quot;zeek.packet_filter&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[13] &quot;zeek.pe&quot;            &quot;zeek.radius&quot;        &quot;zeek.http&quot;         </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[16] &quot;zeek.reporter&quot;      &quot;zeek.weird&quot;         &quot;zeek.smb_files&quot;    </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[19] &quot;zeek.sip&quot;           &quot;zeek.smb_mapping&quot;   &quot;zeek.smtp&quot;         </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[22] &quot;zeek.conn&quot;          &quot;zeek.snmp&quot;          &quot;zeek.tunnel&quot;       </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[25] &quot;zeek.ssl&quot;           &quot;suricata.krb5&quot;      &quot;suricata.ikev2&quot;    </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[28] &quot;suricata.http&quot;      &quot;suricata.smb&quot;       &quot;suricata.ftp&quot;      </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[31] &quot;suricata.dns&quot;       &quot;suricata.fileinfo&quot;  &quot;suricata.tftp&quot;     </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[34] &quot;suricata.snmp&quot;      &quot;suricata.sip&quot;       &quot;suricata.anomaly&quot;  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[37] &quot;suricata.smtp&quot;      &quot;suricata.dhcp&quot;      &quot;suricata.tls&quot;      </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[40] &quot;suricata.dcerpc&quot;    &quot;suricata.flow&quot;      &quot;pcap.packet&quot;       </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The schemas belong to three data <em>modules</em>: Zeek, Suricata, and PCAP. A module
is the prefix of a concrete type, e.g., for the schema <code>zeek.conn</code> the module is
<code>zeek</code> and the type is <code>conn</code>. This is only a distinction in terminology,
internally VAST stores the full-qualified type as schema name.</p><p>How many events do we have per schema?</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Code</summary><div><div class="collapsibleContent_i85q"><figure data-rehype-pretty-code-figure=""><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span data-line=""><span style="color:#E6EDF3">schemas </span><span style="color:#FF7B72">&lt;-</span><span style="color:#E6EDF3"> normalized </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#8B949E">  # Pick one element from the run matrix.</span></span>
<span data-line=""><span style="color:#79C0FF">  filter</span><span style="color:#E6EDF3">(store </span><span style="color:#FF7B72">==</span><span style="color:#A5D6FF"> &quot;feather&quot;</span><span style="color:#FF7B72"> &amp;</span><span style="color:#E6EDF3"> zstd.level </span><span style="color:#FF7B72">==</span><span style="color:#79C0FF"> 1</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  group_by</span><span style="color:#E6EDF3">(schema) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  summarize</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">n</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> sum</span><span style="color:#E6EDF3">(num_events),</span></span>
<span data-line=""><span style="color:#FFA657">            bytes_memory</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> sum</span><span style="color:#E6EDF3">(bytes_memory))</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#E6EDF3">schemas </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  separate</span><span style="color:#E6EDF3">(schema, </span><span style="color:#79C0FF">c</span><span style="color:#E6EDF3">(</span><span style="color:#A5D6FF">&quot;module&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#A5D6FF">&quot;type&quot;</span><span style="color:#E6EDF3">), </span><span style="color:#FFA657">remove</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> FALSE</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  ggplot</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">aes</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">x</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> reorder</span><span style="color:#E6EDF3">(schema, </span><span style="color:#FF7B72">-</span><span style="color:#E6EDF3">n), </span><span style="color:#FFA657">y</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> n, </span><span style="color:#FFA657">fill</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> module)) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    geom_bar</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">stat</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;identity&quot;</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    scale_y_log10</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">labels</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> scales</span><span style="color:#FF7B72">::</span><span style="color:#FFA657">label_comma</span><span style="color:#E6EDF3">()) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    labs</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">x</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Schema&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">y</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Number of Events&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">fill</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Module&quot;</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    theme</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">axis.text.x</span><span style="color:#FF7B72"> =</span><span style="color:#FFA657"> element_text</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">angle</span><span style="color:#FF7B72"> =</span><span style="color:#FF7B72"> -</span><span style="color:#79C0FF">90</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">size</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 8</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">vjust</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 0.5</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">hjust</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 0</span><span style="color:#E6EDF3">))</span></span></code></pre><button type="button" data="schemas &lt;- normalized |&gt;
  # Pick one element from the run matrix.
  filter(store == &quot;feather&quot; &amp; zstd.level == 1) |&gt;
  group_by(schema) |&gt;
  summarize(n = sum(num_events),
            bytes_memory = sum(bytes_memory))

schemas |&gt;
  separate(schema, c(&quot;module&quot;, &quot;type&quot;), remove = FALSE) |&gt;
  ggplot(aes(x = reorder(schema, -n), y = n, fill = module)) +
    geom_bar(stat = &quot;identity&quot;) +
    scale_y_log10(labels = scales::label_comma()) +
    labs(x = &quot;Schema&quot;, y = &quot;Number of Events&quot;, fill = &quot;Module&quot;) +
    theme(axis.text.x = element_text(angle = -90, size = 8, vjust = 0.5, hjust = 0))" title="Copy code" aria-label="Copy code" class="rehype-pretty-copy" data-feedback-duration="3000" data-name="rehype-pretty-copy-button"><span class="ready"></span><span class="success"></span></button><style>
    :root {
      --copy-icon: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDM2IDM2Ij48cmVjdCB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjYmZjN2Q1IiBkPSJNMjkuNSA3aC0xOUExLjUgMS41IDAgMCAwIDkgOC41djI0YTEuNSAxLjUgMCAwIDAgMS41IDEuNWgxOWExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTI0QTEuNSAxLjUgMCAwIDAgMjkuNSA3TTI5IDMySDExVjloMThaIiBjbGFzcz0iY2xyLWktb3V0bGluZSBjbHItaS1vdXRsaW5lLXBhdGgtMSIvPjxwYXRoIGZpbGw9IiNiZmM3ZDUiIGQ9Ik0yNiAzLjVBMS41IDEuNSAwIDAgMCAyNC41IDJoLTE5QTEuNSAxLjUgMCAwIDAgNCAzLjV2MjRBMS41IDEuNSAwIDAgMCA1LjUgMjlINlY0aDIwWiIgY2xhc3M9ImNsci1pLW91dGxpbmUgY2xyLWktb3V0bGluZS1wYXRoLTIiLz48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDM2djM2SDB6Ii8+PC9zdmc+&quot;);
      --success-icon: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cmVjdCB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjMDBkNjAwIiBkPSJNMjEgN0w5IDE5bC01LjUtNS41bDEuNDEtMS40MUw5IDE2LjE3TDE5LjU5IDUuNTl6Ii8+PC9zdmc+&quot;);
    }

    pre:has(code) {
      position: relative;
    }

    button[data=&#x27;&lt;span&gt;&#x27;] {
      width: 0;
      height: 0;
      display: none;
      visibility: hidden;
    }

    pre button.rehype-pretty-copy {
      top: 1px;
      right: 1px;
      padding: 0;
      width: 24px;
      height: 24px;
      display: flex;
      cursor: pointer;
      margin-top: 8px;
      margin-right: 8px;
      position: absolute;
      border-radius: 25%;
      &amp; span {
        width: 100%;
        aspect-ratio: 1 / 1;
        background-repeat: no-repeat;
      }
      &amp; .ready {
        background-image: var(--copy-icon);
      }
      &amp; .success {
        display: none;
        background-image: var(--success-icon);
      }
    }

    &amp;.rehype-pretty-copied { 
      &amp; .success { 
        display: block;
      } &amp; .ready {
        display: none;
      }
    }

    pre button.rehype-pretty-copy.rehype-pretty-copied {
      opacity: 1;
      cursor: default;
      &amp; .ready { display: none; }
      &amp; .success { display: block; }
    }

      pre button.rehype-pretty-copy { opacity: 0; }
      button[data-name=&quot;rehype-pretty-copy-button&quot;]:hover {
        opacity: 1;
      }
    </style></code></pre></figure></div></div></details><svg xmlns="http://www.w3.org/2000/svg" class="svglite" width="672" height="480" viewBox="0 0 504 360"><defs><style>.svglite polyline,.svglite rect{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.svglite text{white-space:pre}</style></defs><rect width="100%" height="100%" style="stroke:none;fill:none"></rect><defs><clipPath id="cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA="><path d="M0 0h504v360H0z"></path></clipPath></defs><defs><clipPath id="cpNzkuNDB8NDE4LjU1fDUuNDh8MjU5LjA3"><path d="M79.4 5.48h339.15v253.59H79.4z"></path></clipPath></defs><g clip-path="url(#cpNzkuNDB8NDE4LjU1fDUuNDh8MjU5LjA3)"><path style="stroke-width:0.53;stroke:#ebebeb;stroke-linecap:butt" d="M79.4 232.58h339.15M79.4 142.83h339.15M79.4 53.08h339.15"></path><path style="stroke-width:1.07;stroke:#ebebeb;stroke-linecap:butt" d="M79.4 187.71h339.15M79.4 97.96h339.15M79.4 8.2h339.15M84.22 259.07V5.48M92.26 259.07V5.48M100.29 259.07V5.48M108.33 259.07V5.48M116.37 259.07V5.48M124.4 259.07V5.48M132.44 259.07V5.48M140.48 259.07V5.48M148.51 259.07V5.48M156.55 259.07V5.48M164.59 259.07V5.48M172.62 259.07V5.48M180.66 259.07V5.48M188.7 259.07V5.48M196.73 259.07V5.48M204.77 259.07V5.48M212.81 259.07V5.48M220.84 259.07V5.48M228.88 259.07V5.48M236.92 259.07V5.48M244.96 259.07V5.48M252.99 259.07V5.48M261.03 259.07V5.48M269.07 259.07V5.48M277.1 259.07V5.48M285.14 259.07V5.48M293.18 259.07V5.48M301.21 259.07V5.48M309.25 259.07V5.48M317.29 259.07V5.48M325.32 259.07V5.48M333.36 259.07V5.48M341.4 259.07V5.48M349.43 259.07V5.48M357.47 259.07V5.48M365.51 259.07V5.48M373.54 259.07V5.48M381.58 259.07V5.48M389.62 259.07V5.48M397.65 259.07V5.48M405.69 259.07V5.48M413.73 259.07V5.48"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#f8766d" d="M80.6 17.01h7.23v230.53H80.6z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#00ba38" d="M201.15 112.16h7.23v135.38h-7.23zM185.08 93.87h7.23v153.67h-7.23zM329.74 145.41h7.23v102.13h-7.23zM104.71 66.15h7.23v181.39h-7.23zM177.04 93.23h7.23v154.31h-7.23zM96.68 48.44h7.23v199.1h-7.23zM297.6 138.68h7.23v108.86h-7.23zM120.79 74.61h7.23v172.93h-7.23zM394.04 220.52h7.23v27.02h-7.23zM241.34 123.96h7.23v123.58h-7.23zM305.63 140.64h7.23v106.9h-7.23zM152.93 85.59h7.23v161.95h-7.23zM321.71 142.52h7.23v105.02h-7.23zM353.85 155.95h7.23v91.59h-7.23zM369.93 175.91h7.23v71.63h-7.23zM136.86 82.38h7.23v165.16h-7.23z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#619cff" d="M88.64 48.01h7.23v199.53h-7.23zM169.01 92.12h7.23v155.42h-7.23zM345.82 147.93h7.23v99.61h-7.23zM112.75 72.3h7.23v175.24h-7.23zM273.49 132.58h7.23v114.96h-7.23zM160.97 90.7h7.23v156.84h-7.23zM386 202.51h7.23v45.03H386zM128.82 74.63h7.23v172.91h-7.23zM217.23 117.83h7.23v129.71h-7.23zM313.67 141.77h7.23v105.77h-7.23zM257.41 128.15h7.23v119.39h-7.23zM209.19 117.06h7.23v130.48h-7.23zM402.07 220.52h7.23v27.02h-7.23zM337.78 145.78h7.23v101.76h-7.23zM410.11 220.52h7.23v27.02h-7.23zM377.96 195.24h7.23v52.3h-7.23zM289.56 138.19h7.23v109.35h-7.23zM265.45 130.03h7.23v117.51h-7.23zM249.38 124.8h7.23v122.74h-7.23zM233.3 121.98h7.23v125.56h-7.23zM361.89 157.08h7.23v90.46h-7.23zM144.9 82.4h7.23v165.14h-7.23zM281.52 137.28h7.23v110.26h-7.23zM193.12 109.95h7.23v137.59h-7.23zM225.26 118.48h7.23v129.06h-7.23z"></path></g><g clip-path="url(#cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA=)"><text x="74.47" y="190.91" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="16.78" lengthAdjust="spacingAndGlyphs">100</text><text x="74.47" y="101.16" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="36.36" lengthAdjust="spacingAndGlyphs">100,000</text><text x="74.47" y="11.41" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="55.94" lengthAdjust="spacingAndGlyphs">100,000,000</text><text transform="rotate(90 -91.35 172.65)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="48.78" lengthAdjust="spacingAndGlyphs">pcap.packet</text><text transform="rotate(90 -87.33 176.67)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="40.65" lengthAdjust="spacingAndGlyphs">zeek.conn</text><text transform="rotate(90 -83.31 180.69)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="51.12" lengthAdjust="spacingAndGlyphs">suricata.flow</text><text transform="rotate(90 -79.295 184.705)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="48.95" lengthAdjust="spacingAndGlyphs">suricata.dns</text><text transform="rotate(90 -75.275 188.725)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="35.53" lengthAdjust="spacingAndGlyphs">zeek.dns</text><text transform="rotate(90 -71.255 192.745)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="51.06" lengthAdjust="spacingAndGlyphs">suricata.http</text><text transform="rotate(90 -67.24 196.76)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="37.64" lengthAdjust="spacingAndGlyphs">zeek.http</text><text transform="rotate(90 -63.22 200.78)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="44.17" lengthAdjust="spacingAndGlyphs">suricata.tls</text><text transform="rotate(90 -59.2 204.8)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="31.78" lengthAdjust="spacingAndGlyphs">zeek.ssl</text><text transform="rotate(90 -55.185 208.815)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="51.67" lengthAdjust="spacingAndGlyphs">suricata.smb</text><text transform="rotate(90 -51.165 212.835)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="37.58" lengthAdjust="spacingAndGlyphs">zeek.files</text><text transform="rotate(90 -47.145 216.855)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="52.39" lengthAdjust="spacingAndGlyphs">zeek.dce_rpc</text><text transform="rotate(90 -43.13 220.87)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="61.83" lengthAdjust="spacingAndGlyphs">suricata.fileinfo</text><text transform="rotate(90 -39.11 224.89)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="61.8" lengthAdjust="spacingAndGlyphs">suricata.dcerpc</text><text transform="rotate(90 -35.09 228.91)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="43.14" lengthAdjust="spacingAndGlyphs">zeek.weird</text><text transform="rotate(90 -31.07 232.93)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="69.16" lengthAdjust="spacingAndGlyphs">suricata.anomaly</text><text transform="rotate(90 -27.055 236.945)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="39.76" lengthAdjust="spacingAndGlyphs">zeek.ocsp</text><text transform="rotate(90 -23.035 240.965)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="55.96" lengthAdjust="spacingAndGlyphs">zeek.kerberos</text><text transform="rotate(90 -19.015 244.985)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="41.22" lengthAdjust="spacingAndGlyphs">zeek.x509</text><text transform="rotate(90 -15 249)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="41.39" lengthAdjust="spacingAndGlyphs">zeek.smtp</text><text transform="rotate(90 -10.98 253.02)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="52.73" lengthAdjust="spacingAndGlyphs">suricata.krb5</text><text transform="rotate(90 -6.96 257.04)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="77.47" lengthAdjust="spacingAndGlyphs">zeek.smb_mapping</text><text transform="rotate(90 -2.945 261.055)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="34.5" lengthAdjust="spacingAndGlyphs">zeek.ntp</text><text transform="rotate(90 1.075 265.075)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="58.62" lengthAdjust="spacingAndGlyphs">zeek.smb_files</text><text transform="rotate(90 5.095 269.095)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="36.45" lengthAdjust="spacingAndGlyphs">zeek.dpd</text><text transform="rotate(90 9.11 273.11)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="46.71" lengthAdjust="spacingAndGlyphs">zeek.tunnel</text><text transform="rotate(90 13.13 277.13)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="32.69" lengthAdjust="spacingAndGlyphs">zeek.sip</text><text transform="rotate(90 17.15 281.15)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="45.53" lengthAdjust="spacingAndGlyphs">suricata.ftp</text><text transform="rotate(90 21.165 285.165)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="46.11" lengthAdjust="spacingAndGlyphs">suricata.sip</text><text transform="rotate(90 25.185 289.185)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="39.44" lengthAdjust="spacingAndGlyphs">zeek.ntlm</text><text transform="rotate(90 29.205 293.205)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="54.81" lengthAdjust="spacingAndGlyphs">suricata.smtp</text><text transform="rotate(90 33.22 297.22)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="54.26" lengthAdjust="spacingAndGlyphs">suricata.dhcp</text><text transform="rotate(90 37.24 301.24)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="31.22" lengthAdjust="spacingAndGlyphs">zeek.pe</text><text transform="rotate(90 41.26 305.26)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="40.84" lengthAdjust="spacingAndGlyphs">zeek.dhcp</text><text transform="rotate(90 45.275 309.275)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="56.74" lengthAdjust="spacingAndGlyphs">suricata.snmp</text><text transform="rotate(90 49.295 313.295)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="43.32" lengthAdjust="spacingAndGlyphs">zeek.snmp</text><text transform="rotate(90 53.315 317.315)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="48.66" lengthAdjust="spacingAndGlyphs">suricata.tftp</text><text transform="rotate(90 57.33 321.33)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="53.88" lengthAdjust="spacingAndGlyphs">zeek.reporter</text><text transform="rotate(90 61.35 325.35)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="32.1" lengthAdjust="spacingAndGlyphs">zeek.ftp</text><text transform="rotate(90 65.37 329.37)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="55.95" lengthAdjust="spacingAndGlyphs">suricata.ikev2</text><text transform="rotate(90 69.385 333.385)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="70.62" lengthAdjust="spacingAndGlyphs">zeek.packet_filter</text><text transform="rotate(90 73.405 337.405)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="45.95" lengthAdjust="spacingAndGlyphs">zeek.radius</text><text x="248.97" y="352.23" text-anchor="middle" style="font-size:11px;font-family:&amp;quot" textLength="44.22" lengthAdjust="spacingAndGlyphs">Schema</text><text transform="rotate(-90 72.885 59.385)" text-anchor="middle" style="font-size:11px;font-family:&amp;quot" textLength="99.03" lengthAdjust="spacingAndGlyphs">Number of Events</text><text x="434.99" y="107.62" style="font-size:11px;font-family:&amp;quot" textLength="40" lengthAdjust="spacingAndGlyphs">Module</text><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#f8766d" d="M435.7 114.96h15.86v15.86H435.7z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#00ba38" d="M435.7 132.24h15.86v15.86H435.7z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#619cff" d="M435.7 149.52h15.86v15.86H435.7z"></path><text x="457.75" y="126.1" style="font-size:8.8px;font-family:&amp;quot" textLength="21.41" lengthAdjust="spacingAndGlyphs">pcap</text><text x="457.75" y="143.38" style="font-size:8.8px;font-family:&amp;quot" textLength="35.29" lengthAdjust="spacingAndGlyphs">suricata</text><text x="457.75" y="160.66" style="font-size:8.8px;font-family:&amp;quot" textLength="20.54" lengthAdjust="spacingAndGlyphs">zeek</text></g></svg><p>The above plot (log-scaled y-axis) shows how many events we have per type.
Between 1 and 100M events, we almost see everything.</p><p>What’s the typical event size?</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Code</summary><div><div class="collapsibleContent_i85q"><figure data-rehype-pretty-code-figure=""><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span data-line=""><span style="color:#E6EDF3">schemas </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  separate</span><span style="color:#E6EDF3">(schema, </span><span style="color:#79C0FF">c</span><span style="color:#E6EDF3">(</span><span style="color:#A5D6FF">&quot;module&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#A5D6FF">&quot;type&quot;</span><span style="color:#E6EDF3">), </span><span style="color:#FFA657">remove</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> FALSE</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  ggplot</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">aes</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">x</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> reorder</span><span style="color:#E6EDF3">(schema, </span><span style="color:#FF7B72">-</span><span style="color:#E6EDF3">n), </span><span style="color:#FFA657">y</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> bytes_memory </span><span style="color:#FF7B72">/</span><span style="color:#E6EDF3"> n, </span><span style="color:#FFA657">fill</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> module)) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    geom_bar</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">stat</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;identity&quot;</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    guides</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">fill</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;none&quot;</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    scale_y_continuous</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">labels</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> scales</span><span style="color:#FF7B72">::</span><span style="color:#FFA657">label_bytes</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">units</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;auto_si&quot;</span><span style="color:#E6EDF3">)) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    labs</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">x</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Schema&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">y</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Bytes (in-memory)&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">color</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Module&quot;</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    theme</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">axis.text.x</span><span style="color:#FF7B72"> =</span><span style="color:#FFA657"> element_text</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">angle</span><span style="color:#FF7B72"> =</span><span style="color:#FF7B72"> -</span><span style="color:#79C0FF">90</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">size</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 8</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">vjust</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 0.5</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">hjust</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 0</span><span style="color:#E6EDF3">))</span></span></code></pre><button type="button" data="schemas |&gt;
  separate(schema, c(&quot;module&quot;, &quot;type&quot;), remove = FALSE) |&gt;
  ggplot(aes(x = reorder(schema, -n), y = bytes_memory / n, fill = module)) +
    geom_bar(stat = &quot;identity&quot;) +
    guides(fill = &quot;none&quot;) +
    scale_y_continuous(labels = scales::label_bytes(units = &quot;auto_si&quot;)) +
    labs(x = &quot;Schema&quot;, y = &quot;Bytes (in-memory)&quot;, color = &quot;Module&quot;) +
    theme(axis.text.x = element_text(angle = -90, size = 8, vjust = 0.5, hjust = 0))" title="Copy code" aria-label="Copy code" class="rehype-pretty-copy" data-feedback-duration="3000" data-name="rehype-pretty-copy-button"><span class="ready"></span><span class="success"></span></button><style>
    :root {
      --copy-icon: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDM2IDM2Ij48cmVjdCB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjYmZjN2Q1IiBkPSJNMjkuNSA3aC0xOUExLjUgMS41IDAgMCAwIDkgOC41djI0YTEuNSAxLjUgMCAwIDAgMS41IDEuNWgxOWExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTI0QTEuNSAxLjUgMCAwIDAgMjkuNSA3TTI5IDMySDExVjloMThaIiBjbGFzcz0iY2xyLWktb3V0bGluZSBjbHItaS1vdXRsaW5lLXBhdGgtMSIvPjxwYXRoIGZpbGw9IiNiZmM3ZDUiIGQ9Ik0yNiAzLjVBMS41IDEuNSAwIDAgMCAyNC41IDJoLTE5QTEuNSAxLjUgMCAwIDAgNCAzLjV2MjRBMS41IDEuNSAwIDAgMCA1LjUgMjlINlY0aDIwWiIgY2xhc3M9ImNsci1pLW91dGxpbmUgY2xyLWktb3V0bGluZS1wYXRoLTIiLz48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDM2djM2SDB6Ii8+PC9zdmc+&quot;);
      --success-icon: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cmVjdCB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjMDBkNjAwIiBkPSJNMjEgN0w5IDE5bC01LjUtNS41bDEuNDEtMS40MUw5IDE2LjE3TDE5LjU5IDUuNTl6Ii8+PC9zdmc+&quot;);
    }

    pre:has(code) {
      position: relative;
    }

    button[data=&#x27;&lt;span&gt;&#x27;] {
      width: 0;
      height: 0;
      display: none;
      visibility: hidden;
    }

    pre button.rehype-pretty-copy {
      top: 1px;
      right: 1px;
      padding: 0;
      width: 24px;
      height: 24px;
      display: flex;
      cursor: pointer;
      margin-top: 8px;
      margin-right: 8px;
      position: absolute;
      border-radius: 25%;
      &amp; span {
        width: 100%;
        aspect-ratio: 1 / 1;
        background-repeat: no-repeat;
      }
      &amp; .ready {
        background-image: var(--copy-icon);
      }
      &amp; .success {
        display: none;
        background-image: var(--success-icon);
      }
    }

    &amp;.rehype-pretty-copied { 
      &amp; .success { 
        display: block;
      } &amp; .ready {
        display: none;
      }
    }

    pre button.rehype-pretty-copy.rehype-pretty-copied {
      opacity: 1;
      cursor: default;
      &amp; .ready { display: none; }
      &amp; .success { display: block; }
    }

      pre button.rehype-pretty-copy { opacity: 0; }
      button[data-name=&quot;rehype-pretty-copy-button&quot;]:hover {
        opacity: 1;
      }
    </style></code></pre></figure></div></div></details><svg xmlns="http://www.w3.org/2000/svg" class="svglite" width="672" height="480" viewBox="0 0 504 360"><defs><style>.svglite polyline,.svglite rect{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.svglite text{white-space:pre}</style></defs><rect width="100%" height="100%" style="stroke:none;fill:none"></rect><defs><clipPath id="cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA="><path d="M0 0h504v360H0z"></path></clipPath></defs><defs><clipPath id="cpNDkuMDd8NDk4LjUyfDUuNDh8MjU5LjA3"><path d="M49.07 5.48h449.45v253.59H49.07z"></path></clipPath></defs><g clip-path="url(#cpNDkuMDd8NDk4LjUyfDUuNDh8MjU5LjA3)"><path style="stroke-width:0.53;stroke:#ebebeb;stroke-linecap:butt" d="M49.07 218.4h449.45M49.07 160.12h449.45M49.07 101.85h449.45M49.07 43.57h449.45"></path><path style="stroke-width:1.07;stroke:#ebebeb;stroke-linecap:butt" d="M49.07 247.54h449.45M49.07 189.26h449.45M49.07 130.99h449.45M49.07 72.71h449.45M49.07 14.43h449.45M55.46 259.07V5.48M66.11 259.07V5.48M76.76 259.07V5.48M87.41 259.07V5.48M98.06 259.07V5.48M108.71 259.07V5.48M119.36 259.07V5.48M130.01 259.07V5.48M140.67 259.07V5.48M151.32 259.07V5.48M161.97 259.07V5.48M172.62 259.07V5.48M183.27 259.07V5.48M193.92 259.07V5.48M204.57 259.07V5.48M215.22 259.07V5.48M225.87 259.07V5.48M236.52 259.07V5.48M247.17 259.07V5.48M257.82 259.07V5.48M268.47 259.07V5.48M279.12 259.07V5.48M289.77 259.07V5.48M300.42 259.07V5.48M311.07 259.07V5.48M321.72 259.07V5.48M332.37 259.07V5.48M343.02 259.07V5.48M353.67 259.07V5.48M364.32 259.07V5.48M374.98 259.07V5.48M385.63 259.07V5.48M396.28 259.07V5.48M406.93 259.07V5.48M417.58 259.07V5.48M428.23 259.07V5.48M438.88 259.07V5.48M449.53 259.07V5.48M460.18 259.07V5.48M470.83 259.07V5.48M481.48 259.07V5.48M492.13 259.07V5.48"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#f8766d" d="M50.67 164.47h9.59v83.07h-9.59z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#00ba38" d="M210.43 222.73h9.59v24.81h-9.59zM189.12 226.5h9.59v21.04h-9.59zM380.83 211.37h9.59v36.17h-9.59zM82.62 205.08h9.59v42.46h-9.59zM178.47 197.89h9.59v49.65h-9.59zM71.97 222.91h9.59v24.63h-9.59zM338.23 17.01h9.59v230.53h-9.59zM103.92 208.12h9.59v39.42h-9.59zM466.04 206.28h9.59v41.26h-9.59zM263.68 218.28h9.59v29.26h-9.59zM348.88 221.03h9.59v26.51h-9.59zM146.52 201.35h9.59v46.19h-9.59zM370.18 197.77h9.59v49.77h-9.59zM412.78 224.59h9.59v22.95h-9.59zM434.09 227.85h9.59v19.69h-9.59zM125.22 212.54h9.59v35h-9.59z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#619cff" d="M61.32 227.46h9.59v20.08h-9.59zM167.82 232.31h9.59v15.23h-9.59zM402.13 222.19h9.59v25.35h-9.59zM93.27 219.66h9.59v27.88h-9.59zM306.28 226.03h9.59v21.51h-9.59zM157.17 223.23h9.59v24.31h-9.59zM455.39 217.15h9.59v30.39h-9.59zM114.57 209.54h9.59v38h-9.59zM231.73 226.21h9.59v21.33h-9.59zM359.53 228.79h9.59v18.75h-9.59zM284.98 225.92h9.59v21.62h-9.59zM221.08 224.1h9.59v23.44h-9.59zM476.69 242.64h9.59v4.9h-9.59zM391.48 231.25h9.59v16.29h-9.59zM487.34 227.96h9.59v19.58h-9.59zM444.74 235.55h9.59v11.99h-9.59zM327.58 207.72h9.59v39.82h-9.59zM295.63 218.25h9.59v29.29h-9.59zM274.33 232.53h9.59v15.01h-9.59zM253.03 211.95h9.59v35.59h-9.59zM423.43 230.62h9.59v16.92h-9.59zM135.87 219.63h9.59v27.91h-9.59zM316.93 234.51h9.59v13.03h-9.59zM199.78 233h9.59v14.54h-9.59zM242.38 183.31h9.59v64.23h-9.59z"></path></g><g clip-path="url(#cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA=)"><text x="44.14" y="250.75" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="14.42" lengthAdjust="spacingAndGlyphs">0 B</text><text x="44.14" y="192.47" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="25.61" lengthAdjust="spacingAndGlyphs">500 B</text><text x="44.14" y="134.19" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="19.52" lengthAdjust="spacingAndGlyphs">1 kB</text><text x="44.14" y="75.92" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="19.52" lengthAdjust="spacingAndGlyphs">2 kB</text><text x="44.14" y="17.64" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="19.52" lengthAdjust="spacingAndGlyphs">2 kB</text><text transform="matrix(0 1 -1 0 52.55 264)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="48.78" lengthAdjust="spacingAndGlyphs">pcap.packet</text><text transform="rotate(90 -100.4 163.6)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="40.65" lengthAdjust="spacingAndGlyphs">zeek.conn</text><text transform="rotate(90 -95.075 168.925)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="51.12" lengthAdjust="spacingAndGlyphs">suricata.flow</text><text transform="rotate(90 -89.75 174.25)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="48.95" lengthAdjust="spacingAndGlyphs">suricata.dns</text><text transform="rotate(90 -84.425 179.575)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="35.53" lengthAdjust="spacingAndGlyphs">zeek.dns</text><text transform="rotate(90 -79.1 184.9)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="51.06" lengthAdjust="spacingAndGlyphs">suricata.http</text><text transform="rotate(90 -73.775 190.225)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="37.64" lengthAdjust="spacingAndGlyphs">zeek.http</text><text transform="rotate(90 -68.45 195.55)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="44.17" lengthAdjust="spacingAndGlyphs">suricata.tls</text><text transform="rotate(90 -63.125 200.875)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="31.78" lengthAdjust="spacingAndGlyphs">zeek.ssl</text><text transform="rotate(90 -57.8 206.2)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="51.67" lengthAdjust="spacingAndGlyphs">suricata.smb</text><text transform="rotate(90 -52.475 211.525)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="37.58" lengthAdjust="spacingAndGlyphs">zeek.files</text><text transform="rotate(90 -47.15 216.85)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="52.39" lengthAdjust="spacingAndGlyphs">zeek.dce_rpc</text><text transform="rotate(90 -41.825 222.175)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="61.83" lengthAdjust="spacingAndGlyphs">suricata.fileinfo</text><text transform="rotate(90 -36.5 227.5)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="61.8" lengthAdjust="spacingAndGlyphs">suricata.dcerpc</text><text transform="rotate(90 -31.175 232.825)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="43.14" lengthAdjust="spacingAndGlyphs">zeek.weird</text><text transform="rotate(90 -25.85 238.15)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="69.16" lengthAdjust="spacingAndGlyphs">suricata.anomaly</text><text transform="rotate(90 -20.525 243.475)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="39.76" lengthAdjust="spacingAndGlyphs">zeek.ocsp</text><text transform="rotate(90 -15.2 248.8)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="55.96" lengthAdjust="spacingAndGlyphs">zeek.kerberos</text><text transform="rotate(90 -9.875 254.125)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="41.22" lengthAdjust="spacingAndGlyphs">zeek.x509</text><text transform="rotate(90 -4.55 259.45)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="41.39" lengthAdjust="spacingAndGlyphs">zeek.smtp</text><text transform="rotate(90 .775 264.775)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="52.73" lengthAdjust="spacingAndGlyphs">suricata.krb5</text><text transform="rotate(90 6.105 270.105)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="77.47" lengthAdjust="spacingAndGlyphs">zeek.smb_mapping</text><text transform="rotate(90 11.43 275.43)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="34.5" lengthAdjust="spacingAndGlyphs">zeek.ntp</text><text transform="rotate(90 16.755 280.755)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="58.62" lengthAdjust="spacingAndGlyphs">zeek.smb_files</text><text transform="rotate(90 22.08 286.08)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="36.45" lengthAdjust="spacingAndGlyphs">zeek.dpd</text><text transform="rotate(90 27.405 291.405)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="46.71" lengthAdjust="spacingAndGlyphs">zeek.tunnel</text><text transform="rotate(90 32.73 296.73)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="32.69" lengthAdjust="spacingAndGlyphs">zeek.sip</text><text transform="rotate(90 38.055 302.055)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="45.53" lengthAdjust="spacingAndGlyphs">suricata.ftp</text><text transform="rotate(90 43.38 307.38)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="46.11" lengthAdjust="spacingAndGlyphs">suricata.sip</text><text transform="rotate(90 48.705 312.705)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="39.44" lengthAdjust="spacingAndGlyphs">zeek.ntlm</text><text transform="rotate(90 54.03 318.03)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="54.81" lengthAdjust="spacingAndGlyphs">suricata.smtp</text><text transform="rotate(90 59.355 323.355)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="54.26" lengthAdjust="spacingAndGlyphs">suricata.dhcp</text><text transform="rotate(90 64.68 328.68)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="31.22" lengthAdjust="spacingAndGlyphs">zeek.pe</text><text transform="rotate(90 70.005 334.005)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="40.84" lengthAdjust="spacingAndGlyphs">zeek.dhcp</text><text transform="rotate(90 75.33 339.33)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="56.74" lengthAdjust="spacingAndGlyphs">suricata.snmp</text><text transform="rotate(90 80.655 344.655)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="43.32" lengthAdjust="spacingAndGlyphs">zeek.snmp</text><text transform="rotate(90 85.98 349.98)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="48.66" lengthAdjust="spacingAndGlyphs">suricata.tftp</text><text transform="rotate(90 91.305 355.305)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="53.88" lengthAdjust="spacingAndGlyphs">zeek.reporter</text><text transform="rotate(90 96.63 360.63)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="32.1" lengthAdjust="spacingAndGlyphs">zeek.ftp</text><text transform="rotate(90 101.955 365.955)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="55.95" lengthAdjust="spacingAndGlyphs">suricata.ikev2</text><text transform="rotate(90 107.28 371.28)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="70.62" lengthAdjust="spacingAndGlyphs">zeek.packet_filter</text><text transform="rotate(90 112.605 376.605)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="45.95" lengthAdjust="spacingAndGlyphs">zeek.radius</text><text x="273.8" y="352.23" text-anchor="middle" style="font-size:11px;font-family:&amp;quot" textLength="44.22" lengthAdjust="spacingAndGlyphs">Schema</text><text transform="rotate(-90 72.885 59.385)" text-anchor="middle" style="font-size:11px;font-family:&amp;quot" textLength="102.9" lengthAdjust="spacingAndGlyphs">Bytes (in-memory)</text></g></svg><p>The above plot keeps the x-axis from the previous plot, but exchanges the y-axis
to show normalized event size, in memory after parsing. Most events
take up a few 100 bytes, with packet data consuming a bit more, and one 5x
outlier: <code>suricata.ftp</code>.</p><p>Such distributions are normal, even with these outliers. Some telemetry events
simply have more string data that’s a function of user input. For <code>suricata.ftp</code>
specifically, it can grow linearly with the data transmitted. Here’s a stripped
down example of an event that is greater than 5 kB in its raw JSON:</p><figure data-rehype-pretty-code-figure=""><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span data-line=""><span style="color:#E6EDF3">{</span></span>
<span data-line=""><span style="color:#7EE787">  &quot;timestamp&quot;</span><span style="color:#E6EDF3">: </span><span style="color:#A5D6FF">&quot;2021-11-19T05:08:50.885981+0100&quot;</span><span style="color:#E6EDF3">,</span></span>
<span data-line=""><span style="color:#7EE787">  &quot;flow_id&quot;</span><span style="color:#E6EDF3">: </span><span style="color:#79C0FF">1339403323589433</span><span style="color:#E6EDF3">,</span></span>
<span data-line=""><span style="color:#7EE787">  &quot;pcap_cnt&quot;</span><span style="color:#E6EDF3">: </span><span style="color:#79C0FF">5428538</span><span style="color:#E6EDF3">,</span></span>
<span data-line=""><span style="color:#7EE787">  &quot;event_type&quot;</span><span style="color:#E6EDF3">: </span><span style="color:#A5D6FF">&quot;ftp&quot;</span><span style="color:#E6EDF3">,</span></span>
<span data-line=""><span style="color:#7EE787">  &quot;src_ip&quot;</span><span style="color:#E6EDF3">: </span><span style="color:#A5D6FF">&quot;10.5.5.101&quot;</span><span style="color:#E6EDF3">,</span></span>
<span data-line=""><span style="color:#7EE787">  &quot;src_port&quot;</span><span style="color:#E6EDF3">: </span><span style="color:#79C0FF">50479</span><span style="color:#E6EDF3">,</span></span>
<span data-line=""><span style="color:#7EE787">  &quot;dest_ip&quot;</span><span style="color:#E6EDF3">: </span><span style="color:#A5D6FF">&quot;62.24.128.228&quot;</span><span style="color:#E6EDF3">,</span></span>
<span data-line=""><span style="color:#7EE787">  &quot;dest_port&quot;</span><span style="color:#E6EDF3">: </span><span style="color:#79C0FF">110</span><span style="color:#E6EDF3">,</span></span>
<span data-line=""><span style="color:#7EE787">  &quot;proto&quot;</span><span style="color:#E6EDF3">: </span><span style="color:#A5D6FF">&quot;TCP&quot;</span><span style="color:#E6EDF3">,</span></span>
<span data-line=""><span style="color:#7EE787">  &quot;tx_id&quot;</span><span style="color:#E6EDF3">: </span><span style="color:#79C0FF">12</span><span style="color:#E6EDF3">,</span></span>
<span data-line=""><span style="color:#7EE787">  &quot;community_id&quot;</span><span style="color:#E6EDF3">: </span><span style="color:#A5D6FF">&quot;1:kUFeGEpYT1JO1VCwF8wZWUWn0J0=&quot;</span><span style="color:#E6EDF3">,</span></span>
<span data-line=""><span style="color:#7EE787">  &quot;ftp&quot;</span><span style="color:#E6EDF3">: {</span></span>
<span data-line=""><span style="color:#7EE787">    &quot;completion_code&quot;</span><span style="color:#E6EDF3">: [</span></span>
<span data-line=""><span style="color:#A5D6FF">      &quot;155&quot;</span><span style="color:#E6EDF3">,</span></span>
<span data-line=""><span style="color:#FFA198;font-style:italic">      ...</span></span>
<span data-line=""><span style="color:#FFA198;font-style:italic">      &lt;stripped</span><span style="color:#79C0FF"> 330</span><span style="color:#FFA198;font-style:italic"> lines&gt;</span></span>
<span data-line=""><span style="color:#FFA198;font-style:italic">      ...</span></span>
<span data-line=""><span style="color:#A5D6FF">      &quot;188&quot;</span><span style="color:#E6EDF3">,</span></span>
<span data-line=""><span style="color:#A5D6FF">      &quot;188&quot;</span><span style="color:#E6EDF3">,</span></span>
<span data-line=""><span style="color:#A5D6FF">      &quot;188&quot;</span></span>
<span data-line=""><span style="color:#E6EDF3">    ],</span></span>
<span data-line=""><span style="color:#7EE787">    &quot;reply&quot;</span><span style="color:#E6EDF3">: [</span></span>
<span data-line=""><span style="color:#A5D6FF">      &quot; 41609&quot;</span><span style="color:#E6EDF3">,</span></span>
<span data-line=""><span style="color:#FFA198;font-style:italic">      ...</span></span>
<span data-line=""><span style="color:#FFA198;font-style:italic">      &lt;stripped</span><span style="color:#79C0FF"> 330</span><span style="color:#FFA198;font-style:italic"> lines&gt;</span></span>
<span data-line=""><span style="color:#FFA198;font-style:italic">      ...</span></span>
<span data-line=""><span style="color:#A5D6FF">      &quot; 125448&quot;</span><span style="color:#E6EDF3">,</span></span>
<span data-line=""><span style="color:#A5D6FF">      &quot; 126158&quot;</span><span style="color:#E6EDF3">,</span></span>
<span data-line=""><span style="color:#A5D6FF">      &quot; 29639&quot;</span></span>
<span data-line=""><span style="color:#E6EDF3">    ],</span></span>
<span data-line=""><span style="color:#7EE787">    &quot;reply_received&quot;</span><span style="color:#E6EDF3">: </span><span style="color:#A5D6FF">&quot;yes&quot;</span></span>
<span data-line=""><span style="color:#E6EDF3">  }</span></span>
<span data-line=""><span style="color:#E6EDF3">}</span></span></code></pre><button type="button" data="{
  &quot;timestamp&quot;: &quot;2021-11-19T05:08:50.885981+0100&quot;,
  &quot;flow_id&quot;: 1339403323589433,
  &quot;pcap_cnt&quot;: 5428538,
  &quot;event_type&quot;: &quot;ftp&quot;,
  &quot;src_ip&quot;: &quot;10.5.5.101&quot;,
  &quot;src_port&quot;: 50479,
  &quot;dest_ip&quot;: &quot;62.24.128.228&quot;,
  &quot;dest_port&quot;: 110,
  &quot;proto&quot;: &quot;TCP&quot;,
  &quot;tx_id&quot;: 12,
  &quot;community_id&quot;: &quot;1:kUFeGEpYT1JO1VCwF8wZWUWn0J0=&quot;,
  &quot;ftp&quot;: {
    &quot;completion_code&quot;: [
      &quot;155&quot;,
      ...
      &lt;stripped 330 lines&gt;
      ...
      &quot;188&quot;,
      &quot;188&quot;,
      &quot;188&quot;
    ],
    &quot;reply&quot;: [
      &quot; 41609&quot;,
      ...
      &lt;stripped 330 lines&gt;
      ...
      &quot; 125448&quot;,
      &quot; 126158&quot;,
      &quot; 29639&quot;
    ],
    &quot;reply_received&quot;: &quot;yes&quot;
  }
}" title="Copy code" aria-label="Copy code" class="rehype-pretty-copy" data-feedback-duration="3000" data-name="rehype-pretty-copy-button"><span class="ready"></span><span class="success"></span></button><style>
    :root {
      --copy-icon: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDM2IDM2Ij48cmVjdCB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjYmZjN2Q1IiBkPSJNMjkuNSA3aC0xOUExLjUgMS41IDAgMCAwIDkgOC41djI0YTEuNSAxLjUgMCAwIDAgMS41IDEuNWgxOWExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTI0QTEuNSAxLjUgMCAwIDAgMjkuNSA3TTI5IDMySDExVjloMThaIiBjbGFzcz0iY2xyLWktb3V0bGluZSBjbHItaS1vdXRsaW5lLXBhdGgtMSIvPjxwYXRoIGZpbGw9IiNiZmM3ZDUiIGQ9Ik0yNiAzLjVBMS41IDEuNSAwIDAgMCAyNC41IDJoLTE5QTEuNSAxLjUgMCAwIDAgNCAzLjV2MjRBMS41IDEuNSAwIDAgMCA1LjUgMjlINlY0aDIwWiIgY2xhc3M9ImNsci1pLW91dGxpbmUgY2xyLWktb3V0bGluZS1wYXRoLTIiLz48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDM2djM2SDB6Ii8+PC9zdmc+&quot;);
      --success-icon: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cmVjdCB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjMDBkNjAwIiBkPSJNMjEgN0w5IDE5bC01LjUtNS41bDEuNDEtMS40MUw5IDE2LjE3TDE5LjU5IDUuNTl6Ii8+PC9zdmc+&quot;);
    }

    pre:has(code) {
      position: relative;
    }

    button[data=&#x27;&lt;span&gt;&#x27;] {
      width: 0;
      height: 0;
      display: none;
      visibility: hidden;
    }

    pre button.rehype-pretty-copy {
      top: 1px;
      right: 1px;
      padding: 0;
      width: 24px;
      height: 24px;
      display: flex;
      cursor: pointer;
      margin-top: 8px;
      margin-right: 8px;
      position: absolute;
      border-radius: 25%;
      &amp; span {
        width: 100%;
        aspect-ratio: 1 / 1;
        background-repeat: no-repeat;
      }
      &amp; .ready {
        background-image: var(--copy-icon);
      }
      &amp; .success {
        display: none;
        background-image: var(--success-icon);
      }
    }

    &amp;.rehype-pretty-copied { 
      &amp; .success { 
        display: block;
      } &amp; .ready {
        display: none;
      }
    }

    pre button.rehype-pretty-copy.rehype-pretty-copied {
      opacity: 1;
      cursor: default;
      &amp; .ready { display: none; }
      &amp; .success { display: block; }
    }

      pre button.rehype-pretty-copy { opacity: 0; }
      button[data-name=&quot;rehype-pretty-copy-button&quot;]:hover {
        opacity: 1;
      }
    </style></code></pre></figure><p>This matches our mental model. A few hundred bytes per event with some outliers.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="batching">Batching<a href="#batching" class="hash-link" aria-label="Direct link to Batching" title="Direct link to Batching">​</a></h3><p>On the inside, a store is a concatenation of homogeneous Arrow record batches,
all having the same schema.</p><p>The Feather format is essentially the IPC wire format of record batches. Schemas
and dictionaries are only included when they change. For our stores, this means
just once in the beginning. In order to access a given row in a Feather file,
you need to start at the beginning, iterate batch by batch until you arrive at
the desired batch, and then materialize it before you can access the desired
row via random access.</p><p>Parquet has <em>row groups</em> that are much like a record batch, except that they are
created at write time, so Parquet determines their size rather than the incoming
data. Parquet offers random access over both the row groups and within an
individual batch that is materialized from a row group. The on-disk layout of
Parquet is still row-group by row-group, and in that column by column, so
there’s no big difference between Parquet and Feather in that regard. Parquet
encodes columns using different encoding techniques than Arrow’s IPC format.</p><p>Most stores only consist of a few record batches. PCAP is the only difference.
Small stores are suboptimal because the catalog keeps in-memory state that is a
linear function of the number of stores. (We are aware of this concern and are
exploring improvements, but this topic is out of scope for this post.) The issue
here is catalog fragmentation.</p><p>As of <a href="/releases/vast-v2.3">v2.3</a>, VAST has automatic rebuilding in place, which
merges underfull partitions to reduce pressure on the catalog. This doesn’t fix
the problem of linear state, but gives us much sufficient reach for real-world
deployments.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="size">Size<a href="#size" class="hash-link" aria-label="Direct link to Size" title="Direct link to Size">​</a></h2><p>To better understand the difference between Parquet and Feather, we now take a
look at them right next to each other. In addition to Feather and Parquet, we
use two other types of “stores” for the analysis to facilitate comparison:</p><ol><li><p><strong>Original</strong>: the size of the input prior it entered VAST, e.g., the raw JSON or
a PCAP file.</p></li><li><p><strong>Memory</strong>: the size of the data in memory, measured as the sum of Arrow
buffers that make up the table slice.</p></li></ol><p>Let’s kick of the analysis by getting a better understanding at the size
distribution.</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Code</summary><div><div class="collapsibleContent_i85q"><figure data-rehype-pretty-code-figure=""><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span data-line=""><span style="color:#E6EDF3">unified </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  bind_rows</span><span style="color:#E6EDF3">(original, memory) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  ggplot</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">aes</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">x</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> reorder</span><span style="color:#E6EDF3">(store, </span><span style="color:#FF7B72">-</span><span style="color:#E6EDF3">bytes, </span><span style="color:#FFA657">FUN</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;median&quot;</span><span style="color:#E6EDF3">),</span></span>
<span data-line=""><span style="color:#FFA657">             y</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> bytes, </span><span style="color:#FFA657">color</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> store_class)) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">  geom_boxplot</span><span style="color:#E6EDF3">() </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">  scale_y_log10</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">labels</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> scales</span><span style="color:#FF7B72">::</span><span style="color:#FFA657">label_bytes</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">units</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;auto_si&quot;</span><span style="color:#E6EDF3">)) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">  labs</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">x</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Store&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">y</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Bytes/Event&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">color</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Store&quot;</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">  theme</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">axis.text.x</span><span style="color:#FF7B72"> =</span><span style="color:#FFA657"> element_text</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">angle</span><span style="color:#FF7B72"> =</span><span style="color:#FF7B72"> -</span><span style="color:#79C0FF">90</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">size</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 8</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">vjust</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 0.5</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">hjust</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 0</span><span style="color:#E6EDF3">))</span></span></code></pre><button type="button" data="unified |&gt;
  bind_rows(original, memory) |&gt;
  ggplot(aes(x = reorder(store, -bytes, FUN = &quot;median&quot;),
             y = bytes, color = store_class)) +
  geom_boxplot() +
  scale_y_log10(labels = scales::label_bytes(units = &quot;auto_si&quot;)) +
  labs(x = &quot;Store&quot;, y = &quot;Bytes/Event&quot;, color = &quot;Store&quot;) +
  theme(axis.text.x = element_text(angle = -90, size = 8, vjust = 0.5, hjust = 0))" title="Copy code" aria-label="Copy code" class="rehype-pretty-copy" data-feedback-duration="3000" data-name="rehype-pretty-copy-button"><span class="ready"></span><span class="success"></span></button><style>
    :root {
      --copy-icon: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDM2IDM2Ij48cmVjdCB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjYmZjN2Q1IiBkPSJNMjkuNSA3aC0xOUExLjUgMS41IDAgMCAwIDkgOC41djI0YTEuNSAxLjUgMCAwIDAgMS41IDEuNWgxOWExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTI0QTEuNSAxLjUgMCAwIDAgMjkuNSA3TTI5IDMySDExVjloMThaIiBjbGFzcz0iY2xyLWktb3V0bGluZSBjbHItaS1vdXRsaW5lLXBhdGgtMSIvPjxwYXRoIGZpbGw9IiNiZmM3ZDUiIGQ9Ik0yNiAzLjVBMS41IDEuNSAwIDAgMCAyNC41IDJoLTE5QTEuNSAxLjUgMCAwIDAgNCAzLjV2MjRBMS41IDEuNSAwIDAgMCA1LjUgMjlINlY0aDIwWiIgY2xhc3M9ImNsci1pLW91dGxpbmUgY2xyLWktb3V0bGluZS1wYXRoLTIiLz48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDM2djM2SDB6Ii8+PC9zdmc+&quot;);
      --success-icon: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cmVjdCB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjMDBkNjAwIiBkPSJNMjEgN0w5IDE5bC01LjUtNS41bDEuNDEtMS40MUw5IDE2LjE3TDE5LjU5IDUuNTl6Ii8+PC9zdmc+&quot;);
    }

    pre:has(code) {
      position: relative;
    }

    button[data=&#x27;&lt;span&gt;&#x27;] {
      width: 0;
      height: 0;
      display: none;
      visibility: hidden;
    }

    pre button.rehype-pretty-copy {
      top: 1px;
      right: 1px;
      padding: 0;
      width: 24px;
      height: 24px;
      display: flex;
      cursor: pointer;
      margin-top: 8px;
      margin-right: 8px;
      position: absolute;
      border-radius: 25%;
      &amp; span {
        width: 100%;
        aspect-ratio: 1 / 1;
        background-repeat: no-repeat;
      }
      &amp; .ready {
        background-image: var(--copy-icon);
      }
      &amp; .success {
        display: none;
        background-image: var(--success-icon);
      }
    }

    &amp;.rehype-pretty-copied { 
      &amp; .success { 
        display: block;
      } &amp; .ready {
        display: none;
      }
    }

    pre button.rehype-pretty-copy.rehype-pretty-copied {
      opacity: 1;
      cursor: default;
      &amp; .ready { display: none; }
      &amp; .success { display: block; }
    }

      pre button.rehype-pretty-copy { opacity: 0; }
      button[data-name=&quot;rehype-pretty-copy-button&quot;]:hover {
        opacity: 1;
      }
    </style></code></pre></figure></div></div></details><svg xmlns="http://www.w3.org/2000/svg" class="svglite" width="672" height="480" viewBox="0 0 504 360"><defs><style>.svglite circle,.svglite line,.svglite polygon,.svglite polyline,.svglite rect{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.svglite text{white-space:pre}</style></defs><rect width="100%" height="100%" style="stroke:none;fill:none"></rect><defs><clipPath id="cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA="><path d="M0 0h504v360H0z"></path></clipPath></defs><defs><clipPath id="cpNDkuMDd8NDE3LjA5fDUuNDh8Mjg3LjA1"><path d="M49.07 5.48h368.02v281.57H49.07z"></path></clipPath></defs><g clip-path="url(#cpNDkuMDd8NDE3LjA5fDUuNDh8Mjg3LjA1)"><path style="stroke-width:0.53;stroke:#ebebeb;stroke-linecap:butt" d="M49.07 231.34h368.02M49.07 146.91h368.02M49.07 62.47h368.02"></path><path style="stroke-width:1.07;stroke:#ebebeb;stroke-linecap:butt" d="M49.07 273.56h368.02M49.07 189.13h368.02M49.07 104.69h368.02M49.07 20.25h368.02M67.17 287.05V5.48M97.34 287.05V5.48M127.5 287.05V5.48M157.67 287.05V5.48M187.83 287.05V5.48M218 287.05V5.48M248.16 287.05V5.48M278.33 287.05V5.48M308.49 287.05V5.48M338.66 287.05V5.48M368.82 287.05V5.48M398.99 287.05V5.48"></path><circle cx="67.17" cy="79.33" r="1.95" style="stroke-width:0.71;stroke:#f8766d;fill:#f8766d"></circle><circle cx="67.17" cy="35.65" r="1.95" style="stroke-width:0.71;stroke:#f8766d;fill:#f8766d"></circle><circle cx="67.17" cy="86.27" r="1.95" style="stroke-width:0.71;stroke:#f8766d;fill:#f8766d"></circle><circle cx="67.17" cy="85.44" r="1.95" style="stroke-width:0.71;stroke:#f8766d;fill:#f8766d"></circle><circle cx="67.17" cy="49.94" r="1.95" style="stroke-width:0.71;stroke:#f8766d;fill:#f8766d"></circle><path style="stroke-width:1.07;stroke:#f8766d;stroke-linecap:butt" d="M67.17 141.19V116.7M67.17 164.35v16.71"></path><path style="stroke-width:1.07;stroke:#f8766d;stroke-linecap:butt;stroke-linejoin:miter;fill:#fff" d="M55.86 141.19v23.16h22.62v-23.16H55.86z"></path><path style="stroke-width:2.13;stroke:#f8766d;stroke-linecap:butt;stroke-linejoin:miter" d="M55.86 154.8h22.62"></path><path style="stroke-width:1.07;stroke:#00bfc4;stroke-linecap:butt" d="M97.34 132.4V77.68M97.34 180.78v71.48"></path><path style="stroke-width:1.07;stroke:#00bfc4;stroke-linecap:butt;stroke-linejoin:miter;fill:#fff" d="M86.02 132.4v48.38h22.63V132.4H86.02z"></path><path style="stroke-width:2.13;stroke:#00bfc4;stroke-linecap:butt;stroke-linejoin:miter" d="M86.02 157.71h22.63"></path><circle cx="127.5" cy="79.68" r="1.95" style="stroke-width:0.71;stroke:#7cae00;fill:#7cae00"></circle><circle cx="127.5" cy="220.94" r="1.95" style="stroke-width:0.71;stroke:#7cae00;fill:#7cae00"></circle><path style="stroke-width:1.07;stroke:#7cae00;stroke-linecap:butt" d="M127.5 146.24v-29.13M127.5 169.71v18.38"></path><path style="stroke-width:1.07;stroke:#7cae00;stroke-linecap:butt;stroke-linejoin:miter;fill:#fff" d="M116.19 146.24v23.47h22.62v-23.47h-22.62z"></path><path style="stroke-width:2.13;stroke:#7cae00;stroke-linecap:butt;stroke-linejoin:miter" d="M116.19 161.02h22.62"></path><circle cx="157.67" cy="130.02" r="1.95" style="stroke-width:0.71;stroke:#f8766d;fill:#f8766d"></circle><circle cx="157.67" cy="115.35" r="1.95" style="stroke-width:0.71;stroke:#f8766d;fill:#f8766d"></circle><circle cx="157.67" cy="31.36" r="1.95" style="stroke-width:0.71;stroke:#f8766d;fill:#f8766d"></circle><circle cx="157.67" cy="84.24" r="1.95" style="stroke-width:0.71;stroke:#f8766d;fill:#f8766d"></circle><circle cx="157.67" cy="81.65" r="1.95" style="stroke-width:0.71;stroke:#f8766d;fill:#f8766d"></circle><circle cx="157.67" cy="45.83" r="1.95" style="stroke-width:0.71;stroke:#f8766d;fill:#f8766d"></circle><path style="stroke-width:1.07;stroke:#f8766d;stroke-linecap:butt" d="M157.67 178.4v-27.52M157.67 203.3v30.09"></path><path style="stroke-width:1.07;stroke:#f8766d;stroke-linecap:butt;stroke-linejoin:miter;fill:#fff" d="M146.35 178.4v24.9h22.63v-24.9h-22.63z"></path><path style="stroke-width:2.13;stroke:#f8766d;stroke-linecap:butt;stroke-linejoin:miter" d="M146.35 190.69h22.63"></path><circle cx="187.83" cy="119.25" r="1.95" style="stroke-width:0.71;stroke:#c77cff;fill:#c77cff"></circle><circle cx="187.83" cy="89.42" r="1.95" style="stroke-width:0.71;stroke:#c77cff;fill:#c77cff"></circle><circle cx="187.83" cy="19.8" r="1.95" style="stroke-width:0.71;stroke:#c77cff;fill:#c77cff"></circle><circle cx="187.83" cy="73.84" r="1.95" style="stroke-width:0.71;stroke:#c77cff;fill:#c77cff"></circle><circle cx="187.83" cy="73.37" r="1.95" style="stroke-width:0.71;stroke:#c77cff;fill:#c77cff"></circle><circle cx="187.83" cy="38.97" r="1.95" style="stroke-width:0.71;stroke:#c77cff;fill:#c77cff"></circle><path style="stroke-width:1.07;stroke:#c77cff;stroke-linecap:butt" d="M187.83 179.16v-40.95M187.83 208.36v40.75"></path><path style="stroke-width:1.07;stroke:#c77cff;stroke-linecap:butt;stroke-linejoin:miter;fill:#fff" d="M176.52 179.16v29.2h22.62v-29.2h-22.62z"></path><path style="stroke-width:2.13;stroke:#c77cff;stroke-linecap:butt;stroke-linejoin:miter" d="M176.52 192.67h22.62"></path><circle cx="218" cy="130.69" r="1.95" style="stroke-width:0.71;stroke:#c77cff;fill:#c77cff"></circle><circle cx="218" cy="121.71" r="1.95" style="stroke-width:0.71;stroke:#c77cff;fill:#c77cff"></circle><circle cx="218" cy="18.28" r="1.95" style="stroke-width:0.71;stroke:#c77cff;fill:#c77cff"></circle><circle cx="218" cy="72.61" r="1.95" style="stroke-width:0.71;stroke:#c77cff;fill:#c77cff"></circle><circle cx="218" cy="71.99" r="1.95" style="stroke-width:0.71;stroke:#c77cff;fill:#c77cff"></circle><circle cx="218" cy="37.36" r="1.95" style="stroke-width:0.71;stroke:#c77cff;fill:#c77cff"></circle><path style="stroke-width:1.07;stroke:#c77cff;stroke-linecap:butt" d="M218 184.01v-45.87M218 218v40.64"></path><path style="stroke-width:1.07;stroke:#c77cff;stroke-linecap:butt;stroke-linejoin:miter;fill:#fff" d="M206.68 184.01V218h22.63v-33.99h-22.63z"></path><path style="stroke-width:2.13;stroke:#c77cff;stroke-linecap:butt;stroke-linejoin:miter" d="M206.68 200.7h22.63"></path><circle cx="248.16" cy="132.35" r="1.95" style="stroke-width:0.71;stroke:#f8766d;fill:#f8766d"></circle><circle cx="248.16" cy="128.41" r="1.95" style="stroke-width:0.71;stroke:#f8766d;fill:#f8766d"></circle><circle cx="248.16" cy="31.4" r="1.95" style="stroke-width:0.71;stroke:#f8766d;fill:#f8766d"></circle><circle cx="248.16" cy="85" r="1.95" style="stroke-width:0.71;stroke:#f8766d;fill:#f8766d"></circle><circle cx="248.16" cy="81.65" r="1.95" style="stroke-width:0.71;stroke:#f8766d;fill:#f8766d"></circle><circle cx="248.16" cy="45.89" r="1.95" style="stroke-width:0.71;stroke:#f8766d;fill:#f8766d"></circle><path style="stroke-width:1.07;stroke:#f8766d;stroke-linecap:butt" d="M248.16 189.4v-37.62M248.16 218.01v30.5"></path><path style="stroke-width:1.07;stroke:#f8766d;stroke-linecap:butt;stroke-linejoin:miter;fill:#fff" d="M236.85 189.4v28.61h22.62V189.4h-22.62z"></path><path style="stroke-width:2.13;stroke:#f8766d;stroke-linecap:butt;stroke-linejoin:miter" d="M236.85 202.77h22.62"></path><circle cx="278.33" cy="134.19" r="1.95" style="stroke-width:0.71;stroke:#f8766d;fill:#f8766d"></circle><circle cx="278.33" cy="130.27" r="1.95" style="stroke-width:0.71;stroke:#f8766d;fill:#f8766d"></circle><circle cx="278.33" cy="31.4" r="1.95" style="stroke-width:0.71;stroke:#f8766d;fill:#f8766d"></circle><circle cx="278.33" cy="85.09" r="1.95" style="stroke-width:0.71;stroke:#f8766d;fill:#f8766d"></circle><circle cx="278.33" cy="81.65" r="1.95" style="stroke-width:0.71;stroke:#f8766d;fill:#f8766d"></circle><circle cx="278.33" cy="45.89" r="1.95" style="stroke-width:0.71;stroke:#f8766d;fill:#f8766d"></circle><path style="stroke-width:1.07;stroke:#f8766d;stroke-linecap:butt" d="M278.33 190.57v-38.79M278.33 219.91v29.29"></path><path style="stroke-width:1.07;stroke:#f8766d;stroke-linecap:butt;stroke-linejoin:miter;fill:#fff" d="M267.02 190.57v29.34h22.62v-29.34h-22.62z"></path><path style="stroke-width:2.13;stroke:#f8766d;stroke-linecap:butt;stroke-linejoin:miter" d="M267.02 203.86h22.62"></path><circle cx="308.49" cy="134.89" r="1.95" style="stroke-width:0.71;stroke:#f8766d;fill:#f8766d"></circle><circle cx="308.49" cy="132.09" r="1.95" style="stroke-width:0.71;stroke:#f8766d;fill:#f8766d"></circle><circle cx="308.49" cy="31.52" r="1.95" style="stroke-width:0.71;stroke:#f8766d;fill:#f8766d"></circle><circle cx="308.49" cy="85.35" r="1.95" style="stroke-width:0.71;stroke:#f8766d;fill:#f8766d"></circle><circle cx="308.49" cy="81.65" r="1.95" style="stroke-width:0.71;stroke:#f8766d;fill:#f8766d"></circle><circle cx="308.49" cy="46.07" r="1.95" style="stroke-width:0.71;stroke:#f8766d;fill:#f8766d"></circle><path style="stroke-width:1.07;stroke:#f8766d;stroke-linecap:butt" d="M308.49 194.4v-42.01M308.49 224.51v28.67"></path><path style="stroke-width:1.07;stroke:#f8766d;stroke-linecap:butt;stroke-linejoin:miter;fill:#fff" d="M297.18 194.4v30.11h22.62V194.4h-22.62z"></path><path style="stroke-width:2.13;stroke:#f8766d;stroke-linecap:butt;stroke-linejoin:miter" d="M297.18 209.2h22.62"></path><circle cx="338.66" cy="18.28" r="1.95" style="stroke-width:0.71;stroke:#c77cff;fill:#c77cff"></circle><circle cx="338.66" cy="72.61" r="1.95" style="stroke-width:0.71;stroke:#c77cff;fill:#c77cff"></circle><circle cx="338.66" cy="71.99" r="1.95" style="stroke-width:0.71;stroke:#c77cff;fill:#c77cff"></circle><circle cx="338.66" cy="37.36" r="1.95" style="stroke-width:0.71;stroke:#c77cff;fill:#c77cff"></circle><path style="stroke-width:1.07;stroke:#c77cff;stroke-linecap:butt" d="M338.66 189.16v-56.28M338.66 226.99v46.18"></path><path style="stroke-width:1.07;stroke:#c77cff;stroke-linecap:butt;stroke-linejoin:miter;fill:#fff" d="M327.35 189.16v37.83h22.62v-37.83h-22.62z"></path><path style="stroke-width:2.13;stroke:#c77cff;stroke-linecap:butt;stroke-linejoin:miter" d="M327.35 210.51h22.62"></path><circle cx="368.82" cy="18.28" r="1.95" style="stroke-width:0.71;stroke:#c77cff;fill:#c77cff"></circle><circle cx="368.82" cy="72.61" r="1.95" style="stroke-width:0.71;stroke:#c77cff;fill:#c77cff"></circle><circle cx="368.82" cy="71.99" r="1.95" style="stroke-width:0.71;stroke:#c77cff;fill:#c77cff"></circle><circle cx="368.82" cy="37.36" r="1.95" style="stroke-width:0.71;stroke:#c77cff;fill:#c77cff"></circle><path style="stroke-width:1.07;stroke:#c77cff;stroke-linecap:butt" d="M368.82 189.25v-55.36M368.82 229.19v44.4"></path><path style="stroke-width:1.07;stroke:#c77cff;stroke-linecap:butt;stroke-linejoin:miter;fill:#fff" d="M357.51 189.25v39.94h22.62v-39.94h-22.62z"></path><path style="stroke-width:2.13;stroke:#c77cff;stroke-linecap:butt;stroke-linejoin:miter" d="M357.51 211.47h22.62"></path><circle cx="398.99" cy="18.3" r="1.95" style="stroke-width:0.71;stroke:#c77cff;fill:#c77cff"></circle><circle cx="398.99" cy="72.66" r="1.95" style="stroke-width:0.71;stroke:#c77cff;fill:#c77cff"></circle><circle cx="398.99" cy="71.99" r="1.95" style="stroke-width:0.71;stroke:#c77cff;fill:#c77cff"></circle><circle cx="398.99" cy="37.39" r="1.95" style="stroke-width:0.71;stroke:#c77cff;fill:#c77cff"></circle><path style="stroke-width:1.07;stroke:#c77cff;stroke-linecap:butt" d="M398.99 189.58v-55.37M398.99 229.94v44.31"></path><path style="stroke-width:1.07;stroke:#c77cff;stroke-linecap:butt;stroke-linejoin:miter;fill:#fff" d="M387.68 189.58v40.36h22.62v-40.36h-22.62z"></path><path style="stroke-width:2.13;stroke:#c77cff;stroke-linecap:butt;stroke-linejoin:miter" d="M387.68 212.05h22.62"></path></g><g clip-path="url(#cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA=)"><text x="44.14" y="276.77" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="20.02" lengthAdjust="spacingAndGlyphs">10 B</text><text x="44.14" y="192.33" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="25.61" lengthAdjust="spacingAndGlyphs">100 B</text><text x="44.14" y="107.89" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="19.52" lengthAdjust="spacingAndGlyphs">1 kB</text><text x="44.14" y="23.46" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="25.11" lengthAdjust="spacingAndGlyphs">10 kB</text><text transform="rotate(90 -113.865 178.115)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="47.22" lengthAdjust="spacingAndGlyphs">feather+NA</text><text transform="rotate(90 -98.78 193.2)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="29.91" lengthAdjust="spacingAndGlyphs">original</text><text transform="rotate(90 -83.695 208.285)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="33.42" lengthAdjust="spacingAndGlyphs">memory</text><text transform="rotate(90 -68.615 223.365)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="43.75" lengthAdjust="spacingAndGlyphs">feather+-5</text><text transform="rotate(90 -53.53 238.45)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="49.49" lengthAdjust="spacingAndGlyphs">parquet+NA</text><text transform="rotate(90 -38.45 253.53)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="46.02" lengthAdjust="spacingAndGlyphs">parquet+-5</text><text transform="rotate(90 -23.365 268.615)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="40.86" lengthAdjust="spacingAndGlyphs">feather+1</text><text transform="rotate(90 -8.285 283.695)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="40.86" lengthAdjust="spacingAndGlyphs">feather+9</text><text transform="rotate(90 6.8 298.78)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="45.95" lengthAdjust="spacingAndGlyphs">feather+19</text><text transform="rotate(90 21.88 313.86)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="43.13" lengthAdjust="spacingAndGlyphs">parquet+1</text><text transform="rotate(90 36.965 328.945)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="43.13" lengthAdjust="spacingAndGlyphs">parquet+9</text><text transform="rotate(90 52.045 344.025)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="48.22" lengthAdjust="spacingAndGlyphs">parquet+19</text><text x="233.08" y="352.23" text-anchor="middle" style="font-size:11px;font-family:&amp;quot" textLength="29.07" lengthAdjust="spacingAndGlyphs">Store</text><text transform="rotate(-90 79.88 66.38)" text-anchor="middle" style="font-size:11px;font-family:&amp;quot" textLength="66.08" lengthAdjust="spacingAndGlyphs">Bytes/Event</text><text x="433.53" y="112.97" style="font-size:11px;font-family:&amp;quot" textLength="29.07" lengthAdjust="spacingAndGlyphs">Store</text><path style="stroke-width:1.07;stroke:#f8766d;stroke-linecap:butt;stroke-linejoin:miter" d="M442.17 135.15v-2.59M442.17 123.92v-2.59"></path><path style="stroke-width:1.07;stroke:#f8766d;stroke-linecap:butt;stroke-linejoin:miter;fill:#fff" d="M435.69 123.92h12.96v8.64h-12.96z"></path><path style="stroke-width:1.07;stroke:#f8766d;stroke-linecap:butt;stroke-linejoin:miter" d="M435.69 128.24h12.96"></path><path style="stroke-width:1.07;stroke:#7cae00;stroke-linecap:butt;stroke-linejoin:miter" d="M442.17 152.43v-2.59M442.17 141.2v-2.59"></path><path style="stroke-width:1.07;stroke:#7cae00;stroke-linecap:butt;stroke-linejoin:miter;fill:#fff" d="M435.69 141.2h12.96v8.64h-12.96z"></path><path style="stroke-width:1.07;stroke:#7cae00;stroke-linecap:butt;stroke-linejoin:miter" d="M435.69 145.52h12.96"></path><path style="stroke-width:1.07;stroke:#00bfc4;stroke-linecap:butt;stroke-linejoin:miter" d="M442.17 169.71v-2.59M442.17 158.48v-2.59"></path><path style="stroke-width:1.07;stroke:#00bfc4;stroke-linecap:butt;stroke-linejoin:miter;fill:#fff" d="M435.69 158.48h12.96v8.64h-12.96z"></path><path style="stroke-width:1.07;stroke:#00bfc4;stroke-linecap:butt;stroke-linejoin:miter" d="M435.69 162.8h12.96"></path><path style="stroke-width:1.07;stroke:#c77cff;stroke-linecap:butt;stroke-linejoin:miter" d="M442.17 186.99v-2.59M442.17 175.76v-2.59"></path><path style="stroke-width:1.07;stroke:#c77cff;stroke-linecap:butt;stroke-linejoin:miter;fill:#fff" d="M435.69 175.76h12.96v8.64h-12.96z"></path><path style="stroke-width:1.07;stroke:#c77cff;stroke-linecap:butt;stroke-linejoin:miter" d="M435.69 180.08h12.96"></path><text x="456.29" y="131.45" style="font-size:8.8px;font-family:&amp;quot" textLength="31.95" lengthAdjust="spacingAndGlyphs">feather</text><text x="456.29" y="148.73" style="font-size:8.8px;font-family:&amp;quot" textLength="36.76" lengthAdjust="spacingAndGlyphs">memory</text><text x="456.29" y="166.01" style="font-size:8.8px;font-family:&amp;quot" textLength="32.9" lengthAdjust="spacingAndGlyphs">original</text><text x="456.29" y="183.29" style="font-size:8.8px;font-family:&amp;quot" textLength="34.47" lengthAdjust="spacingAndGlyphs">parquet</text></g></svg><p>Every boxplot corresponds to one store, with <code>original</code> and <code>memory</code> being also
treated like stores. The suffix <code>-Z</code> indicates Zstd level <code>Z</code>, with <code>NA</code> meaning
“compression turned off” entirely. Parquet stores on the right (in purple) have
the smallest size, followed by Feather (red), and then their corresponding
in-memory (green) and original (turquoise) representation. The negative Zstd
level -5 makes Parquet actually worse than Feather.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Analysis</div><div class="admonitionContent_S0QG"><p>What stands out is that disabling compression for Feather inflates the data
larger than the original. This is not the case for Parquet. Why? Because Parquet
has an orthogonal layer of compression using dictionaries. This absorbs
inefficiencies in heavy-tailed distributions, which are pretty standard in
machine-generated data.</p></div></div><p>The y-axis of above plot is log-scaled, which makes it hard for relative
comparison. Let’s focus on the medians (the bars in the box) only and bring the
y-axis to a linear scale:</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Code</summary><div><div class="collapsibleContent_i85q"><figure data-rehype-pretty-code-figure=""><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span data-line=""><span style="color:#E6EDF3">medians </span><span style="color:#FF7B72">&lt;-</span><span style="color:#E6EDF3"> unified </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  bind_rows</span><span style="color:#E6EDF3">(original, memory) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  group_by</span><span style="color:#E6EDF3">(store, store_class) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  summarize</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">bytes</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> median</span><span style="color:#E6EDF3">(bytes))</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#E6EDF3">medians </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  ggplot</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">aes</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">x</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> reorder</span><span style="color:#E6EDF3">(store, </span><span style="color:#FF7B72">-</span><span style="color:#E6EDF3">bytes), </span><span style="color:#FFA657">y</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> bytes, </span><span style="color:#FFA657">fill</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> store_class)) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">  geom_bar</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">stat</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;identity&quot;</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">  scale_y_continuous</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">labels</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> scales</span><span style="color:#FF7B72">::</span><span style="color:#FFA657">label_bytes</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">units</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;auto_si&quot;</span><span style="color:#E6EDF3">)) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">  labs</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">x</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Store&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">y</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Bytes/Event&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">fill</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Store&quot;</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">  theme</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">axis.text.x</span><span style="color:#FF7B72"> =</span><span style="color:#FFA657"> element_text</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">angle</span><span style="color:#FF7B72"> =</span><span style="color:#FF7B72"> -</span><span style="color:#79C0FF">90</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">size</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 8</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">vjust</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 0.5</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">hjust</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 0</span><span style="color:#E6EDF3">))</span></span></code></pre><button type="button" data="medians &lt;- unified |&gt;
  bind_rows(original, memory) |&gt;
  group_by(store, store_class) |&gt;
  summarize(bytes = median(bytes))

medians |&gt;
  ggplot(aes(x = reorder(store, -bytes), y = bytes, fill = store_class)) +
  geom_bar(stat = &quot;identity&quot;) +
  scale_y_continuous(labels = scales::label_bytes(units = &quot;auto_si&quot;)) +
  labs(x = &quot;Store&quot;, y = &quot;Bytes/Event&quot;, fill = &quot;Store&quot;) +
  theme(axis.text.x = element_text(angle = -90, size = 8, vjust = 0.5, hjust = 0))" title="Copy code" aria-label="Copy code" class="rehype-pretty-copy" data-feedback-duration="3000" data-name="rehype-pretty-copy-button"><span class="ready"></span><span class="success"></span></button><style>
    :root {
      --copy-icon: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDM2IDM2Ij48cmVjdCB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjYmZjN2Q1IiBkPSJNMjkuNSA3aC0xOUExLjUgMS41IDAgMCAwIDkgOC41djI0YTEuNSAxLjUgMCAwIDAgMS41IDEuNWgxOWExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTI0QTEuNSAxLjUgMCAwIDAgMjkuNSA3TTI5IDMySDExVjloMThaIiBjbGFzcz0iY2xyLWktb3V0bGluZSBjbHItaS1vdXRsaW5lLXBhdGgtMSIvPjxwYXRoIGZpbGw9IiNiZmM3ZDUiIGQ9Ik0yNiAzLjVBMS41IDEuNSAwIDAgMCAyNC41IDJoLTE5QTEuNSAxLjUgMCAwIDAgNCAzLjV2MjRBMS41IDEuNSAwIDAgMCA1LjUgMjlINlY0aDIwWiIgY2xhc3M9ImNsci1pLW91dGxpbmUgY2xyLWktb3V0bGluZS1wYXRoLTIiLz48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDM2djM2SDB6Ii8+PC9zdmc+&quot;);
      --success-icon: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cmVjdCB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjMDBkNjAwIiBkPSJNMjEgN0w5IDE5bC01LjUtNS41bDEuNDEtMS40MUw5IDE2LjE3TDE5LjU5IDUuNTl6Ii8+PC9zdmc+&quot;);
    }

    pre:has(code) {
      position: relative;
    }

    button[data=&#x27;&lt;span&gt;&#x27;] {
      width: 0;
      height: 0;
      display: none;
      visibility: hidden;
    }

    pre button.rehype-pretty-copy {
      top: 1px;
      right: 1px;
      padding: 0;
      width: 24px;
      height: 24px;
      display: flex;
      cursor: pointer;
      margin-top: 8px;
      margin-right: 8px;
      position: absolute;
      border-radius: 25%;
      &amp; span {
        width: 100%;
        aspect-ratio: 1 / 1;
        background-repeat: no-repeat;
      }
      &amp; .ready {
        background-image: var(--copy-icon);
      }
      &amp; .success {
        display: none;
        background-image: var(--success-icon);
      }
    }

    &amp;.rehype-pretty-copied { 
      &amp; .success { 
        display: block;
      } &amp; .ready {
        display: none;
      }
    }

    pre button.rehype-pretty-copy.rehype-pretty-copied {
      opacity: 1;
      cursor: default;
      &amp; .ready { display: none; }
      &amp; .success { display: block; }
    }

      pre button.rehype-pretty-copy { opacity: 0; }
      button[data-name=&quot;rehype-pretty-copy-button&quot;]:hover {
        opacity: 1;
      }
    </style></code></pre></figure></div></div></details><svg xmlns="http://www.w3.org/2000/svg" class="svglite" width="672" height="480" viewBox="0 0 504 360"><defs><style>.svglite polyline,.svglite rect{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.svglite text{white-space:pre}</style></defs><rect width="100%" height="100%" style="stroke:none;fill:none"></rect><defs><clipPath id="cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA="><path d="M0 0h504v360H0z"></path></clipPath></defs><defs><clipPath id="cpNDkuMDd8NDE3LjA5fDUuNDh8Mjg3LjA1"><path d="M49.07 5.48h368.02v281.57H49.07z"></path></clipPath></defs><g clip-path="url(#cpNDkuMDd8NDE3LjA5fDUuNDh8Mjg3LjA1)"><path style="stroke-width:0.53;stroke:#ebebeb;stroke-linecap:butt" d="M49.07 224.07h368.02M49.07 123.73h368.02M49.07 23.38h368.02"></path><path style="stroke-width:1.07;stroke:#ebebeb;stroke-linecap:butt" d="M49.07 274.25h368.02M49.07 173.9h368.02M49.07 73.55h368.02M67.17 287.05V5.48M97.34 287.05V5.48M127.5 287.05V5.48M157.67 287.05V5.48M187.83 287.05V5.48M218 287.05V5.48M248.16 287.05V5.48M278.33 287.05V5.48M308.49 287.05V5.48M338.66 287.05V5.48M368.82 287.05V5.48M398.99 287.05V5.48"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#f8766d" d="M144.09 178.09h27.15v96.16h-27.15zM234.59 205.08h27.15v69.17h-27.15zM294.92 216.2h27.15v58.05h-27.15zM264.75 207.09h27.15v67.16h-27.15zM53.6 18.28h27.15v255.97H53.6z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#7cae00" d="M113.93 58.31h27.15v215.93h-27.15z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#00bfc4" d="M83.76 37.9h27.15v236.34H83.76z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#c77cff" d="M204.42 201.05h27.15v73.2h-27.15zM325.08 218.24h27.15v56.01h-27.15zM385.41 220.54h27.15v53.71h-27.15zM355.25 219.69h27.15v54.56h-27.15zM174.26 183.14h27.15v91.11h-27.15z"></path></g><g clip-path="url(#cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA=)"><text x="44.14" y="277.46" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="14.42" lengthAdjust="spacingAndGlyphs">0 B</text><text x="44.14" y="177.11" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="25.61" lengthAdjust="spacingAndGlyphs">100 B</text><text x="44.14" y="76.76" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="25.61" lengthAdjust="spacingAndGlyphs">200 B</text><text transform="rotate(90 -113.865 178.115)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="47.22" lengthAdjust="spacingAndGlyphs">feather+NA</text><text transform="rotate(90 -98.78 193.2)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="29.91" lengthAdjust="spacingAndGlyphs">original</text><text transform="rotate(90 -83.695 208.285)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="33.42" lengthAdjust="spacingAndGlyphs">memory</text><text transform="rotate(90 -68.615 223.365)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="43.75" lengthAdjust="spacingAndGlyphs">feather+-5</text><text transform="rotate(90 -53.53 238.45)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="49.49" lengthAdjust="spacingAndGlyphs">parquet+NA</text><text transform="rotate(90 -38.45 253.53)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="46.02" lengthAdjust="spacingAndGlyphs">parquet+-5</text><text transform="rotate(90 -23.365 268.615)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="40.86" lengthAdjust="spacingAndGlyphs">feather+1</text><text transform="rotate(90 -8.285 283.695)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="40.86" lengthAdjust="spacingAndGlyphs">feather+9</text><text transform="rotate(90 6.8 298.78)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="45.95" lengthAdjust="spacingAndGlyphs">feather+19</text><text transform="rotate(90 21.88 313.86)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="43.13" lengthAdjust="spacingAndGlyphs">parquet+1</text><text transform="rotate(90 36.965 328.945)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="43.13" lengthAdjust="spacingAndGlyphs">parquet+9</text><text transform="rotate(90 52.045 344.025)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="48.22" lengthAdjust="spacingAndGlyphs">parquet+19</text><text x="233.08" y="352.23" text-anchor="middle" style="font-size:11px;font-family:&amp;quot" textLength="29.07" lengthAdjust="spacingAndGlyphs">Store</text><text transform="rotate(-90 79.88 66.38)" text-anchor="middle" style="font-size:11px;font-family:&amp;quot" textLength="66.08" lengthAdjust="spacingAndGlyphs">Bytes/Event</text><text x="433.53" y="112.97" style="font-size:11px;font-family:&amp;quot" textLength="29.07" lengthAdjust="spacingAndGlyphs">Store</text><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#f8766d" d="M434.23 120.31h15.86v15.86h-15.86z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#7cae00" d="M434.23 137.59h15.86v15.86h-15.86z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#00bfc4" d="M434.23 154.87h15.86v15.86h-15.86z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#c77cff" d="M434.23 172.15h15.86v15.86h-15.86z"></path><text x="456.29" y="131.45" style="font-size:8.8px;font-family:&amp;quot" textLength="31.95" lengthAdjust="spacingAndGlyphs">feather</text><text x="456.29" y="148.73" style="font-size:8.8px;font-family:&amp;quot" textLength="36.76" lengthAdjust="spacingAndGlyphs">memory</text><text x="456.29" y="166.01" style="font-size:8.8px;font-family:&amp;quot" textLength="32.9" lengthAdjust="spacingAndGlyphs">original</text><text x="456.29" y="183.29" style="font-size:8.8px;font-family:&amp;quot" textLength="34.47" lengthAdjust="spacingAndGlyphs">parquet</text></g></svg><p>To better understand the compression in numbers, we’ll anchor the original size
at 100% and now show the <em>relative</em> gains of Parquet and Feather:</p><table><thead><tr><th align="left">Store</th><th align="left">Class</th><th align="right">Bytes/Event</th><th align="right">Size (%)</th><th align="right">Compression Ratio</th></tr></thead><tbody><tr><td align="left">parquet+19</td><td align="left">parquet</td><td align="right">53.5</td><td align="right">22.7</td><td align="right">4.4</td></tr><tr><td align="left">parquet+9</td><td align="left">parquet</td><td align="right">54.4</td><td align="right">23.1</td><td align="right">4.3</td></tr><tr><td align="left">parquet+1</td><td align="left">parquet</td><td align="right">55.8</td><td align="right">23.7</td><td align="right">4.2</td></tr><tr><td align="left">feather+19</td><td align="left">feather</td><td align="right">57.8</td><td align="right">24.6</td><td align="right">4.1</td></tr><tr><td align="left">feather+9</td><td align="left">feather</td><td align="right">66.9</td><td align="right">28.4</td><td align="right">3.5</td></tr><tr><td align="left">feather+1</td><td align="left">feather</td><td align="right">68.9</td><td align="right">29.3</td><td align="right">3.4</td></tr><tr><td align="left">parquet+-5</td><td align="left">parquet</td><td align="right">72.9</td><td align="right">31.0</td><td align="right">3.2</td></tr><tr><td align="left">parquet+NA</td><td align="left">parquet</td><td align="right">90.8</td><td align="right">38.6</td><td align="right">2.6</td></tr><tr><td align="left">feather+-5</td><td align="left">feather</td><td align="right">95.8</td><td align="right">40.7</td><td align="right">2.5</td></tr><tr><td align="left">feather+NA</td><td align="left">feather</td><td align="right">255.1</td><td align="right">108.3</td><td align="right">0.9</td></tr></tbody></table><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Analysis</div><div class="admonitionContent_S0QG"><p>Parquet dominates Feather with respect to space savings, but not by much for
high Zstd levels. Zstd levels <!-- -->&gt;<!-- --> 1 do not provide substantial space savings on
average, where observe a compression ratio of <strong>~<!-- -->4x</strong> over the base data. Parquet
still provides a <strong>2.6</strong> compression ratio in the absence of compression because
it applies dictionary encoding.</p><p>Feather offers competitive compression with <strong>~<!-- -->3x</strong> ratio for equal Zstd levels.
However, without compression Feather expands beyond the original dataset size at
a compression ratio of <strong>~<!-- -->0.9</strong>.</p></div></div><p>The above analysis covered averages across schemas. If we juxtapose Parquet and
Feather per schema, we see the difference between the two formats more clearly:</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Code</summary><div><div class="collapsibleContent_i85q"><figure data-rehype-pretty-code-figure=""><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span data-line=""><span style="color:#79C0FF">library</span><span style="color:#E6EDF3">(ggrepel)</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#E6EDF3">parquet_vs_feather_size </span><span style="color:#FF7B72">&lt;-</span><span style="color:#E6EDF3"> unified </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  select</span><span style="color:#E6EDF3">(</span><span style="color:#FF7B72">-</span><span style="color:#E6EDF3">store, </span><span style="color:#FF7B72">-</span><span style="color:#E6EDF3">duration) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  pivot_wider</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">names_from</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> store_class,</span></span>
<span data-line=""><span style="color:#FFA657">              values_from</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> bytes,</span></span>
<span data-line=""><span style="color:#FFA657">              id_cols</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> c</span><span style="color:#E6EDF3">(schema, zstd.level))</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#D2A8FF">plot_parquet_vs_feather</span><span style="color:#FF7B72"> &lt;-</span><span style="color:#FF7B72"> function</span><span style="color:#E6EDF3">(data) {</span></span>
<span data-line=""><span style="color:#E6EDF3">  data </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">    mutate</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">zstd.level</span><span style="color:#FF7B72"> =</span><span style="color:#FFA657"> str_replace_na</span><span style="color:#E6EDF3">(zstd.level)) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">    separate</span><span style="color:#E6EDF3">(schema, </span><span style="color:#79C0FF">c</span><span style="color:#E6EDF3">(</span><span style="color:#A5D6FF">&quot;module&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#A5D6FF">&quot;type&quot;</span><span style="color:#E6EDF3">), </span><span style="color:#FFA657">remove</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> FALSE</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">    ggplot</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">aes</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">x</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> parquet, </span><span style="color:#FFA657">y</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> feather,</span></span>
<span data-line=""><span style="color:#FFA657">               shape</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> zstd.level, </span><span style="color:#FFA657">color</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> zstd.level)) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">      geom_abline</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">intercept</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 0</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">slope</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 1</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">color</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;grey&quot;</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">      geom_point</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">alpha</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 0.6</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">size</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 3</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">      geom_text_repel</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">aes</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">label</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> schema),</span></span>
<span data-line=""><span style="color:#FFA657">                color</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;grey&quot;</span><span style="color:#E6EDF3">,</span></span>
<span data-line=""><span style="color:#FFA657">                size</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 1</span><span style="color:#E6EDF3">, </span><span style="color:#8B949E"># font size</span></span>
<span data-line=""><span style="color:#FFA657">                box.padding</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 0.2</span><span style="color:#E6EDF3">,</span></span>
<span data-line=""><span style="color:#FFA657">                min.segment.length</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 0</span><span style="color:#E6EDF3">, </span><span style="color:#8B949E"># draw all line segments</span></span>
<span data-line=""><span style="color:#FFA657">                max.overlaps</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> Inf</span><span style="color:#E6EDF3">,</span></span>
<span data-line=""><span style="color:#FFA657">                segment.size</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 0.2</span><span style="color:#E6EDF3">,</span></span>
<span data-line=""><span style="color:#FFA657">                segment.color</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;grey&quot;</span><span style="color:#E6EDF3">,</span></span>
<span data-line=""><span style="color:#FFA657">                segment.alpha</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 0.3</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">      scale_size</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">range</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> c</span><span style="color:#E6EDF3">(</span><span style="color:#79C0FF">0</span><span style="color:#E6EDF3">, </span><span style="color:#79C0FF">10</span><span style="color:#E6EDF3">)) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">      labs</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">x</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Bytes (Parquet)&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">y</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Bytes (Feather)&quot;</span><span style="color:#E6EDF3">,</span></span>
<span data-line=""><span style="color:#FFA657">           shape</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Zstd Level&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">color</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Zstd Level&quot;</span><span style="color:#E6EDF3">)</span></span>
<span data-line=""><span style="color:#E6EDF3">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#E6EDF3">parquet_vs_feather_size </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#79C0FF">  filter</span><span style="color:#E6EDF3">(schema </span><span style="color:#FF7B72">%in%</span><span style="color:#E6EDF3"> schemas_gt100k) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  plot_parquet_vs_feather</span><span style="color:#E6EDF3">() </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    scale_x_log10</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">labels</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> scales</span><span style="color:#FF7B72">::</span><span style="color:#FFA657">label_bytes</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">units</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;auto_si&quot;</span><span style="color:#E6EDF3">)) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    scale_y_log10</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">labels</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> scales</span><span style="color:#FF7B72">::</span><span style="color:#FFA657">label_bytes</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">units</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;auto_si&quot;</span><span style="color:#E6EDF3">))</span></span></code></pre><button type="button" data="library(ggrepel)

parquet_vs_feather_size &lt;- unified |&gt;
  select(-store, -duration) |&gt;
  pivot_wider(names_from = store_class,
              values_from = bytes,
              id_cols = c(schema, zstd.level))

plot_parquet_vs_feather &lt;- function(data) {
  data |&gt;
    mutate(zstd.level = str_replace_na(zstd.level)) |&gt;
    separate(schema, c(&quot;module&quot;, &quot;type&quot;), remove = FALSE) |&gt;
    ggplot(aes(x = parquet, y = feather,
               shape = zstd.level, color = zstd.level)) +
      geom_abline(intercept = 0, slope = 1, color = &quot;grey&quot;) +
      geom_point(alpha = 0.6, size = 3) +
      geom_text_repel(aes(label = schema),
                color = &quot;grey&quot;,
                size = 1, # font size
                box.padding = 0.2,
                min.segment.length = 0, # draw all line segments
                max.overlaps = Inf,
                segment.size = 0.2,
                segment.color = &quot;grey&quot;,
                segment.alpha = 0.3) +
      scale_size(range = c(0, 10)) +
      labs(x = &quot;Bytes (Parquet)&quot;, y = &quot;Bytes (Feather)&quot;,
           shape = &quot;Zstd Level&quot;, color = &quot;Zstd Level&quot;)
}

parquet_vs_feather_size |&gt;
  filter(schema %in% schemas_gt100k) |&gt;
  plot_parquet_vs_feather() +
    scale_x_log10(labels = scales::label_bytes(units = &quot;auto_si&quot;)) +
    scale_y_log10(labels = scales::label_bytes(units = &quot;auto_si&quot;))" title="Copy code" aria-label="Copy code" class="rehype-pretty-copy" data-feedback-duration="3000" data-name="rehype-pretty-copy-button"><span class="ready"></span><span class="success"></span></button><style>
    :root {
      --copy-icon: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDM2IDM2Ij48cmVjdCB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjYmZjN2Q1IiBkPSJNMjkuNSA3aC0xOUExLjUgMS41IDAgMCAwIDkgOC41djI0YTEuNSAxLjUgMCAwIDAgMS41IDEuNWgxOWExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTI0QTEuNSAxLjUgMCAwIDAgMjkuNSA3TTI5IDMySDExVjloMThaIiBjbGFzcz0iY2xyLWktb3V0bGluZSBjbHItaS1vdXRsaW5lLXBhdGgtMSIvPjxwYXRoIGZpbGw9IiNiZmM3ZDUiIGQ9Ik0yNiAzLjVBMS41IDEuNSAwIDAgMCAyNC41IDJoLTE5QTEuNSAxLjUgMCAwIDAgNCAzLjV2MjRBMS41IDEuNSAwIDAgMCA1LjUgMjlINlY0aDIwWiIgY2xhc3M9ImNsci1pLW91dGxpbmUgY2xyLWktb3V0bGluZS1wYXRoLTIiLz48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDM2djM2SDB6Ii8+PC9zdmc+&quot;);
      --success-icon: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cmVjdCB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjMDBkNjAwIiBkPSJNMjEgN0w5IDE5bC01LjUtNS41bDEuNDEtMS40MUw5IDE2LjE3TDE5LjU5IDUuNTl6Ii8+PC9zdmc+&quot;);
    }

    pre:has(code) {
      position: relative;
    }

    button[data=&#x27;&lt;span&gt;&#x27;] {
      width: 0;
      height: 0;
      display: none;
      visibility: hidden;
    }

    pre button.rehype-pretty-copy {
      top: 1px;
      right: 1px;
      padding: 0;
      width: 24px;
      height: 24px;
      display: flex;
      cursor: pointer;
      margin-top: 8px;
      margin-right: 8px;
      position: absolute;
      border-radius: 25%;
      &amp; span {
        width: 100%;
        aspect-ratio: 1 / 1;
        background-repeat: no-repeat;
      }
      &amp; .ready {
        background-image: var(--copy-icon);
      }
      &amp; .success {
        display: none;
        background-image: var(--success-icon);
      }
    }

    &amp;.rehype-pretty-copied { 
      &amp; .success { 
        display: block;
      } &amp; .ready {
        display: none;
      }
    }

    pre button.rehype-pretty-copy.rehype-pretty-copied {
      opacity: 1;
      cursor: default;
      &amp; .ready { display: none; }
      &amp; .success { display: block; }
    }

      pre button.rehype-pretty-copy { opacity: 0; }
      button[data-name=&quot;rehype-pretty-copy-button&quot;]:hover {
        opacity: 1;
      }
    </style></code></pre></figure></div></div></details><svg xmlns="http://www.w3.org/2000/svg" class="svglite" width="672" height="480" viewBox="0 0 504 360"><defs><style>.svglite circle,.svglite line,.svglite polygon,.svglite polyline,.svglite rect{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.svglite text{white-space:pre}</style></defs><rect width="100%" height="100%" style="stroke:none;fill:none"></rect><defs><clipPath id="cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA="><path d="M0 0h504v360H0z"></path></clipPath></defs><defs><clipPath id="cpNDkuMDd8NDE5LjUwfDUuNDh8MzI4LjI5"><path d="M49.07 5.48H419.5V328.3H49.07z"></path></clipPath></defs><g clip-path="url(#cpNDkuMDd8NDE5LjUwfDUuNDh8MzI4LjI5)"><path style="stroke-width:0.53;stroke:#ebebeb;stroke-linecap:butt" d="M49.07 318.29H419.5M49.07 223.35H419.5M49.07 132.57H419.5M49.07 41.79H419.5M111.16 328.29V5.48M202.89 328.29V5.48M294.61 328.29V5.48M382.14 328.29V5.48"></path><path style="stroke-width:1.07;stroke:#ebebeb;stroke-linecap:butt" d="M49.07 270.82H419.5M49.07 175.89H419.5M49.07 89.26H419.5M67.39 328.29V5.48M154.92 328.29V5.48M250.85 328.29V5.48M338.38 328.29V5.48"></path><path style="stroke-width:1.07;stroke:#bebebe;stroke-linecap:butt" d="M-321.36 742.18 789.93-357.63"></path><circle cx="377.81" cy="48.8" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.6"></circle><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.6" d="m373.05 48.29 4.78 8.29h-9.57z"></path><path style="stroke-width:0.71;stroke:#00b0f6;stroke-opacity:0.6" d="M365.82 57.77h10.06M370.85 62.8V52.74"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.6" d="M366.61 62.82h7.11v-7.11h-7.11z"></path><path style="stroke-width:0.71;stroke:#e76bf3;stroke-opacity:0.6" d="M399.11 16.6h7.11v7.11h-7.11zM399.11 23.71l7.11-7.11M399.11 16.6l7.11 7.11"></path><circle cx="127.09" cy="245.32" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.6"></circle><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.6" d="m107.81 272.66 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:#00b0f6;stroke-opacity:0.6" d="M95.67 287.56h10.06M100.7 292.59v-10.05"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.6" d="M98.28 293.75h7.11v-7.11h-7.11z"></path><path style="stroke-width:0.71;stroke:#e76bf3;stroke-opacity:0.6" d="M155.11 122.18h7.11v7.11h-7.11zM155.11 129.29l7.11-7.11M155.11 122.18l7.11 7.11"></path><circle cx="227.38" cy="173.39" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.6"></circle><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.6" d="m204.33 203.57 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:#00b0f6;stroke-opacity:0.6" d="M193.17 213.55h10.06M198.2 218.57v-10.05"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.6" d="M190.63 223.2h7.11v-7.11h-7.11z"></path><path style="stroke-width:0.71;stroke:#e76bf3;stroke-opacity:0.6" d="M258.66 68.64h7.11v7.11h-7.11zM258.66 75.75l7.11-7.11M258.66 68.64l7.11 7.11"></path><circle cx="230.94" cy="159.35" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.6"></circle><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.6" d="m210.09 182.62 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:#00b0f6;stroke-opacity:0.6" d="M199.35 194.55h10.06M204.38 199.58v-10.06"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.6" d="M199.08 209.34h7.11v-7.11h-7.11z"></path><path style="stroke-width:0.71;stroke:#e76bf3;stroke-opacity:0.6" d="M256.1 56.49h7.11v7.11h-7.11zM256.1 63.61l7.11-7.12M256.1 56.49l7.11 7.12"></path><circle cx="221.78" cy="181.52" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.6"></circle><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.6" d="m199.61 202.07 4.78 8.3h-9.57z"></path><path style="stroke-width:0.71;stroke:#00b0f6;stroke-opacity:0.6" d="M190.2 212.1h10.06M195.23 217.12v-10.05"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.6" d="M187.83 224.96h7.11v-7.11h-7.11z"></path><path style="stroke-width:0.71;stroke:#e76bf3;stroke-opacity:0.6" d="M240.73 110.39h7.11v7.11h-7.11zM240.73 117.5l7.11-7.11M240.73 110.39l7.11 7.11"></path><circle cx="218.23" cy="174.97" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.6"></circle><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.6" d="m199.87 193.16 4.78 8.29h-9.57z"></path><path style="stroke-width:0.71;stroke:#00b0f6;stroke-opacity:0.6" d="M192.77 203.26h10.06M197.8 208.28v-10.05"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.6" d="M190.83 221.99h7.11v-7.11h-7.11z"></path><path style="stroke-width:0.71;stroke:#e76bf3;stroke-opacity:0.6" d="M235.58 74.39h7.11v7.11h-7.11zM235.58 81.5l7.11-7.11M235.58 74.39l7.11 7.11"></path><circle cx="146.28" cy="212.78" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.6"></circle><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.6" d="m121.17 245.9 4.79 8.3h-9.58z"></path><path style="stroke-width:0.71;stroke:#00b0f6;stroke-opacity:0.6" d="M110.45 255.73h10.06M115.48 260.76V250.7"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.6" d="M110.34 268.31h7.11v-7.11h-7.11z"></path><path style="stroke-width:0.71;stroke:#e76bf3;stroke-opacity:0.6" d="M184.82 62.1h7.11v7.11h-7.11zM184.82 69.21l7.11-7.11M184.82 62.1l7.11 7.11"></path><circle cx="229.56" cy="172.76" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.6"></circle><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.6" d="m210.38 195.4 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:#00b0f6;stroke-opacity:0.6" d="M203.56 205.75h10.06M208.59 210.78v-10.05"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.6" d="M202.41 216.55h7.12v-7.11h-7.12z"></path><path style="stroke-width:0.71;stroke:#e76bf3;stroke-opacity:0.6" d="M240.49 83.51h7.11v7.11h-7.11zM240.49 90.62l7.11-7.11M240.49 83.51l7.11 7.11"></path><circle cx="178.91" cy="221.39" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.6"></circle><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.6" d="m150.25 248.9 4.79 8.29h-9.57z"></path><path style="stroke-width:0.71;stroke:#00b0f6;stroke-opacity:0.6" d="M138.89 257.53h10.05M143.92 262.56V252.5"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.6" d="M138.51 273.33h7.11v-7.11h-7.11z"></path><path style="stroke-width:0.71;stroke:#e76bf3;stroke-opacity:0.6" d="M204.24 125.84h7.11v7.11h-7.11zM204.24 132.95l7.11-7.11M204.24 125.84l7.11 7.11"></path><circle cx="99.82" cy="271.07" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.6"></circle><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.6" d="m68.26 298.04 4.79 8.3h-9.58z"></path><path style="stroke-width:0.71;stroke:#00b0f6;stroke-opacity:0.6" d="M62.32 305.05h10.06M67.35 310.07v-10.05"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.6" d="M62.35 317.18h7.11v-7.11h-7.11z"></path><path style="stroke-width:0.71;stroke:#e76bf3;stroke-opacity:0.6" d="M116.98 146.48h7.11v7.11h-7.11zM116.98 153.59l7.11-7.11M116.98 146.48l7.11 7.11"></path><circle cx="218.58" cy="181.64" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.6"></circle><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.6" d="m188.82 210.48 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:#00b0f6;stroke-opacity:0.6" d="M178.12 220.56h10.05M183.15 225.59v-10.06"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.6" d="M179.1 234.66h7.12v-7.11h-7.12z"></path><path style="stroke-width:0.71;stroke:#e76bf3;stroke-opacity:0.6" d="M240.5 100.94h7.11v7.11h-7.11zM240.5 108.05l7.11-7.11M240.5 100.94l7.11 7.11"></path><circle cx="200.58" cy="195.84" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.6"></circle><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.6" d="m178.51 221.79 4.79 8.3h-9.58z"></path><path style="stroke-width:0.71;stroke:#00b0f6;stroke-opacity:0.6" d="M169.02 229.46h10.06M174.05 234.48v-10.05"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.6" d="M168.82 236.43h7.11v-7.11h-7.11z"></path><path style="stroke-width:0.71;stroke:#e76bf3;stroke-opacity:0.6" d="M210.93 111.31h7.11v7.11h-7.11zM210.93 118.42l7.11-7.11M210.93 111.31l7.11 7.11"></path><circle cx="189.18" cy="197.27" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.6"></circle><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.6" d="m171.71 217.7 4.78 8.3h-9.57z"></path><path style="stroke-width:0.71;stroke:#00b0f6;stroke-opacity:0.6" d="M155.98 230.52h10.05M161 235.54v-10.05"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.6" d="M155.4 254.5h7.11v-7.11h-7.11z"></path><path style="stroke-width:0.71;stroke:#e76bf3;stroke-opacity:0.6" d="M207.19 77.19h7.11v7.11h-7.11zM207.19 84.3l7.11-7.11M207.19 77.19l7.11 7.11"></path><circle cx="185.7" cy="199.69" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.6"></circle><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.6" d="m167.53 227.44 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:#00b0f6;stroke-opacity:0.6" d="M154.31 238.22h10.06M159.34 243.24v-10.05"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.6" d="M153.14 254.7h7.11v-7.11h-7.11z"></path><path style="stroke-width:0.71;stroke:#e76bf3;stroke-opacity:0.6" d="M197.17 100.84h7.11v7.11h-7.11zM197.17 107.95l7.11-7.11M197.17 100.84l7.11 7.11"></path><path style="stroke-width:0.43;stroke:#bebebe;stroke-opacity:0.3" d="m380.2 46.51-1.56 1.5M375.44 55.43l-1.42-.96M370.79 54.43l.04 2.27M372.56 61.57l-1.57-1.51M405.02 17.85l-1.54 1.5M124.7 243.05l1.56 1.48M110.26 280.37l-1.59-1.42M98.26 285.34l1.59 1.45M104.25 292.51l-1.59-1.52M161.06 123.47l-1.56 1.48M229.76 175.58l-1.53-1.42M208.91 210.52l-3.42-1.06M199.73 217.18l-1.11-2.63M208.77 234.2l-13.78-13.74M264.48 70.05l-1.43 1.35M233.35 157.04l-1.58 1.52M212.72 186.98l-1.54.68M213.94 202.69l-10.13 2.78M257.31 57.82l1.52 1.44M240.43 186.22l-17.47-4.4M195.28 207.21l3.1.28M159.52 199.74l34.57 11.96M195.55 232.68l-3.79-10.26M241.98 116.13l1.48-1.4M215.94 172.8l1.46 1.39M195.17 194.14l3.87 3.75M183.4 199.32l13.23 3.61M199.53 225.87l-4.51-6.51M236.64 80.21l1.64-1.49M143.75 210.41l1.69 1.59M118.86 249.61l1.4 1.1M113.11 258.42l1.62-1.84M113.24 266.96l.35-1.16M190.71 63.43l-1.5 1.43M231.82 170.62l-1.43 1.35M232.72 194.78l-21.17 5.83M231.7 210.76l-21.92-4.75M222.91 218.53l-15.79-5.16M246.47 89.39l-1.6-1.53M167.73 217.4l10.04 3.58M152.7 256.66l-1.6-1.46M141.45 259.88l1.64-1.56M144.42 272.01l-1.53-1.45M210.16 127.14l-1.53 1.47M97.54 269.06l1.42 1.25M70.64 301.31l-1.55 1.47M65.43 306.81l1.07-.99M68.3 315.91l-1.56-1.5M118.29 152.17l1.41-1.35M211.47 162.51l6.73 18.11M186.31 215.48l1.31.27M171.29 207.93l11.08 11.8M183.96 242.85l-1.18-10.67M246.42 101.9l-1.6 1.76M199.99 186.14l.52 8.63M180.76 226.31l-1.16.52M169.34 226.17l3.75 2.62M173.18 235.09l-.43-1.19M216.86 112.58l-1.55 1.49M181.58 186.24l6.97 10.11M144.27 217.31l26.24 5.66M150.12 225.56l9.79 4.46M161.26 251.52l-1.13-.28M208.32 78.42l1.6 1.54M171.59 191.42l13.09 7.67M161.3 242.58l5.62-8.68M157.69 234.61l1.19 2.61M147.95 251.33l7.52-.16M203.26 101.95l-1.71 1.65"></path><text x="383.64" y="44.71" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.35" lengthAdjust="spacingAndGlyphs">pcap.packet</text><text x="385.91" y="57.41" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.35" lengthAdjust="spacingAndGlyphs">pcap.packet</text><text x="360.32" y="53.85" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.35" lengthAdjust="spacingAndGlyphs">pcap.packet</text><text x="375.81" y="65.45" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.35" lengthAdjust="spacingAndGlyphs">pcap.packet</text><text x="407.94" y="16.05" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.35" lengthAdjust="spacingAndGlyphs">pcap.packet</text><text x="121.14" y="241.25" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.97" lengthAdjust="spacingAndGlyphs">suricata.dcerpc</text><text x="120.37" y="284.24" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.97" lengthAdjust="spacingAndGlyphs">suricata.dcerpc</text><text x="92.61" y="283.54" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.97" lengthAdjust="spacingAndGlyphs">suricata.dcerpc</text><text x="107.67" y="296.38" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.97" lengthAdjust="spacingAndGlyphs">suricata.dcerpc</text><text x="164.71" y="121.67" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.97" lengthAdjust="spacingAndGlyphs">suricata.dcerpc</text><text x="234.61" y="179.45" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.4" lengthAdjust="spacingAndGlyphs">suricata.dns</text><text x="219.41" y="211.66" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.4" lengthAdjust="spacingAndGlyphs">suricata.dns</text><text x="210.23" y="219.65" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.4" lengthAdjust="spacingAndGlyphs">suricata.dns</text><text x="219.27" y="235.54" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.4" lengthAdjust="spacingAndGlyphs">suricata.dns</text><text x="268.01" y="68.25" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.4" lengthAdjust="spacingAndGlyphs">suricata.dns</text><text x="236.77" y="155.24" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.98" lengthAdjust="spacingAndGlyphs">suricata.fileinfo</text><text x="225.51" y="187.83" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.98" lengthAdjust="spacingAndGlyphs">suricata.fileinfo</text><text x="217.6" y="195.95" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.98" lengthAdjust="spacingAndGlyphs">suricata.fileinfo</text><text x="226.73" y="203.58" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.98" lengthAdjust="spacingAndGlyphs">suricata.fileinfo</text><text x="253.89" y="56.02" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.98" lengthAdjust="spacingAndGlyphs">suricata.fileinfo</text><text x="251.32" y="187.36" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.17" lengthAdjust="spacingAndGlyphs">suricata.flow</text><text x="184.4" y="208.25" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.17" lengthAdjust="spacingAndGlyphs">suricata.flow</text><text x="148.64" y="200.7" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.17" lengthAdjust="spacingAndGlyphs">suricata.flow</text><text x="195.79" y="236.56" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.17" lengthAdjust="spacingAndGlyphs">suricata.flow</text><text x="238.49" y="120" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.17" lengthAdjust="spacingAndGlyphs">suricata.flow</text><text x="212.42" y="171" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.15" lengthAdjust="spacingAndGlyphs">suricata.http</text><text x="189.1" y="192.34" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.15" lengthAdjust="spacingAndGlyphs">suricata.http</text><text x="172.53" y="200.23" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.15" lengthAdjust="spacingAndGlyphs">suricata.http</text><text x="210.41" y="227.62" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.15" lengthAdjust="spacingAndGlyphs">suricata.http</text><text x="230.69" y="84.09" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.15" lengthAdjust="spacingAndGlyphs">suricata.http</text><text x="139.48" y="208.61" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.37" lengthAdjust="spacingAndGlyphs">suricata.smb</text><text x="107.87" y="249.37" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.37" lengthAdjust="spacingAndGlyphs">suricata.smb</text><text x="102.12" y="260.8" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.37" lengthAdjust="spacingAndGlyphs">suricata.smb</text><text x="113.21" y="270.83" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.37" lengthAdjust="spacingAndGlyphs">suricata.smb</text><text x="194.24" y="61.63" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.37" lengthAdjust="spacingAndGlyphs">suricata.smb</text><text x="235.42" y="168.82" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="15.7" lengthAdjust="spacingAndGlyphs">suricata.tls</text><text x="242.38" y="195.72" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="15.7" lengthAdjust="spacingAndGlyphs">suricata.tls</text><text x="241.36" y="211.87" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="15.7" lengthAdjust="spacingAndGlyphs">suricata.tls</text><text x="232.57" y="219.71" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="15.7" lengthAdjust="spacingAndGlyphs">suricata.tls</text><text x="249.83" y="93.26" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="15.7" lengthAdjust="spacingAndGlyphs">suricata.tls</text><text x="158.7" y="218.24" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="14.45" lengthAdjust="spacingAndGlyphs">zeek.conn</text><text x="158.26" y="260.54" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="14.45" lengthAdjust="spacingAndGlyphs">zeek.conn</text><text x="137.88" y="263.76" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="14.45" lengthAdjust="spacingAndGlyphs">zeek.conn</text><text x="148.06" y="275.88" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="14.45" lengthAdjust="spacingAndGlyphs">zeek.conn</text><text x="213.67" y="125.34" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="14.45" lengthAdjust="spacingAndGlyphs">zeek.conn</text><text x="86.43" y="268.76" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.63" lengthAdjust="spacingAndGlyphs">zeek.dce_rpc</text><text x="74.26" y="299.51" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.63" lengthAdjust="spacingAndGlyphs">zeek.dce_rpc</text><text x="61.26" y="310.68" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.63" lengthAdjust="spacingAndGlyphs">zeek.dce_rpc</text><text x="71.63" y="319.79" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.63" lengthAdjust="spacingAndGlyphs">zeek.dce_rpc</text><text x="114.96" y="156.04" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.63" lengthAdjust="spacingAndGlyphs">zeek.dce_rpc</text><text x="203.35" y="163.18" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="12.64" lengthAdjust="spacingAndGlyphs">zeek.dns</text><text x="178.19" y="216.5" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="12.64" lengthAdjust="spacingAndGlyphs">zeek.dns</text><text x="163.17" y="208.61" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="12.64" lengthAdjust="spacingAndGlyphs">zeek.dns</text><text x="192.08" y="244.53" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="12.64" lengthAdjust="spacingAndGlyphs">zeek.dns</text><text x="254.54" y="101.59" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="12.64" lengthAdjust="spacingAndGlyphs">zeek.dns</text><text x="199.99" y="184.34" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.36" lengthAdjust="spacingAndGlyphs">zeek.files</text><text x="189.24" y="227.18" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.36" lengthAdjust="spacingAndGlyphs">zeek.files</text><text x="160.85" y="226.48" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.36" lengthAdjust="spacingAndGlyphs">zeek.files</text><text x="173.22" y="238.96" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.36" lengthAdjust="spacingAndGlyphs">zeek.files</text><text x="220.2" y="110.78" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.36" lengthAdjust="spacingAndGlyphs">zeek.files</text><text x="179.96" y="184.44" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.38" lengthAdjust="spacingAndGlyphs">zeek.http</text><text x="135.77" y="218.29" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.38" lengthAdjust="spacingAndGlyphs">zeek.http</text><text x="141.63" y="226.32" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.38" lengthAdjust="spacingAndGlyphs">zeek.http</text><text x="169.75" y="252.58" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.38" lengthAdjust="spacingAndGlyphs">zeek.http</text><text x="204.91" y="76.62" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.38" lengthAdjust="spacingAndGlyphs">zeek.http</text><text x="164.14" y="192.19" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="11.3" lengthAdjust="spacingAndGlyphs">zeek.ssl</text><text x="153.85" y="244.21" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="11.3" lengthAdjust="spacingAndGlyphs">zeek.ssl</text><text x="150.24" y="234.23" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="11.3" lengthAdjust="spacingAndGlyphs">zeek.ssl</text><text x="140.5" y="252.37" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="11.3" lengthAdjust="spacingAndGlyphs">zeek.ssl</text><text x="206.65" y="100.15" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="11.3" lengthAdjust="spacingAndGlyphs">zeek.ssl</text></g><g clip-path="url(#cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA=)"><text x="44.14" y="274.03" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="20.02" lengthAdjust="spacingAndGlyphs">30 B</text><text x="44.14" y="179.09" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="25.61" lengthAdjust="spacingAndGlyphs">100 B</text><text x="44.14" y="92.47" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="25.61" lengthAdjust="spacingAndGlyphs">300 B</text><text x="67.39" y="339.64" text-anchor="middle" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="20.02" lengthAdjust="spacingAndGlyphs">10 B</text><text x="154.92" y="339.64" text-anchor="middle" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="20.02" lengthAdjust="spacingAndGlyphs">30 B</text><text x="250.85" y="339.64" text-anchor="middle" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="25.61" lengthAdjust="spacingAndGlyphs">100 B</text><text x="338.38" y="339.64" text-anchor="middle" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="25.61" lengthAdjust="spacingAndGlyphs">300 B</text><text x="234.29" y="352.23" text-anchor="middle" style="font-size:11px;font-family:&amp;quot" textLength="85.18" lengthAdjust="spacingAndGlyphs">Bytes (Parquet)</text><text transform="rotate(-90 90.195 76.695)" text-anchor="middle" style="font-size:11px;font-family:&amp;quot" textLength="84.75" lengthAdjust="spacingAndGlyphs">Bytes (Feather)</text><text x="435.94" y="124.96" style="font-size:11px;font-family:&amp;quot" textLength="57.1" lengthAdjust="spacingAndGlyphs">Zstd Level</text><circle cx="444.58" cy="140.22" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.6"></circle><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.6" d="m444.58 151.97 4.79 8.3h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.6" d="M441.02 178.34h7.11v-7.11h-7.11z"></path><path style="stroke-width:0.71;stroke:#00b0f6;stroke-opacity:0.6" d="M439.55 192.06h10.06M444.58 197.09v-10.06"></path><path style="stroke-width:0.71;stroke:#e76bf3;stroke-opacity:0.6" d="M441.02 205.79h7.11v7.11h-7.11zM441.02 212.9l7.11-7.11M441.02 205.79l7.11 7.11"></path><text x="458.7" y="143.43" style="font-size:8.8px;font-family:&amp;quot" textLength="8.77" lengthAdjust="spacingAndGlyphs">-5</text><text x="458.7" y="160.71" style="font-size:8.8px;font-family:&amp;quot" textLength="5.59" lengthAdjust="spacingAndGlyphs">1</text><text x="458.7" y="177.99" style="font-size:8.8px;font-family:&amp;quot" textLength="11.19" lengthAdjust="spacingAndGlyphs">19</text><text x="458.7" y="195.27" style="font-size:8.8px;font-family:&amp;quot" textLength="5.59" lengthAdjust="spacingAndGlyphs">9</text><text x="458.7" y="212.55" style="font-size:8.8px;font-family:&amp;quot" textLength="12.6" lengthAdjust="spacingAndGlyphs">NA</text></g></svg><p>In the above log-log scatterplot, the straight line is the identity function.
Each point represents the median store size for a given schema. If a point is on
the line, it means there is no difference between Feather and Parquet. We only
look at schemas with more than 100k events to ensure that the constant factor
does not perturb the analysis. (Otherwise we end up with points <em>below</em> the
identity line, which are completely dwarfed by the bulk in practice.) The color
and shape shows the different Zstd levels, with <code>NA</code> meaning no compression.
Points clouds closer to the origin mean that the corresponding store class takes
up less space.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Analysis</div><div class="admonitionContent_S0QG"><p>We observe that <strong>disabling compression hits Feather the hardest</strong>.
Unexpectedly, a negative Zstd level of -5 does not compress well. The remaining
Zstd levels are difficult to take apart visually, but it appears that the point
clouds form a parallel line, indicating stable compression gains. Notably,
<strong>compressing PCAP packets is nearly identical with Feather and Parquet</strong>,
presumably because of the low entropy and packet meta data where general-purpose
compressors like Zstd shine.</p></div></div><p>Zooming in to the bottom left area with average event size of less than 100B,
and removing the log scaling, we see the following:</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Code</summary><div><div class="collapsibleContent_i85q"><figure data-rehype-pretty-code-figure=""><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span data-line=""><span style="color:#E6EDF3">parquet_vs_feather_size </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#79C0FF">  filter</span><span style="color:#E6EDF3">(feather </span><span style="color:#FF7B72">&lt;=</span><span style="color:#79C0FF"> 100</span><span style="color:#FF7B72"> &amp;</span><span style="color:#E6EDF3"> schema </span><span style="color:#FF7B72">%in%</span><span style="color:#E6EDF3"> schemas_gt100k) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  plot_parquet_vs_feather</span><span style="color:#E6EDF3">() </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    scale_x_continuous</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">labels</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> scales</span><span style="color:#FF7B72">::</span><span style="color:#FFA657">label_bytes</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">units</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;auto_si&quot;</span><span style="color:#E6EDF3">)) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    scale_y_continuous</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">labels</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> scales</span><span style="color:#FF7B72">::</span><span style="color:#FFA657">label_bytes</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">units</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;auto_si&quot;</span><span style="color:#E6EDF3">)) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    coord_fixed</span><span style="color:#E6EDF3">()</span></span></code></pre><button type="button" data="parquet_vs_feather_size |&gt;
  filter(feather &lt;= 100 &amp; schema %in% schemas_gt100k) |&gt;
  plot_parquet_vs_feather() +
    scale_x_continuous(labels = scales::label_bytes(units = &quot;auto_si&quot;)) +
    scale_y_continuous(labels = scales::label_bytes(units = &quot;auto_si&quot;)) +
    coord_fixed()" title="Copy code" aria-label="Copy code" class="rehype-pretty-copy" data-feedback-duration="3000" data-name="rehype-pretty-copy-button"><span class="ready"></span><span class="success"></span></button><style>
    :root {
      --copy-icon: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDM2IDM2Ij48cmVjdCB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjYmZjN2Q1IiBkPSJNMjkuNSA3aC0xOUExLjUgMS41IDAgMCAwIDkgOC41djI0YTEuNSAxLjUgMCAwIDAgMS41IDEuNWgxOWExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTI0QTEuNSAxLjUgMCAwIDAgMjkuNSA3TTI5IDMySDExVjloMThaIiBjbGFzcz0iY2xyLWktb3V0bGluZSBjbHItaS1vdXRsaW5lLXBhdGgtMSIvPjxwYXRoIGZpbGw9IiNiZmM3ZDUiIGQ9Ik0yNiAzLjVBMS41IDEuNSAwIDAgMCAyNC41IDJoLTE5QTEuNSAxLjUgMCAwIDAgNCAzLjV2MjRBMS41IDEuNSAwIDAgMCA1LjUgMjlINlY0aDIwWiIgY2xhc3M9ImNsci1pLW91dGxpbmUgY2xyLWktb3V0bGluZS1wYXRoLTIiLz48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDM2djM2SDB6Ii8+PC9zdmc+&quot;);
      --success-icon: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cmVjdCB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjMDBkNjAwIiBkPSJNMjEgN0w5IDE5bC01LjUtNS41bDEuNDEtMS40MUw5IDE2LjE3TDE5LjU5IDUuNTl6Ii8+PC9zdmc+&quot;);
    }

    pre:has(code) {
      position: relative;
    }

    button[data=&#x27;&lt;span&gt;&#x27;] {
      width: 0;
      height: 0;
      display: none;
      visibility: hidden;
    }

    pre button.rehype-pretty-copy {
      top: 1px;
      right: 1px;
      padding: 0;
      width: 24px;
      height: 24px;
      display: flex;
      cursor: pointer;
      margin-top: 8px;
      margin-right: 8px;
      position: absolute;
      border-radius: 25%;
      &amp; span {
        width: 100%;
        aspect-ratio: 1 / 1;
        background-repeat: no-repeat;
      }
      &amp; .ready {
        background-image: var(--copy-icon);
      }
      &amp; .success {
        display: none;
        background-image: var(--success-icon);
      }
    }

    &amp;.rehype-pretty-copied { 
      &amp; .success { 
        display: block;
      } &amp; .ready {
        display: none;
      }
    }

    pre button.rehype-pretty-copy.rehype-pretty-copied {
      opacity: 1;
      cursor: default;
      &amp; .ready { display: none; }
      &amp; .success { display: block; }
    }

      pre button.rehype-pretty-copy { opacity: 0; }
      button[data-name=&quot;rehype-pretty-copy-button&quot;]:hover {
        opacity: 1;
      }
    </style></code></pre></figure></div></div></details><svg xmlns="http://www.w3.org/2000/svg" class="svglite" width="672" height="480" viewBox="0 0 504 360"><defs><style>.svglite circle,.svglite line,.svglite polygon,.svglite polyline,.svglite rect{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.svglite text{white-space:pre}</style></defs><rect width="100%" height="100%" style="stroke:none;fill:none"></rect><defs><clipPath id="cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA="><path d="M0 0h504v360H0z"></path></clipPath></defs><defs><clipPath id="cpNjAuODR8NDQzLjE2fDAuMDB8MzYwLjAw"><path d="M60.84 0h382.31v360H60.84z"></path></clipPath></defs><defs><clipPath id="cpMTA0LjMyfDM1OC42Nnw1LjQ4fDMyOC4yOQ=="><path d="M104.32 5.48h254.34V328.3H104.32z"></path></clipPath></defs><g clip-path="url(#cpMTA0LjMyfDM1OC42Nnw1LjQ4fDMyOC4yOQ==)"><path style="stroke-width:0.53;stroke:#ebebeb;stroke-linecap:butt" d="M104.32 235.79h254.34M104.32 138.83h254.34M104.32 41.87h254.34M116.6 328.29V5.48M194.17 328.29V5.48M271.74 328.29V5.48M349.31 328.29V5.48"></path><path style="stroke-width:1.07;stroke:#ebebeb;stroke-linecap:butt" d="M104.32 284.27h254.34M104.32 187.31h254.34M104.32 90.35h254.34M155.38 328.29V5.48M232.95 328.29V5.48M310.52 328.29V5.48"></path><path style="stroke-width:1.07;stroke:#bebebe;stroke-linecap:butt" d="m-150.02 609.06 763.01-763"></path><circle cx="159.86" cy="220.46" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.6"></circle><path style="stroke-width:0.71;stroke:none;fill:#7cae00;fill-opacity:0.6" d="m142.22 269.74 4.79 8.29h-9.57z"></path><path style="stroke-width:0.71;stroke:#c77cff;stroke-opacity:0.6" d="M131.7 287.14h10.05M136.73 292.17v-10.06"></path><path style="stroke-width:0.71;stroke:none;fill:#00bfc4;fill-opacity:0.6" d="M134.01 293.79h7.12v-7.11h-7.12z"></path><path style="stroke-width:0.71;stroke:none;fill:#7cae00;fill-opacity:0.6" d="m294.13 121.17 4.79 8.3h-9.57z"></path><path style="stroke-width:0.71;stroke:#c77cff;stroke-opacity:0.6" d="M273.09 140.67h10.06M278.12 145.7v-10.06"></path><path style="stroke-width:0.71;stroke:none;fill:#00bfc4;fill-opacity:0.6" d="M264.71 162.14h7.11v-7.11h-7.11z"></path><path style="stroke-width:0.71;stroke:none;fill:#7cae00;fill-opacity:0.6" d="m310.35 43.71 4.78 8.3h-9.57z"></path><path style="stroke-width:0.71;stroke:#c77cff;stroke-opacity:0.6" d="M289.24 75.14h10.06M294.27 80.17V70.12"></path><path style="stroke-width:0.71;stroke:none;fill:#00bfc4;fill-opacity:0.6" d="M286.03 119.35h7.11v-7.11h-7.11z"></path><circle cx="347.1" cy="20.15" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.6"></circle><path style="stroke-width:0.71;stroke:none;fill:#7cae00;fill-opacity:0.6" d="m281.68 116.31 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:#c77cff;stroke-opacity:0.6" d="M265.76 136.21h10.05M270.78 141.24v-10.06"></path><path style="stroke-width:0.71;stroke:none;fill:#00bfc4;fill-opacity:0.6" d="M258.13 167.04h7.11v-7.11h-7.11z"></path><path style="stroke-width:0.71;stroke:none;fill:#7cae00;fill-opacity:0.6" d="m282.34 85.25 4.79 8.3h-9.57z"></path><path style="stroke-width:0.71;stroke:#c77cff;stroke-opacity:0.6" d="M272.09 107.13h10.05M277.12 112.16v-10.05"></path><path style="stroke-width:0.71;stroke:none;fill:#00bfc4;fill-opacity:0.6" d="M265.18 158.7h7.11v-7.11h-7.11z"></path><circle cx="182.2" cy="138.32" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.6"></circle><path style="stroke-width:0.71;stroke:none;fill:#7cae00;fill-opacity:0.6" d="m153.98 226.92 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:#c77cff;stroke-opacity:0.6" d="M143.71 240.34h10.05M148.73 245.37v-10.06"></path><path style="stroke-width:0.71;stroke:none;fill:#00bfc4;fill-opacity:0.6" d="M143.78 259.14h7.11v-7.11h-7.11z"></path><path style="stroke-width:0.71;stroke:none;fill:#7cae00;fill-opacity:0.6" d="m311.19 93.39 4.79 8.3h-9.57z"></path><path style="stroke-width:0.71;stroke:#c77cff;stroke-opacity:0.6" d="M300.99 115.69h10.06M306.02 120.71v-10.05"></path><path style="stroke-width:0.71;stroke:none;fill:#00bfc4;fill-opacity:0.6" d="M295.08 142.53h7.11v-7.11h-7.11z"></path><circle cx="235.04" cy="163.44" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.6"></circle><path style="stroke-width:0.71;stroke:none;fill:#7cae00;fill-opacity:0.6" d="m187.54 232.46 4.79 8.29h-9.57z"></path><path style="stroke-width:0.71;stroke:#c77cff;stroke-opacity:0.6" d="M174.12 243.52h10.06M179.15 248.54v-10.05"></path><path style="stroke-width:0.71;stroke:none;fill:#00bfc4;fill-opacity:0.6" d="M173.27 266.88h7.11v-7.11h-7.11z"></path><circle cx="136.08" cy="265.25" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.6"></circle><path style="stroke-width:0.71;stroke:none;fill:#7cae00;fill-opacity:0.6" d="m117.02 298.9 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:#c77cff;stroke-opacity:0.6" d="M111.55 305.85h10.05M116.58 310.88v-10.05"></path><path style="stroke-width:0.71;stroke:none;fill:#00bfc4;fill-opacity:0.6" d="M112.33 317.18h7.11v-7.11h-7.11z"></path><circle cx="336.5" cy="20.7" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.6"></circle><path style="stroke-width:0.71;stroke:none;fill:#7cae00;fill-opacity:0.6" d="m255.87 142.52 4.79 8.3h-9.58z"></path><path style="stroke-width:0.71;stroke:#c77cff;stroke-opacity:0.6" d="M238.6 161.15h10.06M243.63 166.18v-10.06"></path><path style="stroke-width:0.71;stroke:none;fill:#00bfc4;fill-opacity:0.6" d="M239.06 192.26h7.11v-7.11h-7.11z"></path><circle cx="284.19" cy="80.09" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.6"></circle><path style="stroke-width:0.71;stroke:none;fill:#7cae00;fill-opacity:0.6" d="m234.25 173.71 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:#c77cff;stroke-opacity:0.6" d="M220.71 184.62h10.05M225.73 189.65V179.6"></path><path style="stroke-width:0.71;stroke:none;fill:#00bfc4;fill-opacity:0.6" d="M219.11 196.52h7.11v-7.11h-7.11z"></path><circle cx="256.68" cy="85.53" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.6"></circle><path style="stroke-width:0.71;stroke:none;fill:#7cae00;fill-opacity:0.6" d="m221.45 162.95 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:#c77cff;stroke-opacity:0.6" d="M198.37 187.25h10.05M203.39 192.28v-10.06"></path><path style="stroke-width:0.71;stroke:none;fill:#00bfc4;fill-opacity:0.6" d="M196.65 235.08h7.11v-7.11h-7.11z"></path><circle cx="249.04" cy="94.44" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.6"></circle><path style="stroke-width:0.71;stroke:none;fill:#7cae00;fill-opacity:0.6" d="m214.11 187.66 4.79 8.3h-9.58z"></path><path style="stroke-width:0.71;stroke:#c77cff;stroke-opacity:0.6" d="M195.77 205.3h10.05M200.8 210.32v-10.05"></path><path style="stroke-width:0.71;stroke:none;fill:#00bfc4;fill-opacity:0.6" d="M193.23 235.46h7.11v-7.11h-7.11z"></path><path style="stroke-width:0.43;stroke:#bebebe;stroke-opacity:0.3" d="m161.46 218.23-1.01 1.41M143.9 273.09l-1.07 1.38M135.04 284.78l1.1 1.54M139.23 292.47l-1.06-1.43M295.82 129.07l-1.1-1.55M282.02 143.58l-3.15-2.35M270.21 160.18l-1.21-.99M308.63 51.64l1.13-1.58M295.88 72.92l-1.02 1.41M290.99 113.52l-.87 1.4M345.53 17.97l.98 1.37M279.74 122.78l1.13-.55M269.16 133.94l1.04 1.45M260.32 165.89l.86-1.51M284.1 93.23l-1.17-1.63M275.1 104.98l1.35 1.44M268.98 152.96l-.12 1.09M183.77 136.16l-.98 1.35M155.66 230.13l-1.09 1.5M148.95 253.35l-1.02 1.42M312.84 101.12l-1.05-1.39M307.67 117.97l-1.06-1.47M305.2 139.8l-5.7-.71M233.34 161.2l1.09 1.45M189.26 240.23l-1.11-1.45M177.43 245.85l1.13-1.52M175.29 265.7l.98-1.52M134.49 263.04l1 1.39M116.53 302.04l.27 1.32M118.03 309.44l-1.06-2.6M117.46 315.82l-.99-1.38M334.79 23.09l1.12-1.57M253.64 145.11l1.62 2.14M245.31 158.81l-1.09 1.52M244.25 190.97l-1.04-1.45M282.59 82.3l1.01-1.39M235.95 176.84l-1.11 1.57M223.79 186.83l1.29-1.47M224.29 195.15l-1.03-1.38M258.34 83.2l-1.08 1.51M219.79 170.79l1.07-1.49M201.71 185.05l1.08 1.41M201.89 229.33l-1.08 1.4M247.42 92.2l1.03 1.42M212.37 195.58l1.15-1.58M199.18 207.54l1.03-1.42M196.71 228.37l.05 2.42"></path><text x="163.74" y="216.43" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.97" lengthAdjust="spacingAndGlyphs">suricata.dcerpc</text><text x="150.21" y="271.29" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.97" lengthAdjust="spacingAndGlyphs">suricata.dcerpc</text><text x="132.73" y="282.98" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.97" lengthAdjust="spacingAndGlyphs">suricata.dcerpc</text><text x="142.58" y="296.35" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.97" lengthAdjust="spacingAndGlyphs">suricata.dcerpc</text><text x="298.13" y="132.94" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.4" lengthAdjust="spacingAndGlyphs">suricata.dns</text><text x="292.52" y="145.09" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.4" lengthAdjust="spacingAndGlyphs">suricata.dns</text><text x="280.71" y="161.7" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.4" lengthAdjust="spacingAndGlyphs">suricata.dns</text><text x="306.29" y="55.52" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.98" lengthAdjust="spacingAndGlyphs">suricata.fileinfo</text><text x="298.27" y="71.12" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.98" lengthAdjust="spacingAndGlyphs">suricata.fileinfo</text><text x="291.84" y="111.72" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.98" lengthAdjust="spacingAndGlyphs">suricata.fileinfo</text><text x="343.21" y="16.17" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.17" lengthAdjust="spacingAndGlyphs">suricata.flow</text><text x="268.85" y="123.89" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.17" lengthAdjust="spacingAndGlyphs">suricata.flow</text><text x="266.83" y="132.14" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.17" lengthAdjust="spacingAndGlyphs">suricata.flow</text><text x="259.73" y="169.77" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.17" lengthAdjust="spacingAndGlyphs">suricata.flow</text><text x="286.58" y="97.11" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.15" lengthAdjust="spacingAndGlyphs">suricata.http</text><text x="264.22" y="104.97" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.15" lengthAdjust="spacingAndGlyphs">suricata.http</text><text x="268.98" y="151.16" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.15" lengthAdjust="spacingAndGlyphs">suricata.http</text><text x="186.09" y="134.36" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.37" lengthAdjust="spacingAndGlyphs">suricata.smb</text><text x="158.17" y="228.33" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.37" lengthAdjust="spacingAndGlyphs">suricata.smb</text><text x="150.8" y="238.52" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.37" lengthAdjust="spacingAndGlyphs">suricata.smb</text><text x="151.39" y="251.55" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.37" lengthAdjust="spacingAndGlyphs">suricata.smb</text><text x="316.45" y="104.99" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="15.7" lengthAdjust="spacingAndGlyphs">suricata.tls</text><text x="310.12" y="121.85" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="15.7" lengthAdjust="spacingAndGlyphs">suricata.tls</text><text x="314.85" y="140.84" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="15.7" lengthAdjust="spacingAndGlyphs">suricata.tls</text><text x="228.42" y="159.4" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="14.45" lengthAdjust="spacingAndGlyphs">zeek.conn</text><text x="194.67" y="244.11" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="14.45" lengthAdjust="spacingAndGlyphs">zeek.conn</text><text x="174.37" y="249.73" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="14.45" lengthAdjust="spacingAndGlyphs">zeek.conn</text><text x="174.16" y="269.58" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="14.45" lengthAdjust="spacingAndGlyphs">zeek.conn</text><text x="132.21" y="261.24" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.63" lengthAdjust="spacingAndGlyphs">zeek.dce_rpc</text><text x="116.51" y="300.24" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.63" lengthAdjust="spacingAndGlyphs">zeek.dce_rpc</text><text x="129.14" y="311.81" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.63" lengthAdjust="spacingAndGlyphs">zeek.dce_rpc</text><text x="119.79" y="319.69" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.63" lengthAdjust="spacingAndGlyphs">zeek.dce_rpc</text><text x="332.39" y="26.96" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="12.64" lengthAdjust="spacingAndGlyphs">zeek.dns</text><text x="247.85" y="143.31" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="12.64" lengthAdjust="spacingAndGlyphs">zeek.dns</text><text x="247.73" y="157.01" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="12.64" lengthAdjust="spacingAndGlyphs">zeek.dns</text><text x="246.69" y="194.85" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="12.64" lengthAdjust="spacingAndGlyphs">zeek.dns</text><text x="280.2" y="86.17" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.36" lengthAdjust="spacingAndGlyphs">zeek.files</text><text x="238.22" y="175.04" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.36" lengthAdjust="spacingAndGlyphs">zeek.files</text><text x="215.31" y="188.98" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.36" lengthAdjust="spacingAndGlyphs">zeek.files</text><text x="227.66" y="199.03" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.36" lengthAdjust="spacingAndGlyphs">zeek.files</text><text x="260.64" y="81.4" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.38" lengthAdjust="spacingAndGlyphs">zeek.http</text><text x="217.42" y="174.66" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.38" lengthAdjust="spacingAndGlyphs">zeek.http</text><text x="196.19" y="183.25" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.38" lengthAdjust="spacingAndGlyphs">zeek.http</text><text x="207.45" y="227.53" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.38" lengthAdjust="spacingAndGlyphs">zeek.http</text><text x="245.1" y="90.4" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="11.3" lengthAdjust="spacingAndGlyphs">zeek.ssl</text><text x="209.46" y="199.45" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="11.3" lengthAdjust="spacingAndGlyphs">zeek.ssl</text><text x="196.86" y="211.41" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="11.3" lengthAdjust="spacingAndGlyphs">zeek.ssl</text><text x="189.25" y="227.83" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="11.3" lengthAdjust="spacingAndGlyphs">zeek.ssl</text></g><g clip-path="url(#cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA=)"><text x="99.39" y="287.48" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="20.02" lengthAdjust="spacingAndGlyphs">25 B</text><text x="99.39" y="190.52" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="20.02" lengthAdjust="spacingAndGlyphs">50 B</text><text x="99.39" y="93.56" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="20.02" lengthAdjust="spacingAndGlyphs">75 B</text><text x="155.38" y="339.64" text-anchor="middle" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="20.02" lengthAdjust="spacingAndGlyphs">20 B</text><text x="232.95" y="339.64" text-anchor="middle" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="20.02" lengthAdjust="spacingAndGlyphs">40 B</text><text x="310.52" y="339.64" text-anchor="middle" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="20.02" lengthAdjust="spacingAndGlyphs">60 B</text><text x="231.49" y="352.23" text-anchor="middle" style="font-size:11px;font-family:&amp;quot" textLength="85.18" lengthAdjust="spacingAndGlyphs">Bytes (Parquet)</text><text transform="rotate(-90 120.615 46.275)" text-anchor="middle" style="font-size:11px;font-family:&amp;quot" textLength="84.75" lengthAdjust="spacingAndGlyphs">Bytes (Feather)</text><text x="375.09" y="133.6" style="font-size:11px;font-family:&amp;quot" textLength="57.1" lengthAdjust="spacingAndGlyphs">Zstd Level</text><circle cx="383.73" cy="148.86" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.6"></circle><path style="stroke-width:0.71;stroke:none;fill:#7cae00;fill-opacity:0.6" d="m383.73 160.61 4.79 8.3h-9.57z"></path><path style="stroke-width:0.71;stroke:none;fill:#00bfc4;fill-opacity:0.6" d="M380.18 186.98h7.11v-7.11h-7.11z"></path><path style="stroke-width:0.71;stroke:#c77cff;stroke-opacity:0.6" d="M378.71 200.7h10.05M383.73 205.73v-10.06"></path><text x="397.85" y="152.07" style="font-size:8.8px;font-family:&amp;quot" textLength="8.77" lengthAdjust="spacingAndGlyphs">-5</text><text x="397.85" y="169.35" style="font-size:8.8px;font-family:&amp;quot" textLength="5.59" lengthAdjust="spacingAndGlyphs">1</text><text x="397.85" y="186.63" style="font-size:8.8px;font-family:&amp;quot" textLength="11.19" lengthAdjust="spacingAndGlyphs">19</text><text x="397.85" y="203.91" style="font-size:8.8px;font-family:&amp;quot" textLength="5.59" lengthAdjust="spacingAndGlyphs">9</text></g></svg><p>The respective point clouds form a parallel to the identity function, i.e., the
compression ratio in this region pretty constant across schemas. There’s also no
noticeable difference between Zstd level 1, 9, and 19.</p><p>If we take pick a single point, e.g., <code>zeek.conn</code> with
4.7M events,
we can confirm that the relative performance matches the results of our analysis
above:</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Code</summary><div><div class="collapsibleContent_i85q"><figure data-rehype-pretty-code-figure=""><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span data-line=""><span style="color:#E6EDF3">unified </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#79C0FF">  filter</span><span style="color:#E6EDF3">(schema </span><span style="color:#FF7B72">==</span><span style="color:#A5D6FF"> &quot;zeek.conn&quot;</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  ggplot</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">aes</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">x</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> reorder</span><span style="color:#E6EDF3">(store, </span><span style="color:#FF7B72">-</span><span style="color:#E6EDF3">bytes), </span><span style="color:#FFA657">y</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> bytes, </span><span style="color:#FFA657">fill</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> store_class)) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    geom_bar</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">stat</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;identity&quot;</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    guides</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">fill</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;none&quot;</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    labs</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">x</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Store&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">y</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Bytes/Event&quot;</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    scale_y_continuous</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">labels</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> scales</span><span style="color:#FF7B72">::</span><span style="color:#FFA657">label_bytes</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">units</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;auto_si&quot;</span><span style="color:#E6EDF3">)) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    theme</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">axis.text.x</span><span style="color:#FF7B72"> =</span><span style="color:#FFA657"> element_text</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">angle</span><span style="color:#FF7B72"> =</span><span style="color:#FF7B72"> -</span><span style="color:#79C0FF">90</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">size</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 8</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">vjust</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 0.5</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">hjust</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 0</span><span style="color:#E6EDF3">)) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    facet_wrap</span><span style="color:#E6EDF3">(</span><span style="color:#FF7B72">~</span><span style="color:#E6EDF3"> schema, </span><span style="color:#FFA657">scales</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;free&quot;</span><span style="color:#E6EDF3">)</span></span></code></pre><button type="button" data="unified |&gt;
  filter(schema == &quot;zeek.conn&quot;) |&gt;
  ggplot(aes(x = reorder(store, -bytes), y = bytes, fill = store_class)) +
    geom_bar(stat = &quot;identity&quot;) +
    guides(fill = &quot;none&quot;) +
    labs(x = &quot;Store&quot;, y = &quot;Bytes/Event&quot;) +
    scale_y_continuous(labels = scales::label_bytes(units = &quot;auto_si&quot;)) +
    theme(axis.text.x = element_text(angle = -90, size = 8, vjust = 0.5, hjust = 0)) +
    facet_wrap(~ schema, scales = &quot;free&quot;)" title="Copy code" aria-label="Copy code" class="rehype-pretty-copy" data-feedback-duration="3000" data-name="rehype-pretty-copy-button"><span class="ready"></span><span class="success"></span></button><style>
    :root {
      --copy-icon: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDM2IDM2Ij48cmVjdCB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjYmZjN2Q1IiBkPSJNMjkuNSA3aC0xOUExLjUgMS41IDAgMCAwIDkgOC41djI0YTEuNSAxLjUgMCAwIDAgMS41IDEuNWgxOWExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTI0QTEuNSAxLjUgMCAwIDAgMjkuNSA3TTI5IDMySDExVjloMThaIiBjbGFzcz0iY2xyLWktb3V0bGluZSBjbHItaS1vdXRsaW5lLXBhdGgtMSIvPjxwYXRoIGZpbGw9IiNiZmM3ZDUiIGQ9Ik0yNiAzLjVBMS41IDEuNSAwIDAgMCAyNC41IDJoLTE5QTEuNSAxLjUgMCAwIDAgNCAzLjV2MjRBMS41IDEuNSAwIDAgMCA1LjUgMjlINlY0aDIwWiIgY2xhc3M9ImNsci1pLW91dGxpbmUgY2xyLWktb3V0bGluZS1wYXRoLTIiLz48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDM2djM2SDB6Ii8+PC9zdmc+&quot;);
      --success-icon: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cmVjdCB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjMDBkNjAwIiBkPSJNMjEgN0w5IDE5bC01LjUtNS41bDEuNDEtMS40MUw5IDE2LjE3TDE5LjU5IDUuNTl6Ii8+PC9zdmc+&quot;);
    }

    pre:has(code) {
      position: relative;
    }

    button[data=&#x27;&lt;span&gt;&#x27;] {
      width: 0;
      height: 0;
      display: none;
      visibility: hidden;
    }

    pre button.rehype-pretty-copy {
      top: 1px;
      right: 1px;
      padding: 0;
      width: 24px;
      height: 24px;
      display: flex;
      cursor: pointer;
      margin-top: 8px;
      margin-right: 8px;
      position: absolute;
      border-radius: 25%;
      &amp; span {
        width: 100%;
        aspect-ratio: 1 / 1;
        background-repeat: no-repeat;
      }
      &amp; .ready {
        background-image: var(--copy-icon);
      }
      &amp; .success {
        display: none;
        background-image: var(--success-icon);
      }
    }

    &amp;.rehype-pretty-copied { 
      &amp; .success { 
        display: block;
      } &amp; .ready {
        display: none;
      }
    }

    pre button.rehype-pretty-copy.rehype-pretty-copied {
      opacity: 1;
      cursor: default;
      &amp; .ready { display: none; }
      &amp; .success { display: block; }
    }

      pre button.rehype-pretty-copy { opacity: 0; }
      button[data-name=&quot;rehype-pretty-copy-button&quot;]:hover {
        opacity: 1;
      }
    </style></code></pre></figure></div></div></details><svg xmlns="http://www.w3.org/2000/svg" class="svglite" width="672" height="480" viewBox="0 0 504 360"><defs><style>.svglite polyline,.svglite rect{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.svglite text{white-space:pre}</style></defs><rect width="100%" height="100%" style="stroke:none;fill:none"></rect><defs><clipPath id="cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA="><path d="M0 0h504v360H0z"></path></clipPath></defs><defs><clipPath id="cpNDkuMDd8NDk4LjUyfDIyLjQ5fDI4Ny4wNQ=="><path d="M49.07 22.49h449.45v264.56H49.07z"></path></clipPath></defs><g clip-path="url(#cpNDkuMDd8NDk4LjUyfDIyLjQ5fDI4Ny4wNQ==)"><path style="stroke-width:0.53;stroke:#ebebeb;stroke-linecap:butt" d="M49.07 241.68h449.45M49.07 174.99h449.45M49.07 108.3h449.45M49.07 41.61h449.45"></path><path style="stroke-width:1.07;stroke:#ebebeb;stroke-linecap:butt" d="M49.07 275.02h449.45M49.07 208.33h449.45M49.07 141.64h449.45M49.07 74.96h449.45M75.51 287.05V22.49M119.57 287.05V22.49M163.64 287.05V22.49M207.7 287.05V22.49M251.76 287.05V22.49M295.83 287.05V22.49M339.89 287.05V22.49M383.96 287.05V22.49M428.02 287.05V22.49M472.08 287.05V22.49"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#f8766d" d="M143.81 200.12h39.66v74.9h-39.66zM231.94 225.76h39.66v49.26h-39.66zM276 227.66h39.66v47.36H276zM320.06 234.47h39.66v40.55h-39.66zM55.68 34.52h39.66v240.51H55.68z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#00bfc4" d="M187.87 220.95h39.66v54.07h-39.66zM364.13 237.29h39.66v37.74h-39.66zM408.19 240.17h39.66v34.85h-39.66zM452.25 240.97h39.66v34.05h-39.66zM99.74 197.32h39.66v77.7H99.74z"></path></g><defs><clipPath id="cpNDkuMDd8NDk4LjUyfDUuNDh8MjIuNDk="><path d="M49.07 5.48h449.45v17.01H49.07z"></path></clipPath></defs><g clip-path="url(#cpNDkuMDd8NDk4LjUyfDUuNDh8MjIuNDk=)"><text x="273.8" y="17.19" text-anchor="middle" style="font-size:8.8px;fill:#1a1a1a;font-family:&amp;quot" textLength="44.7" lengthAdjust="spacingAndGlyphs">zeek.conn</text></g><g clip-path="url(#cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA=)"><text transform="rotate(90 -109.695 182.285)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="47.22" lengthAdjust="spacingAndGlyphs">feather+NA</text><text transform="rotate(90 -87.66 204.32)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="49.49" lengthAdjust="spacingAndGlyphs">parquet+NA</text><text transform="rotate(90 -65.63 226.35)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="43.75" lengthAdjust="spacingAndGlyphs">feather+-5</text><text transform="rotate(90 -43.6 248.38)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="46.02" lengthAdjust="spacingAndGlyphs">parquet+-5</text><text transform="rotate(90 -21.565 270.415)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="40.86" lengthAdjust="spacingAndGlyphs">feather+1</text><text transform="rotate(90 .465 292.445)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="40.86" lengthAdjust="spacingAndGlyphs">feather+9</text><text transform="rotate(90 22.5 314.48)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="45.95" lengthAdjust="spacingAndGlyphs">feather+19</text><text transform="rotate(90 44.53 336.51)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="43.13" lengthAdjust="spacingAndGlyphs">parquet+1</text><text transform="rotate(90 66.56 358.54)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="43.13" lengthAdjust="spacingAndGlyphs">parquet+9</text><text transform="rotate(90 88.595 380.575)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="48.22" lengthAdjust="spacingAndGlyphs">parquet+19</text><text x="44.14" y="278.23" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="14.42" lengthAdjust="spacingAndGlyphs">0 B</text><text x="44.14" y="211.54" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="20.02" lengthAdjust="spacingAndGlyphs">50 B</text><text x="44.14" y="144.85" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="25.61" lengthAdjust="spacingAndGlyphs">100 B</text><text x="44.14" y="78.16" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="25.61" lengthAdjust="spacingAndGlyphs">150 B</text><text x="273.8" y="352.23" text-anchor="middle" style="font-size:11px;font-family:&amp;quot" textLength="29.07" lengthAdjust="spacingAndGlyphs">Store</text><text transform="rotate(-90 84.135 70.635)" text-anchor="middle" style="font-size:11px;font-family:&amp;quot" textLength="66.08" lengthAdjust="spacingAndGlyphs">Bytes/Event</text></g></svg><p>Finally, we look at the fraction of space Parquet takes compared to Feather on a
per schema basis, restricted to schemas with more than 10k events:</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Code</summary><div><div class="collapsibleContent_i85q"><figure data-rehype-pretty-code-figure=""><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span data-line=""><span style="color:#79C0FF">library</span><span style="color:#E6EDF3">(tibble)</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#E6EDF3">parquet_vs_feather_size </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#79C0FF">  filter</span><span style="color:#E6EDF3">(feather </span><span style="color:#FF7B72">&lt;=</span><span style="color:#79C0FF"> 100</span><span style="color:#FF7B72"> &amp;</span><span style="color:#E6EDF3"> schema </span><span style="color:#FF7B72">%in%</span><span style="color:#E6EDF3"> schemas_gt10k) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  mutate</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">zstd.level</span><span style="color:#FF7B72"> =</span><span style="color:#FFA657"> str_replace_na</span><span style="color:#E6EDF3">(zstd.level)) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  ggplot</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">aes</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">x</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> reorder</span><span style="color:#E6EDF3">(schema, </span><span style="color:#FF7B72">-</span><span style="color:#E6EDF3">parquet </span><span style="color:#FF7B72">/</span><span style="color:#E6EDF3"> feather),</span></span>
<span data-line=""><span style="color:#FFA657">             y</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> parquet </span><span style="color:#FF7B72">/</span><span style="color:#E6EDF3"> feather,</span></span>
<span data-line=""><span style="color:#FFA657">             fill</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> zstd.level)) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    geom_hline</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">yintercept</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 1</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    geom_bar</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">stat</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;identity&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">position</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;dodge&quot;</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    labs</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">x</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Schema&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">y</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Parquet / Feather (%)&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">fill</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Zstd Level&quot;</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    scale_y_continuous</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">breaks</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 6</span><span style="color:#FF7B72">:</span><span style="color:#79C0FF">1</span><span style="color:#FF7B72"> *</span><span style="color:#79C0FF"> 20</span><span style="color:#FF7B72"> /</span><span style="color:#79C0FF"> 100</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">labels</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> scales</span><span style="color:#FF7B72">::</span><span style="color:#FFA657">label_percent</span><span style="color:#E6EDF3">()) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    theme</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">axis.text.x</span><span style="color:#FF7B72"> =</span><span style="color:#FFA657"> element_text</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">angle</span><span style="color:#FF7B72"> =</span><span style="color:#FF7B72"> -</span><span style="color:#79C0FF">90</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">size</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 8</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">vjust</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 0.5</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">hjust</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 0</span><span style="color:#E6EDF3">))</span></span></code></pre><button type="button" data="library(tibble)

parquet_vs_feather_size |&gt;
  filter(feather &lt;= 100 &amp; schema %in% schemas_gt10k) |&gt;
  mutate(zstd.level = str_replace_na(zstd.level)) |&gt;
  ggplot(aes(x = reorder(schema, -parquet / feather),
             y = parquet / feather,
             fill = zstd.level)) +
    geom_hline(yintercept = 1) +
    geom_bar(stat = &quot;identity&quot;, position = &quot;dodge&quot;) +
    labs(x = &quot;Schema&quot;, y = &quot;Parquet / Feather (%)&quot;, fill = &quot;Zstd Level&quot;) +
    scale_y_continuous(breaks = 6:1 * 20 / 100, labels = scales::label_percent()) +
    theme(axis.text.x = element_text(angle = -90, size = 8, vjust = 0.5, hjust = 0))" title="Copy code" aria-label="Copy code" class="rehype-pretty-copy" data-feedback-duration="3000" data-name="rehype-pretty-copy-button"><span class="ready"></span><span class="success"></span></button><style>
    :root {
      --copy-icon: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDM2IDM2Ij48cmVjdCB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjYmZjN2Q1IiBkPSJNMjkuNSA3aC0xOUExLjUgMS41IDAgMCAwIDkgOC41djI0YTEuNSAxLjUgMCAwIDAgMS41IDEuNWgxOWExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTI0QTEuNSAxLjUgMCAwIDAgMjkuNSA3TTI5IDMySDExVjloMThaIiBjbGFzcz0iY2xyLWktb3V0bGluZSBjbHItaS1vdXRsaW5lLXBhdGgtMSIvPjxwYXRoIGZpbGw9IiNiZmM3ZDUiIGQ9Ik0yNiAzLjVBMS41IDEuNSAwIDAgMCAyNC41IDJoLTE5QTEuNSAxLjUgMCAwIDAgNCAzLjV2MjRBMS41IDEuNSAwIDAgMCA1LjUgMjlINlY0aDIwWiIgY2xhc3M9ImNsci1pLW91dGxpbmUgY2xyLWktb3V0bGluZS1wYXRoLTIiLz48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDM2djM2SDB6Ii8+PC9zdmc+&quot;);
      --success-icon: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cmVjdCB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjMDBkNjAwIiBkPSJNMjEgN0w5IDE5bC01LjUtNS41bDEuNDEtMS40MUw5IDE2LjE3TDE5LjU5IDUuNTl6Ii8+PC9zdmc+&quot;);
    }

    pre:has(code) {
      position: relative;
    }

    button[data=&#x27;&lt;span&gt;&#x27;] {
      width: 0;
      height: 0;
      display: none;
      visibility: hidden;
    }

    pre button.rehype-pretty-copy {
      top: 1px;
      right: 1px;
      padding: 0;
      width: 24px;
      height: 24px;
      display: flex;
      cursor: pointer;
      margin-top: 8px;
      margin-right: 8px;
      position: absolute;
      border-radius: 25%;
      &amp; span {
        width: 100%;
        aspect-ratio: 1 / 1;
        background-repeat: no-repeat;
      }
      &amp; .ready {
        background-image: var(--copy-icon);
      }
      &amp; .success {
        display: none;
        background-image: var(--success-icon);
      }
    }

    &amp;.rehype-pretty-copied { 
      &amp; .success { 
        display: block;
      } &amp; .ready {
        display: none;
      }
    }

    pre button.rehype-pretty-copy.rehype-pretty-copied {
      opacity: 1;
      cursor: default;
      &amp; .ready { display: none; }
      &amp; .success { display: block; }
    }

      pre button.rehype-pretty-copy { opacity: 0; }
      button[data-name=&quot;rehype-pretty-copy-button&quot;]:hover {
        opacity: 1;
      }
    </style></code></pre></figure></div></div></details><svg xmlns="http://www.w3.org/2000/svg" class="svglite" width="672" height="480" viewBox="0 0 504 360"><defs><style>.svglite polyline,.svglite rect{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.svglite text{white-space:pre}</style></defs><rect width="100%" height="100%" style="stroke:none;fill:none"></rect><defs><clipPath id="cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA="><path d="M0 0h504v360H0z"></path></clipPath></defs><defs><clipPath id="cpNDguNjB8NDE5LjUwfDUuNDh8MjU5LjA3"><path d="M48.6 5.48h370.9v253.59H48.6z"></path></clipPath></defs><g clip-path="url(#cpNDguNjB8NDE5LjUwfDUuNDh8MjU5LjA3)"><path style="stroke-width:0.53;stroke:#ebebeb;stroke-linecap:butt" d="M48.6 45.34h370.9M48.6 90.28h370.9M48.6 135.21h370.9M48.6 180.14h370.9"></path><path style="stroke-width:1.07;stroke:#ebebeb;stroke-linecap:butt" d="M48.6 22.88h370.9M48.6 67.81h370.9M48.6 112.74h370.9M48.6 157.68h370.9M48.6 202.61h370.9M59.62 259.07V5.48M77.98 259.07V5.48M96.34 259.07V5.48M114.7 259.07V5.48M133.06 259.07V5.48M151.43 259.07V5.48M169.79 259.07V5.48M188.15 259.07V5.48M206.51 259.07V5.48M224.87 259.07V5.48M243.23 259.07V5.48M261.59 259.07V5.48M279.95 259.07V5.48M298.32 259.07V5.48M316.68 259.07V5.48M335.04 259.07V5.48M353.4 259.07V5.48M371.76 259.07V5.48M390.12 259.07V5.48M408.48 259.07V5.48"></path><path style="stroke-width:1.07;stroke-linecap:butt;fill:none;stroke:#000;stroke-linejoin:round;stroke-miterlimit:10" d="M48.6 22.88h370.9"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#f8766d" d="M161.52 81.24h4.13v166.3h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#7cae00" d="M165.66 64.33h4.13v183.21h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#c77cff" d="M173.92 61.98h4.13v185.56h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#00bfc4" d="M169.79 42.21h4.13v205.33h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#f8766d" d="M363.5 132.88h4.13v114.66h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#7cae00" d="M367.63 110.98h4.13v136.56h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#c77cff" d="M375.89 106.87h4.13v140.67h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#00bfc4" d="M371.76 100.02h4.13v147.53h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#7cae00" d="M124.8 56.61h5.51v190.93h-5.51z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#c77cff" d="M135.82 60.48h5.51v187.06h-5.51z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#00bfc4" d="M130.31 55.37h5.51v192.17h-5.51z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#7cae00" d="M308.41 90.18h5.51v157.36h-5.51z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#c77cff" d="M319.43 88.67h5.51v158.87h-5.51z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#00bfc4" d="M313.92 68.3h5.51v179.24h-5.51z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#f8766d" d="M179.89 79.99h4.13v167.55h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#7cae00" d="M184.02 70.97h4.13v176.57h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#c77cff" d="M192.28 70.61h4.13v176.93h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#00bfc4" d="M188.15 57.83h4.13v189.71h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#7cae00" d="M271.69 89.34h5.51v158.2h-5.51z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#c77cff" d="M282.71 84.18h5.51v163.36h-5.51z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#00bfc4" d="M277.2 57.82h5.51v189.72h-5.51z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#7cae00" d="M143.16 70.76h5.51v176.78h-5.51z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#c77cff" d="M154.18 65.23h5.51v182.31h-5.51z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#00bfc4" d="M148.67 39.29h5.51v208.25h-5.51z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#f8766d" d="M400.22 150.99h4.13v96.55h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#7cae00" d="M404.35 132.53h4.13v115.01h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#c77cff" d="M412.61 134.45h4.13v113.09h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#00bfc4" d="M408.48 123.23h4.13v124.31h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#7cae00" d="M106.44 61.82h5.51v185.72h-5.51z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#c77cff" d="M117.46 54.47h5.51v193.07h-5.51z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#00bfc4" d="M111.95 42.76h5.51v204.78h-5.51z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#f8766d" d="M253.33 85.35h4.13v162.19h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#7cae00" d="M257.46 75.44h4.13v172.1h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#c77cff" d="M265.72 82.22h4.13v165.32h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#00bfc4" d="M261.59 58.9h4.13v188.64h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#f8766d" d="M381.86 134.68h4.13v112.86h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#7cae00" d="M385.99 132.85h4.13v114.69h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#c77cff" d="M394.25 132.01h4.13v115.53h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#00bfc4" d="M390.12 121.05h4.13v126.49h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#f8766d" d="M234.97 86.34h4.13v161.2h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#7cae00" d="M239.1 75.99h4.13v171.55h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#c77cff" d="M247.36 78.28h4.13v169.26h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#00bfc4" d="M243.23 55.23h4.13v192.31h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#f8766d" d="M290.05 93.58h4.13v153.96h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#7cae00" d="M294.18 73.55h4.13v173.99h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#c77cff" d="M302.45 78.51h4.13v169.03h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#00bfc4" d="M298.32 74.69h4.13v172.85h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#f8766d" d="M345.14 111.65h4.13v135.89h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#7cae00" d="M349.27 95.87h4.13v151.67h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#c77cff" d="M357.53 102.1h4.13v145.44h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#00bfc4" d="M353.4 63.87h4.13v183.67h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#f8766d" d="M69.72 73.44h4.13v174.1h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#7cae00" d="M73.85 42.59h4.13v204.95h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#c77cff" d="M82.11 40.56h4.13v206.98h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#00bfc4" d="M77.98 26.78h4.13v220.76h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#f8766d" d="M216.61 86.7h4.13v160.84h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#7cae00" d="M220.74 66.23h4.13v181.31h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#c77cff" d="M229 65.76h4.13v181.78H229z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#00bfc4" d="M224.87 69.36H229v178.18h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#f8766d" d="M88.08 84.23h4.13v163.31h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#7cae00" d="M92.21 47.37h4.13v200.18h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#c77cff" d="M100.47 43.68h4.13v203.86h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#00bfc4" d="M96.34 17.01h4.13v230.53h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#7cae00" d="M51.36 38.05h5.51v209.49h-5.51z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#c77cff" d="M62.37 38.5h5.51v209.04h-5.51z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#00bfc4" d="M56.87 26.81h5.51v220.73h-5.51z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#f8766d" d="M326.78 113.41h4.13v134.13h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#7cae00" d="M330.91 84.7h4.13v162.84h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#c77cff" d="M339.17 90.5h4.13v157.04h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#00bfc4" d="M335.04 68.55h4.13v178.99h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#f8766d" d="M198.25 97.88h4.13v149.66h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#7cae00" d="M202.38 61.54h4.13v186.01h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#c77cff" d="M210.64 70.08h4.13v177.46h-4.13z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#00bfc4" d="M206.51 57.91h4.13v189.63h-4.13z"></path></g><g clip-path="url(#cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA=)"><text x="43.67" y="26.09" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="25.14" lengthAdjust="spacingAndGlyphs">100%</text><text x="43.67" y="71.02" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="19.55" lengthAdjust="spacingAndGlyphs">80%</text><text x="43.67" y="115.95" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="19.55" lengthAdjust="spacingAndGlyphs">60%</text><text x="43.67" y="160.88" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="19.55" lengthAdjust="spacingAndGlyphs">40%</text><text x="43.67" y="205.82" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="19.55" lengthAdjust="spacingAndGlyphs">20%</text><text transform="rotate(90 -103.65 160.35)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="41.39" lengthAdjust="spacingAndGlyphs">zeek.smtp</text><text transform="rotate(90 -94.465 169.535)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="55.96" lengthAdjust="spacingAndGlyphs">zeek.kerberos</text><text transform="rotate(90 -85.285 178.715)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="77.47" lengthAdjust="spacingAndGlyphs">zeek.smb_mapping</text><text transform="rotate(90 -76.105 187.895)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="44.17" lengthAdjust="spacingAndGlyphs">suricata.tls</text><text transform="rotate(90 -66.925 197.075)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="48.95" lengthAdjust="spacingAndGlyphs">suricata.dns</text><text transform="rotate(90 -57.745 206.255)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="52.73" lengthAdjust="spacingAndGlyphs">suricata.krb5</text><text transform="rotate(90 -48.565 215.435)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="69.16" lengthAdjust="spacingAndGlyphs">suricata.anomaly</text><text transform="rotate(90 -39.385 224.615)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="51.12" lengthAdjust="spacingAndGlyphs">suricata.flow</text><text transform="rotate(90 -30.205 233.795)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="43.14" lengthAdjust="spacingAndGlyphs">zeek.weird</text><text transform="rotate(90 -21.025 242.975)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="39.76" lengthAdjust="spacingAndGlyphs">zeek.ocsp</text><text transform="rotate(90 -11.84 252.16)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="35.53" lengthAdjust="spacingAndGlyphs">zeek.dns</text><text transform="rotate(90 -2.66 261.34)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="40.65" lengthAdjust="spacingAndGlyphs">zeek.conn</text><text transform="rotate(90 6.52 270.52)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="51.06" lengthAdjust="spacingAndGlyphs">suricata.http</text><text transform="rotate(90 15.7 279.7)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="37.58" lengthAdjust="spacingAndGlyphs">zeek.files</text><text transform="rotate(90 24.88 288.88)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="61.83" lengthAdjust="spacingAndGlyphs">suricata.fileinfo</text><text transform="rotate(90 34.06 298.06)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="31.78" lengthAdjust="spacingAndGlyphs">zeek.ssl</text><text transform="rotate(90 43.24 307.24)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="37.64" lengthAdjust="spacingAndGlyphs">zeek.http</text><text transform="rotate(90 52.42 316.42)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="61.8" lengthAdjust="spacingAndGlyphs">suricata.dcerpc</text><text transform="rotate(90 61.605 325.605)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="52.39" lengthAdjust="spacingAndGlyphs">zeek.dce_rpc</text><text transform="rotate(90 70.785 334.785)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="51.67" lengthAdjust="spacingAndGlyphs">suricata.smb</text><text x="234.05" y="352.23" text-anchor="middle" style="font-size:11px;font-family:&amp;quot" textLength="44.22" lengthAdjust="spacingAndGlyphs">Schema</text><text transform="rotate(-90 72.885 59.385)" text-anchor="middle" style="font-size:11px;font-family:&amp;quot" textLength="117.28" lengthAdjust="spacingAndGlyphs">Parquet / Feather (%)</text><text x="435.94" y="98.98" style="font-size:11px;font-family:&amp;quot" textLength="57.1" lengthAdjust="spacingAndGlyphs">Zstd Level</text><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#f8766d" d="M436.65 106.32h15.86v15.86h-15.86z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#7cae00" d="M436.65 123.6h15.86v15.86h-15.86z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#00bfc4" d="M436.65 140.88h15.86v15.86h-15.86z"></path><path style="stroke-width:1.07;stroke:none;stroke-linecap:butt;stroke-linejoin:miter;fill:#c77cff" d="M436.65 158.16h15.86v15.86h-15.86z"></path><text x="458.7" y="117.46" style="font-size:8.8px;font-family:&amp;quot" textLength="8.77" lengthAdjust="spacingAndGlyphs">-5</text><text x="458.7" y="134.74" style="font-size:8.8px;font-family:&amp;quot" textLength="5.59" lengthAdjust="spacingAndGlyphs">1</text><text x="458.7" y="152.02" style="font-size:8.8px;font-family:&amp;quot" textLength="11.19" lengthAdjust="spacingAndGlyphs">19</text><text x="458.7" y="169.3" style="font-size:8.8px;font-family:&amp;quot" textLength="5.59" lengthAdjust="spacingAndGlyphs">9</text></g></svg><p>The horizontal line is similar to the identity line in the scatterplot,
indicating that Feather and Parquet compress equally well. The bars represent
that ratio of Parquet divided by Feather. The shorter the bars, the smaller the
size, so the higher the gain over Feather.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Analysis</div><div class="admonitionContent_S0QG"><p>We see that Zstd level 19 brings Parquet and Feather close together. Even at
Zstd level 1, the median ratio of Parquet stores is <strong>78%</strong>, and the 3rd
quartile <strong>82%</strong>. This shows that <strong>Feather is remarkably competitive for typical
security analytics workloads</strong>.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="speed">Speed<a href="#speed" class="hash-link" aria-label="Direct link to Speed" title="Direct link to Speed">​</a></h2><p>Now that we have looked at the spatial properties of Parquet and Feather, we
take a look at the runtime. With <em>speed</em>, we mean the time it takes to transform
Arrow Record Batches into Parquet and Feather format. This analysis only
considers only CPU time; VAST writes the respective store in memory first and
then flushes it one sequential write. Our mental model is that Feather is faster
than Parquet. Is that the case when enabling compression for both?</p><p>To avoid distortion of small events, we also restrict the analysis to schemas
with more than 100k events.</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Code</summary><div><div class="collapsibleContent_i85q"><figure data-rehype-pretty-code-figure=""><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span data-line=""><span style="color:#E6EDF3">unified </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#79C0FF">  filter</span><span style="color:#E6EDF3">(schema </span><span style="color:#FF7B72">%in%</span><span style="color:#E6EDF3"> schemas_gt100k) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  ggplot</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">aes</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">x</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> reorder</span><span style="color:#E6EDF3">(store, </span><span style="color:#FF7B72">-</span><span style="color:#E6EDF3">duration, </span><span style="color:#FFA657">FUN</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;median&quot;</span><span style="color:#E6EDF3">),</span></span>
<span data-line=""><span style="color:#FFA657">             y</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> duration, </span><span style="color:#FFA657">color</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> store_class)) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">  geom_boxplot</span><span style="color:#E6EDF3">() </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">  scale_y_log10</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">labels</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> scales</span><span style="color:#FF7B72">::</span><span style="color:#FFA657">label_number</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">scale</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 1e6</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">suffix</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;us&quot;</span><span style="color:#E6EDF3">)) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">  theme</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">axis.text.x</span><span style="color:#FF7B72"> =</span><span style="color:#FFA657"> element_text</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">angle</span><span style="color:#FF7B72"> =</span><span style="color:#FF7B72"> -</span><span style="color:#79C0FF">90</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">size</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 8</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">vjust</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 0.5</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">hjust</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 0</span><span style="color:#E6EDF3">)) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">  labs</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">x</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Store&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">y</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Speed (us)&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">color</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Store&quot;</span><span style="color:#E6EDF3">)</span></span></code></pre><button type="button" data="unified |&gt;
  filter(schema %in% schemas_gt100k) |&gt;
  ggplot(aes(x = reorder(store, -duration, FUN = &quot;median&quot;),
             y = duration, color = store_class)) +
  geom_boxplot() +
  scale_y_log10(labels = scales::label_number(scale = 1e6, suffix = &quot;us&quot;)) +
  theme(axis.text.x = element_text(angle = -90, size = 8, vjust = 0.5, hjust = 0)) +
  labs(x = &quot;Store&quot;, y = &quot;Speed (us)&quot;, color = &quot;Store&quot;)" title="Copy code" aria-label="Copy code" class="rehype-pretty-copy" data-feedback-duration="3000" data-name="rehype-pretty-copy-button"><span class="ready"></span><span class="success"></span></button><style>
    :root {
      --copy-icon: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDM2IDM2Ij48cmVjdCB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjYmZjN2Q1IiBkPSJNMjkuNSA3aC0xOUExLjUgMS41IDAgMCAwIDkgOC41djI0YTEuNSAxLjUgMCAwIDAgMS41IDEuNWgxOWExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTI0QTEuNSAxLjUgMCAwIDAgMjkuNSA3TTI5IDMySDExVjloMThaIiBjbGFzcz0iY2xyLWktb3V0bGluZSBjbHItaS1vdXRsaW5lLXBhdGgtMSIvPjxwYXRoIGZpbGw9IiNiZmM3ZDUiIGQ9Ik0yNiAzLjVBMS41IDEuNSAwIDAgMCAyNC41IDJoLTE5QTEuNSAxLjUgMCAwIDAgNCAzLjV2MjRBMS41IDEuNSAwIDAgMCA1LjUgMjlINlY0aDIwWiIgY2xhc3M9ImNsci1pLW91dGxpbmUgY2xyLWktb3V0bGluZS1wYXRoLTIiLz48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDM2djM2SDB6Ii8+PC9zdmc+&quot;);
      --success-icon: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cmVjdCB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjMDBkNjAwIiBkPSJNMjEgN0w5IDE5bC01LjUtNS41bDEuNDEtMS40MUw5IDE2LjE3TDE5LjU5IDUuNTl6Ii8+PC9zdmc+&quot;);
    }

    pre:has(code) {
      position: relative;
    }

    button[data=&#x27;&lt;span&gt;&#x27;] {
      width: 0;
      height: 0;
      display: none;
      visibility: hidden;
    }

    pre button.rehype-pretty-copy {
      top: 1px;
      right: 1px;
      padding: 0;
      width: 24px;
      height: 24px;
      display: flex;
      cursor: pointer;
      margin-top: 8px;
      margin-right: 8px;
      position: absolute;
      border-radius: 25%;
      &amp; span {
        width: 100%;
        aspect-ratio: 1 / 1;
        background-repeat: no-repeat;
      }
      &amp; .ready {
        background-image: var(--copy-icon);
      }
      &amp; .success {
        display: none;
        background-image: var(--success-icon);
      }
    }

    &amp;.rehype-pretty-copied { 
      &amp; .success { 
        display: block;
      } &amp; .ready {
        display: none;
      }
    }

    pre button.rehype-pretty-copy.rehype-pretty-copied {
      opacity: 1;
      cursor: default;
      &amp; .ready { display: none; }
      &amp; .success { display: block; }
    }

      pre button.rehype-pretty-copy { opacity: 0; }
      button[data-name=&quot;rehype-pretty-copy-button&quot;]:hover {
        opacity: 1;
      }
    </style></code></pre></figure></div></div></details><svg xmlns="http://www.w3.org/2000/svg" class="svglite" width="672" height="480" viewBox="0 0 504 360"><defs><style>.svglite circle,.svglite line,.svglite polygon,.svglite polyline,.svglite rect{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.svglite text{white-space:pre}</style></defs><rect width="100%" height="100%" style="stroke:none;fill:none"></rect><defs><clipPath id="cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA="><path d="M0 0h504v360H0z"></path></clipPath></defs><defs><clipPath id="cpNTAuNDB8NDE5LjM4fDUuNDh8Mjg3LjA1"><path d="M50.4 5.48h368.97v281.57H50.4z"></path></clipPath></defs><g clip-path="url(#cpNTAuNDB8NDE5LjM4fDUuNDh8Mjg3LjA1)"><path style="stroke-width:0.53;stroke:#ebebeb;stroke-linecap:butt" d="M50.4 261.88h368.98M50.4 167.87h368.98M50.4 73.86h368.98"></path><path style="stroke-width:1.07;stroke:#ebebeb;stroke-linecap:butt" d="M50.4 214.87h368.98M50.4 120.86h368.98M50.4 26.85h368.98M72.11 287.05V5.48M108.28 287.05V5.48M144.46 287.05V5.48M180.63 287.05V5.48M216.8 287.05V5.48M252.98 287.05V5.48M289.15 287.05V5.48M325.32 287.05V5.48M361.5 287.05V5.48M397.67 287.05V5.48"></path><path style="stroke-width:1.07;stroke:#f8766d;stroke-linecap:butt" d="M72.11 43.34V18.28M72.11 91.9v32.91"></path><path style="stroke-width:1.07;stroke:#f8766d;stroke-linecap:butt;stroke-linejoin:miter;fill:#fff" d="M58.54 43.34V91.9h27.13V43.34H58.54z"></path><path style="stroke-width:2.13;stroke:#f8766d;stroke-linecap:butt;stroke-linejoin:miter" d="M58.54 62.09h27.13"></path><path style="stroke-width:1.07;stroke:#00bfc4;stroke-linecap:butt" d="M108.28 70.38V37.91M108.28 93.3v30.04"></path><path style="stroke-width:1.07;stroke:#00bfc4;stroke-linecap:butt;stroke-linejoin:miter;fill:#fff" d="M94.72 70.38V93.3h27.13V70.38H94.72z"></path><path style="stroke-width:2.13;stroke:#00bfc4;stroke-linecap:butt;stroke-linejoin:miter" d="M94.72 76.03h27.13"></path><path style="stroke-width:1.07;stroke:#f8766d;stroke-linecap:butt" d="M144.46 128.31v-19.2M144.46 166.14v38.16"></path><path style="stroke-width:1.07;stroke:#f8766d;stroke-linecap:butt;stroke-linejoin:miter;fill:#fff" d="M130.89 128.31v37.83h27.13v-37.83h-27.13z"></path><path style="stroke-width:2.13;stroke:#f8766d;stroke-linecap:butt;stroke-linejoin:miter" d="M130.89 134.91h27.13"></path><path style="stroke-width:1.07;stroke:#00bfc4;stroke-linecap:butt" d="M180.63 143.4v-13.46M180.63 165.73v25.25"></path><path style="stroke-width:1.07;stroke:#00bfc4;stroke-linecap:butt;stroke-linejoin:miter;fill:#fff" d="M167.06 143.4v22.33h27.13V143.4h-27.13z"></path><path style="stroke-width:2.13;stroke:#00bfc4;stroke-linecap:butt;stroke-linejoin:miter" d="M167.06 153.74h27.13"></path><circle cx="216.8" cy="211.99" r="1.95" style="stroke-width:0.71;stroke:#00bfc4;fill:#00bfc4"></circle><path style="stroke-width:1.07;stroke:#00bfc4;stroke-linecap:butt" d="M216.8 154.61V135.8M216.8 174.28v7.1"></path><path style="stroke-width:1.07;stroke:#00bfc4;stroke-linecap:butt;stroke-linejoin:miter;fill:#fff" d="M203.24 154.61v19.67h27.13v-19.67h-27.13z"></path><path style="stroke-width:2.13;stroke:#00bfc4;stroke-linecap:butt;stroke-linejoin:miter" d="M203.24 159.88h27.13"></path><circle cx="252.98" cy="74.55" r="1.95" style="stroke-width:0.71;stroke:#f8766d;fill:#f8766d"></circle><circle cx="252.98" cy="252.44" r="1.95" style="stroke-width:0.71;stroke:#f8766d;fill:#f8766d"></circle><path style="stroke-width:1.07;stroke:#f8766d;stroke-linecap:butt" d="M252.98 143.32v-28.78M252.98 174.64v25.33"></path><path style="stroke-width:1.07;stroke:#f8766d;stroke-linecap:butt;stroke-linejoin:miter;fill:#fff" d="M239.41 143.32v31.32h27.13v-31.32h-27.13z"></path><path style="stroke-width:2.13;stroke:#f8766d;stroke-linecap:butt;stroke-linejoin:miter" d="M239.41 163.22h27.13"></path><circle cx="289.15" cy="274.25" r="1.95" style="stroke-width:0.71;stroke:#f8766d;fill:#f8766d"></circle><path style="stroke-width:1.07;stroke:#f8766d;stroke-linecap:butt" d="M289.15 138.75v-15.48M289.15 189.65v37.85"></path><path style="stroke-width:1.07;stroke:#f8766d;stroke-linecap:butt;stroke-linejoin:miter;fill:#fff" d="M275.59 138.75v50.9h27.13v-50.9h-27.13z"></path><path style="stroke-width:2.13;stroke:#f8766d;stroke-linecap:butt;stroke-linejoin:miter" d="M275.59 171.81h27.13"></path><circle cx="325.32" cy="157.38" r="1.95" style="stroke-width:0.71;stroke:#00bfc4;fill:#00bfc4"></circle><circle cx="325.32" cy="220.13" r="1.95" style="stroke-width:0.71;stroke:#00bfc4;fill:#00bfc4"></circle><path style="stroke-width:1.07;stroke:#00bfc4;stroke-linecap:butt" d="M325.32 180.1v-12.33M325.32 193.29v13.07"></path><path style="stroke-width:1.07;stroke:#00bfc4;stroke-linecap:butt;stroke-linejoin:miter;fill:#fff" d="M311.76 180.1v13.19h27.13V180.1h-27.13z"></path><path style="stroke-width:2.13;stroke:#00bfc4;stroke-linecap:butt;stroke-linejoin:miter" d="M311.76 186.85h27.13"></path><circle cx="361.5" cy="155.44" r="1.95" style="stroke-width:0.71;stroke:#00bfc4;fill:#00bfc4"></circle><circle cx="361.5" cy="214.92" r="1.95" style="stroke-width:0.71;stroke:#00bfc4;fill:#00bfc4"></circle><path style="stroke-width:1.07;stroke:#00bfc4;stroke-linecap:butt" d="M361.5 179.56v-14.74M361.5 193.62v14.66"></path><path style="stroke-width:1.07;stroke:#00bfc4;stroke-linecap:butt;stroke-linejoin:miter;fill:#fff" d="M347.93 179.56v14.06h27.13v-14.06h-27.13z"></path><path style="stroke-width:2.13;stroke:#00bfc4;stroke-linecap:butt;stroke-linejoin:miter" d="M347.93 188.67h27.13"></path><path style="stroke-width:1.07;stroke:#f8766d;stroke-linecap:butt" d="M397.67 180.78V168.5M397.67 211.4v27.02"></path><path style="stroke-width:1.07;stroke:#f8766d;stroke-linecap:butt;stroke-linejoin:miter;fill:#fff" d="M384.11 180.78v30.62h27.13v-30.62h-27.13z"></path><path style="stroke-width:2.13;stroke:#f8766d;stroke-linecap:butt;stroke-linejoin:miter" d="M384.11 198.49h27.13"></path></g><g clip-path="url(#cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA=)"><text x="45.47" y="218.08" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="15.75" lengthAdjust="spacingAndGlyphs">1us</text><text x="45.47" y="124.07" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="21.35" lengthAdjust="spacingAndGlyphs">10us</text><text x="45.47" y="30.06" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="26.94" lengthAdjust="spacingAndGlyphs">100us</text><text transform="rotate(90 -111.395 180.585)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="45.95" lengthAdjust="spacingAndGlyphs">feather+19</text><text transform="rotate(90 -93.305 198.675)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="48.22" lengthAdjust="spacingAndGlyphs">parquet+19</text><text transform="rotate(90 -75.22 216.76)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="40.86" lengthAdjust="spacingAndGlyphs">feather+9</text><text transform="rotate(90 -57.135 234.845)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="43.13" lengthAdjust="spacingAndGlyphs">parquet+9</text><text transform="rotate(90 -39.045 252.935)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="49.49" lengthAdjust="spacingAndGlyphs">parquet+NA</text><text transform="rotate(90 -20.96 271.02)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="43.75" lengthAdjust="spacingAndGlyphs">feather+-5</text><text transform="rotate(90 -2.875 289.105)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="40.86" lengthAdjust="spacingAndGlyphs">feather+1</text><text transform="rotate(90 15.215 307.195)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="43.13" lengthAdjust="spacingAndGlyphs">parquet+1</text><text transform="rotate(90 33.3 325.28)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="46.02" lengthAdjust="spacingAndGlyphs">parquet+-5</text><text transform="rotate(90 51.39 343.37)" style="font-size:8px;fill:#4d4d4d;font-family:&amp;quot" textLength="47.22" lengthAdjust="spacingAndGlyphs">feather+NA</text><text x="234.89" y="352.23" text-anchor="middle" style="font-size:11px;font-family:&amp;quot" textLength="29.07" lengthAdjust="spacingAndGlyphs">Store</text><text transform="rotate(-90 79.88 66.38)" text-anchor="middle" style="font-size:11px;font-family:&amp;quot" textLength="59.27" lengthAdjust="spacingAndGlyphs">Speed (us)</text><text x="435.82" y="130.25" style="font-size:11px;font-family:&amp;quot" textLength="29.07" lengthAdjust="spacingAndGlyphs">Store</text><path style="stroke-width:1.07;stroke:#f8766d;stroke-linecap:butt;stroke-linejoin:miter" d="M444.46 152.43v-2.59M444.46 141.2v-2.59"></path><path style="stroke-width:1.07;stroke:#f8766d;stroke-linecap:butt;stroke-linejoin:miter;fill:#fff" d="M437.98 141.2h12.96v8.64h-12.96z"></path><path style="stroke-width:1.07;stroke:#f8766d;stroke-linecap:butt;stroke-linejoin:miter" d="M437.98 145.52h12.96"></path><path style="stroke-width:1.07;stroke:#00bfc4;stroke-linecap:butt;stroke-linejoin:miter" d="M444.46 169.71v-2.59M444.46 158.48v-2.59"></path><path style="stroke-width:1.07;stroke:#00bfc4;stroke-linecap:butt;stroke-linejoin:miter;fill:#fff" d="M437.98 158.48h12.96v8.64h-12.96z"></path><path style="stroke-width:1.07;stroke:#00bfc4;stroke-linecap:butt;stroke-linejoin:miter" d="M437.98 162.8h12.96"></path><text x="458.57" y="148.73" style="font-size:8.8px;font-family:&amp;quot" textLength="31.95" lengthAdjust="spacingAndGlyphs">feather</text><text x="458.57" y="166.01" style="font-size:8.8px;font-family:&amp;quot" textLength="34.47" lengthAdjust="spacingAndGlyphs">parquet</text></g></svg><p>The above boxplots show the time it takes to write a store for a given store and
compression level combination. The log-scaled y-axis shows the normalized to number
of microseconds per event, across the distribution of all schemas. The sort order
is the median processing time, similar to the size discussion above.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Analysis</div><div class="admonitionContent_S0QG"><p>As expected, we roughly observe an ordering according to Zstd level: more
compression means a longer runtime.</p><p>Unexpectedly, for the same Zstd level, <strong>Parquet store creation was always
faster</strong>. Our unconfirmed hunch is that Feather compression operates on more and
smaller column buffers, whereas Parquet compression only runs over the
concatenated Arrow buffers, yielding bigger strides.</p></div></div><p>We don’t have an explanation for why disabling compression for Parquet is
<em>slower</em> compared Zstd levels -5 and 1. In theory, strictly less cycles are
spent by disabling the compression code path. Perhaps compression results in
different memory layout that is more cache-efficient. Unfortunately, we did not
have the time to dig deeper into the analysis to figure out why disabling
Parquet compression is slower. Please don’t hesitate to reach out, e.g., via our
<a href="/discord">community chat</a>.</p><p>Let’s compare Parquet and Feather by compression level, per schema:</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Code</summary><div><div class="collapsibleContent_i85q"><figure data-rehype-pretty-code-figure=""><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span data-line=""><span style="color:#E6EDF3">parquet_vs_feather_duration </span><span style="color:#FF7B72">&lt;-</span><span style="color:#E6EDF3"> unified </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#79C0FF">  filter</span><span style="color:#E6EDF3">(schema </span><span style="color:#FF7B72">%in%</span><span style="color:#E6EDF3"> schemas_gt100k) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  select</span><span style="color:#E6EDF3">(</span><span style="color:#FF7B72">-</span><span style="color:#E6EDF3">store, </span><span style="color:#FF7B72">-</span><span style="color:#E6EDF3">bytes) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  pivot_wider</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">names_from</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> store_class,</span></span>
<span data-line=""><span style="color:#FFA657">              values_from</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> duration,</span></span>
<span data-line=""><span style="color:#FFA657">              id_cols</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> c</span><span style="color:#E6EDF3">(schema, zstd.level))</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#E6EDF3">parquet_vs_feather_duration </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  mutate</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">zstd.level</span><span style="color:#FF7B72"> =</span><span style="color:#FFA657"> str_replace_na</span><span style="color:#E6EDF3">(zstd.level)) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  separate</span><span style="color:#E6EDF3">(schema, </span><span style="color:#79C0FF">c</span><span style="color:#E6EDF3">(</span><span style="color:#A5D6FF">&quot;module&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#A5D6FF">&quot;type&quot;</span><span style="color:#E6EDF3">), </span><span style="color:#FFA657">remove</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> FALSE</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  ggplot</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">aes</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">x</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> parquet, </span><span style="color:#FFA657">y</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> feather,</span></span>
<span data-line=""><span style="color:#FFA657">             shape</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> zstd.level, </span><span style="color:#FFA657">color</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> zstd.level)) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    geom_abline</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">intercept</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 0</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">slope</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 1</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">color</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;grey&quot;</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    geom_point</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">alpha</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 0.7</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">size</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 3</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    geom_text_repel</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">aes</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">label</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> schema),</span></span>
<span data-line=""><span style="color:#FFA657">              color</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;grey&quot;</span><span style="color:#E6EDF3">,</span></span>
<span data-line=""><span style="color:#FFA657">              size</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 1</span><span style="color:#E6EDF3">, </span><span style="color:#8B949E"># font size</span></span>
<span data-line=""><span style="color:#FFA657">              box.padding</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 0.2</span><span style="color:#E6EDF3">,</span></span>
<span data-line=""><span style="color:#FFA657">              min.segment.length</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 0</span><span style="color:#E6EDF3">, </span><span style="color:#8B949E"># draw all line segments</span></span>
<span data-line=""><span style="color:#FFA657">              max.overlaps</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> Inf</span><span style="color:#E6EDF3">,</span></span>
<span data-line=""><span style="color:#FFA657">              segment.size</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 0.2</span><span style="color:#E6EDF3">,</span></span>
<span data-line=""><span style="color:#FFA657">              segment.color</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;grey&quot;</span><span style="color:#E6EDF3">,</span></span>
<span data-line=""><span style="color:#FFA657">              segment.alpha</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 0.3</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    scale_size</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">range</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> c</span><span style="color:#E6EDF3">(</span><span style="color:#79C0FF">0</span><span style="color:#E6EDF3">, </span><span style="color:#79C0FF">10</span><span style="color:#E6EDF3">)) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    scale_x_log10</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">labels</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> scales</span><span style="color:#FF7B72">::</span><span style="color:#FFA657">label_number</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">scale</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 1e6</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">suffix</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;us&quot;</span><span style="color:#E6EDF3">)) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    scale_y_log10</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">labels</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> scales</span><span style="color:#FF7B72">::</span><span style="color:#FFA657">label_number</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">scale</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 1e6</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">suffix</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;us&quot;</span><span style="color:#E6EDF3">)) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    labs</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">x</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Speed (Parquet)&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">y</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Speed (Feather)&quot;</span><span style="color:#E6EDF3">,</span></span>
<span data-line=""><span style="color:#FFA657">         shape</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Zstd Level&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">color</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Zstd Level&quot;</span><span style="color:#E6EDF3">)</span></span></code></pre><button type="button" data="parquet_vs_feather_duration &lt;- unified |&gt;
  filter(schema %in% schemas_gt100k) |&gt;
  select(-store, -bytes) |&gt;
  pivot_wider(names_from = store_class,
              values_from = duration,
              id_cols = c(schema, zstd.level))

parquet_vs_feather_duration |&gt;
  mutate(zstd.level = str_replace_na(zstd.level)) |&gt;
  separate(schema, c(&quot;module&quot;, &quot;type&quot;), remove = FALSE) |&gt;
  ggplot(aes(x = parquet, y = feather,
             shape = zstd.level, color = zstd.level)) +
    geom_abline(intercept = 0, slope = 1, color = &quot;grey&quot;) +
    geom_point(alpha = 0.7, size = 3) +
    geom_text_repel(aes(label = schema),
              color = &quot;grey&quot;,
              size = 1, # font size
              box.padding = 0.2,
              min.segment.length = 0, # draw all line segments
              max.overlaps = Inf,
              segment.size = 0.2,
              segment.color = &quot;grey&quot;,
              segment.alpha = 0.3) +
    scale_size(range = c(0, 10)) +
    scale_x_log10(labels = scales::label_number(scale = 1e6, suffix = &quot;us&quot;)) +
    scale_y_log10(labels = scales::label_number(scale = 1e6, suffix = &quot;us&quot;)) +
    labs(x = &quot;Speed (Parquet)&quot;, y = &quot;Speed (Feather)&quot;,
         shape = &quot;Zstd Level&quot;, color = &quot;Zstd Level&quot;)" title="Copy code" aria-label="Copy code" class="rehype-pretty-copy" data-feedback-duration="3000" data-name="rehype-pretty-copy-button"><span class="ready"></span><span class="success"></span></button><style>
    :root {
      --copy-icon: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDM2IDM2Ij48cmVjdCB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjYmZjN2Q1IiBkPSJNMjkuNSA3aC0xOUExLjUgMS41IDAgMCAwIDkgOC41djI0YTEuNSAxLjUgMCAwIDAgMS41IDEuNWgxOWExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTI0QTEuNSAxLjUgMCAwIDAgMjkuNSA3TTI5IDMySDExVjloMThaIiBjbGFzcz0iY2xyLWktb3V0bGluZSBjbHItaS1vdXRsaW5lLXBhdGgtMSIvPjxwYXRoIGZpbGw9IiNiZmM3ZDUiIGQ9Ik0yNiAzLjVBMS41IDEuNSAwIDAgMCAyNC41IDJoLTE5QTEuNSAxLjUgMCAwIDAgNCAzLjV2MjRBMS41IDEuNSAwIDAgMCA1LjUgMjlINlY0aDIwWiIgY2xhc3M9ImNsci1pLW91dGxpbmUgY2xyLWktb3V0bGluZS1wYXRoLTIiLz48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDM2djM2SDB6Ii8+PC9zdmc+&quot;);
      --success-icon: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cmVjdCB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjMDBkNjAwIiBkPSJNMjEgN0w5IDE5bC01LjUtNS41bDEuNDEtMS40MUw5IDE2LjE3TDE5LjU5IDUuNTl6Ii8+PC9zdmc+&quot;);
    }

    pre:has(code) {
      position: relative;
    }

    button[data=&#x27;&lt;span&gt;&#x27;] {
      width: 0;
      height: 0;
      display: none;
      visibility: hidden;
    }

    pre button.rehype-pretty-copy {
      top: 1px;
      right: 1px;
      padding: 0;
      width: 24px;
      height: 24px;
      display: flex;
      cursor: pointer;
      margin-top: 8px;
      margin-right: 8px;
      position: absolute;
      border-radius: 25%;
      &amp; span {
        width: 100%;
        aspect-ratio: 1 / 1;
        background-repeat: no-repeat;
      }
      &amp; .ready {
        background-image: var(--copy-icon);
      }
      &amp; .success {
        display: none;
        background-image: var(--success-icon);
      }
    }

    &amp;.rehype-pretty-copied { 
      &amp; .success { 
        display: block;
      } &amp; .ready {
        display: none;
      }
    }

    pre button.rehype-pretty-copy.rehype-pretty-copied {
      opacity: 1;
      cursor: default;
      &amp; .ready { display: none; }
      &amp; .success { display: block; }
    }

      pre button.rehype-pretty-copy { opacity: 0; }
      button[data-name=&quot;rehype-pretty-copy-button&quot;]:hover {
        opacity: 1;
      }
    </style></code></pre></figure></div></div></details><svg xmlns="http://www.w3.org/2000/svg" class="svglite" width="672" height="480" viewBox="0 0 504 360"><defs><style>.svglite circle,.svglite line,.svglite polygon,.svglite polyline,.svglite rect{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.svglite text{white-space:pre}</style></defs><rect width="100%" height="100%" style="stroke:none;fill:none"></rect><defs><clipPath id="cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA="><path d="M0 0h504v360H0z"></path></clipPath></defs><defs><clipPath id="cpNTAuNDB8NDE5LjUwfDUuNDh8MzI4LjI5"><path d="M50.4 5.48h369.1V328.3H50.4z"></path></clipPath></defs><g clip-path="url(#cpNTAuNDB8NDE5LjUwfDUuNDh8MzI4LjI5)"><path style="stroke-width:0.53;stroke:#ebebeb;stroke-linecap:butt" d="M50.4 299.44h369.1M50.4 191.66h369.1M50.4 83.87h369.1M118.17 328.29V5.48M204.72 328.29V5.48M291.28 328.29V5.48M373.87 328.29V5.48M415.17 328.29V5.48"></path><path style="stroke-width:1.07;stroke:#ebebeb;stroke-linecap:butt" d="M50.4 245.55h369.1M50.4 137.77h369.1M50.4 29.98h369.1M76.87 328.29V5.48M159.46 328.29V5.48M249.98 328.29V5.48M332.58 328.29V5.48"></path><path style="stroke-width:1.07;stroke:#bebebe;stroke-linecap:butt" d="M-318.69 491.83 788.6-197.58"></path><circle cx="102.22" cy="228.46" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7"></circle><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7" d="m129.32 208.29 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:#00b0f6;stroke-opacity:0.7" d="M225.54 145.84h10.05M230.56 150.86v-10.05"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7" d="M399.17 23.71h7.11V16.6h-7.11z"></path><path style="stroke-width:0.71;stroke:#e76bf3;stroke-opacity:0.7" d="M78.62 220.2h7.11v7.11h-7.11zM78.62 227.32l7.11-7.12M78.62 220.2l7.11 7.12"></path><circle cx="119.92" cy="84.67" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7"></circle><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7" d="m115.91 135 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:#00b0f6;stroke-opacity:0.7" d="M155.24 158.52h10.06M160.27 163.55v-10.06"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7" d="M294.23 72.12h7.11v-7.11h-7.11z"></path><path style="stroke-width:0.71;stroke:#e76bf3;stroke-opacity:0.7" d="M154.03 266.17h7.11v7.11h-7.11zM154.03 273.28l7.11-7.11M154.03 266.17l7.11 7.11"></path><circle cx="186.31" cy="190.36" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7"></circle><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7" d="m182.73 159.52 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:#00b0f6;stroke-opacity:0.7" d="M226.82 129.51h10.05M231.85 134.54v-10.06"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7" d="M329.94 68.7h7.12v-7.11h-7.12z"></path><path style="stroke-width:0.71;stroke:#e76bf3;stroke-opacity:0.7" d="M218.92 195.23h7.11v7.11h-7.11zM218.92 202.34l7.11-7.11M218.92 195.23l7.11 7.11"></path><circle cx="169.03" cy="130.52" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7"></circle><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7" d="m163.61 150.49 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:#00b0f6;stroke-opacity:0.7" d="M228.24 148.3h10.06M233.27 153.33v-10.06"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7" d="M389.41 34.59h7.11v-7.11h-7.11z"></path><path style="stroke-width:0.71;stroke:#e76bf3;stroke-opacity:0.7" d="M205.31 198.32h7.11v7.11h-7.11zM205.31 205.43l7.11-7.11M205.31 198.32l7.11 7.11"></path><circle cx="115.5" cy="169.05" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7"></circle><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7" d="m118.71 181.97 4.79 8.3h-9.58z"></path><path style="stroke-width:0.71;stroke:#00b0f6;stroke-opacity:0.7" d="M163.73 212.4h10.05M168.75 217.43v-10.06"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7" d="M284.52 133.94h7.11v-7.11h-7.11z"></path><path style="stroke-width:0.71;stroke:#e76bf3;stroke-opacity:0.7" d="M146.08 229.68h7.11v7.11h-7.11zM146.08 236.79l7.11-7.11M146.08 229.68l7.11 7.11"></path><circle cx="140.9" cy="182.3" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7"></circle><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7" d="m141.53 234.3 4.79 8.29h-9.57z"></path><path style="stroke-width:0.71;stroke:#00b0f6;stroke-opacity:0.7" d="M203.56 145.32h10.06M208.59 150.35v-10.06"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7" d="M342.31 74.98h7.11v-7.11h-7.11z"></path><path style="stroke-width:0.71;stroke:#e76bf3;stroke-opacity:0.7" d="M174.71 202.27h7.11v7.11h-7.11zM174.71 209.38l7.11-7.11M174.71 202.27l7.11 7.11"></path><circle cx="148.46" cy="200.61" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7"></circle><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7" d="m149.29 149.73 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:#00b0f6;stroke-opacity:0.7" d="M181.59 164.62h10.06M186.62 169.65V159.6"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7" d="M330.57 82.81h7.11V75.7h-7.11z"></path><path style="stroke-width:0.71;stroke:#e76bf3;stroke-opacity:0.7" d="M188.08 188.83h7.11v7.11h-7.11zM188.08 195.94l7.11-7.11M188.08 188.83l7.11 7.11"></path><circle cx="142.23" cy="161.67" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7"></circle><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7" d="m138.99 140.81 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:#00b0f6;stroke-opacity:0.7" d="M203.11 124.29h10.06M208.14 129.32v-10.06"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7" d="M352.26 43.48h7.11v-7.11h-7.11z"></path><path style="stroke-width:0.71;stroke:#e76bf3;stroke-opacity:0.7" d="M174.93 204.81h7.11v7.11h-7.11zM174.93 211.92l7.12-7.11M174.93 204.81l7.12 7.11"></path><circle cx="89.01" cy="214.08" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7"></circle><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7" d="m92.54 198.99 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:#00b0f6;stroke-opacity:0.7" d="M128.93 233.42h10.06M133.96 238.45V228.4"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7" d="M259.43 145.85h7.11v-7.11h-7.11z"></path><path style="stroke-width:0.71;stroke:#e76bf3;stroke-opacity:0.7" d="M134.99 268.98h7.11v7.11h-7.11zM134.99 276.09l7.11-7.11M134.99 268.98l7.11 7.11"></path><circle cx="76.77" cy="288.62" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7"></circle><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7" d="m67.18 308.09 4.79 8.3h-9.58z"></path><path style="stroke-width:0.71;stroke:#00b0f6;stroke-opacity:0.7" d="M115.84 219.29h10.05M120.87 224.32v-10.06"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7" d="M241.86 135.89h7.12v-7.11h-7.12z"></path><path style="stroke-width:0.71;stroke:#e76bf3;stroke-opacity:0.7" d="M136.31 254.25h7.11v7.11h-7.11zM136.31 261.36l7.11-7.11M136.31 254.25l7.11 7.11"></path><circle cx="131.06" cy="194.51" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7"></circle><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7" d="m131.66 200.31 4.79 8.3h-9.58z"></path><path style="stroke-width:0.71;stroke:#00b0f6;stroke-opacity:0.7" d="M189.99 149.23h10.06M195.02 154.25V144.2"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7" d="M329.44 72.91h7.11V65.8h-7.11z"></path><path style="stroke-width:0.71;stroke:#e76bf3;stroke-opacity:0.7" d="M181.32 230.29h7.11v7.11h-7.11zM181.32 237.4l7.11-7.11M181.32 230.29l7.11 7.11"></path><circle cx="122.18" cy="195.84" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7"></circle><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7" d="m124.52 254.49 4.79 8.29h-9.57z"></path><path style="stroke-width:0.71;stroke:#00b0f6;stroke-opacity:0.7" d="M187.22 190.47h10.05M192.24 195.5v-10.05"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7" d="M328.51 109.76h7.11v-7.11h-7.11z"></path><path style="stroke-width:0.71;stroke:#e76bf3;stroke-opacity:0.7" d="M185.27 220.25h7.11v7.11h-7.11zM185.27 227.36l7.11-7.11M185.27 220.25l7.11 7.11"></path><circle cx="128.06" cy="179.59" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7"></circle><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7" d="m127.63 212.04 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:#00b0f6;stroke-opacity:0.7" d="M178.24 187.3h10.06M183.27 192.33v-10.06"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7" d="M307.57 103.17h7.11v-7.11h-7.11z"></path><path style="stroke-width:0.71;stroke:#e76bf3;stroke-opacity:0.7" d="M174.42 226.18h7.11v7.11h-7.11zM174.42 233.29l7.11-7.11M174.42 226.18l7.11 7.11"></path><circle cx="117.5" cy="160.88" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7"></circle><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7" d="m110.21 182.3 4.78 8.3h-9.57z"></path><path style="stroke-width:0.71;stroke:#00b0f6;stroke-opacity:0.7" d="M161.86 147.7h10.05M166.89 152.73v-10.06"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7" d="M306.01 47.02h7.11v-7.11h-7.11z"></path><path style="stroke-width:0.71;stroke:#e76bf3;stroke-opacity:0.7" d="M169.46 240.58h7.11v7.11h-7.11zM169.46 247.69l7.11-7.11M169.46 240.58l7.11 7.11"></path><path style="stroke-width:0.43;stroke:#bebebe;stroke-opacity:0.3" d="m99.71 230.89 1.69-1.63M131.51 212.12l-1.27.98M228.23 143.58l1.51 1.46M405.08 17.84l-1.54 1.51M79.92 221.62l1.42 1.35M117.66 86.82l1.43-1.36M113.41 138.21l1.66 1.54M158.33 160.8l1.21-1.42M300.11 66.34l-1.5 1.43M159.93 267.48l-1.52 1.46M183.99 191.93l1.35-.91M184.98 167.18l-1.42-1.34M229.61 127.38l1.41 1.34M331.26 62.86l1.44 1.47M223.21 195.35l-.51 2.38M171.58 128.06l-1.72 1.66M166.04 153.97l-1.55 1.3M235.64 150.56l-1.54-1.47M395.47 28.6l-1.69 1.64M211.17 204.07l-1.47-1.4M115.13 165.69l.25 2.29M116.23 185.08l1.66 1.62M167.4 217.54l1.08-4.09M290.34 128.23l-1.44 1.37M151.88 231.1l-1.42 1.35M143.29 181.45l-1.25.44M143.47 243.18l-1.38-2.39M206.19 143.09l1.56 1.45M348.16 73.58l-1.46-1.37M180.55 203.74l-1.43 1.31M150.92 202.23l-1.48-.97M147.81 153.89l.63.59M188.65 162.33l-1.28 1.45M331.82 81.44l1.47-1.4M199.1 193.19l-6.25-.67M139.94 164.66l1.61-2.1M136.64 144.08l1.53 1.46M205.8 122.04l1.51 1.46M353.54 42.1l1.45-1.39M180.95 210.74l-1.64-1.58M91.29 211l-1.61 2.18M94.77 202.39l-1.4 1.34M131.75 231.87l1.25.88M265.51 144.73l-1.7-1.64M136.11 274.88l1.61-1.55M74.27 291.04l1.68-1.62M69.7 311.19l-1.7 1.64M118.53 221.52l1.51-1.44M247.79 134.62l-1.55-1.49M142.18 255.58l-1.49 1.43M133.32 192.35l-1.43 1.37M129.41 203.7l1.42 1.35M197.28 151.35l-1.42-1.34M332.49 72.79l.35-2.38M187.18 236.04l-1.48-1.41M122.12 262.34l1.58-1.53M194.25 188.18l-1.26 1.44M334.35 104.03l-1.46 1.39M191.19 222.27l-1.38.9M130.53 176.96l-1.69 1.8M130.15 220l-1.7-1.64M180.96 185.15l1.47 1.37M313.44 97.41l-1.49 1.41M178.01 227.61l-.02 1.05M119.74 158.74l-1.41 1.35M106.99 189.62l2.18-1.21M169.14 145.55l-1.43 1.36M307.21 45.71l1.53-1.46M175.49 246.52l-1.65-1.59"></path><text x="96.32" y="234.76" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.35" lengthAdjust="spacingAndGlyphs">pcap.packet</text><text x="141.98" y="211.84" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.35" lengthAdjust="spacingAndGlyphs">pcap.packet</text><text x="225.02" y="141.78" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.35" lengthAdjust="spacingAndGlyphs">pcap.packet</text><text x="407.94" y="16.04" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.35" lengthAdjust="spacingAndGlyphs">pcap.packet</text><text x="76.3" y="219.82" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.35" lengthAdjust="spacingAndGlyphs">pcap.packet</text><text x="114.1" y="90.69" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.97" lengthAdjust="spacingAndGlyphs">suricata.dcerpc</text><text x="108.51" y="136.41" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.97" lengthAdjust="spacingAndGlyphs">suricata.dcerpc</text><text x="157.37" y="164.67" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.97" lengthAdjust="spacingAndGlyphs">suricata.dcerpc</text><text x="303.51" y="64.54" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.97" lengthAdjust="spacingAndGlyphs">suricata.dcerpc</text><text x="163.28" y="265.68" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.97" lengthAdjust="spacingAndGlyphs">suricata.dcerpc</text><text x="173.49" y="193.87" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.4" lengthAdjust="spacingAndGlyphs">suricata.dns</text><text x="188.53" y="171.05" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.4" lengthAdjust="spacingAndGlyphs">suricata.dns</text><text x="226.28" y="125.58" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.4" lengthAdjust="spacingAndGlyphs">suricata.dns</text><text x="329.15" y="61.06" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.4" lengthAdjust="spacingAndGlyphs">suricata.dns</text><text x="233.71" y="194.82" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.4" lengthAdjust="spacingAndGlyphs">suricata.dns</text><text x="175.11" y="126.26" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.98" lengthAdjust="spacingAndGlyphs">suricata.fileinfo</text><text x="178.83" y="153.74" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.98" lengthAdjust="spacingAndGlyphs">suricata.fileinfo</text><text x="239.21" y="154.43" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.98" lengthAdjust="spacingAndGlyphs">suricata.fileinfo</text><text x="398.81" y="26.8" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.98" lengthAdjust="spacingAndGlyphs">suricata.fileinfo</text><text x="214.68" y="207.94" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.98" lengthAdjust="spacingAndGlyphs">suricata.fileinfo</text><text x="104.25" y="165.12" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.17" lengthAdjust="spacingAndGlyphs">suricata.flow</text><text x="113.08" y="183.28" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.17" lengthAdjust="spacingAndGlyphs">suricata.flow</text><text x="156.51" y="219.79" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.17" lengthAdjust="spacingAndGlyphs">suricata.flow</text><text x="293.95" y="126.43" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.17" lengthAdjust="spacingAndGlyphs">suricata.flow</text><text x="155.51" y="229.3" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.17" lengthAdjust="spacingAndGlyphs">suricata.flow</text><text x="154.16" y="182.41" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.15" lengthAdjust="spacingAndGlyphs">suricata.http</text><text x="154.35" y="245.62" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.15" lengthAdjust="spacingAndGlyphs">suricata.http</text><text x="201.47" y="141.29" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.15" lengthAdjust="spacingAndGlyphs">suricata.http</text><text x="352.17" y="77.45" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.15" lengthAdjust="spacingAndGlyphs">suricata.http</text><text x="186.1" y="201.94" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.15" lengthAdjust="spacingAndGlyphs">suricata.http</text><text x="161.9" y="204.12" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.37" lengthAdjust="spacingAndGlyphs">suricata.smb</text><text x="144.49" y="152.09" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.37" lengthAdjust="spacingAndGlyphs">suricata.smb</text><text x="199.64" y="161.9" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.37" lengthAdjust="spacingAndGlyphs">suricata.smb</text><text x="328.24" y="85.32" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.37" lengthAdjust="spacingAndGlyphs">suricata.smb</text><text x="210.08" y="194.23" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.37" lengthAdjust="spacingAndGlyphs">suricata.smb</text><text x="130.28" y="167.05" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="15.7" lengthAdjust="spacingAndGlyphs">suricata.tls</text><text x="133.32" y="142.28" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="15.7" lengthAdjust="spacingAndGlyphs">suricata.tls</text><text x="202.49" y="120.24" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="15.7" lengthAdjust="spacingAndGlyphs">suricata.tls</text><text x="350.08" y="45.97" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="15.7" lengthAdjust="spacingAndGlyphs">suricata.tls</text><text x="184.37" y="214.62" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="15.7" lengthAdjust="spacingAndGlyphs">suricata.tls</text><text x="100.32" y="210.69" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="14.45" lengthAdjust="spacingAndGlyphs">zeek.conn</text><text x="98.13" y="200.59" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="14.45" lengthAdjust="spacingAndGlyphs">zeek.conn</text><text x="122.72" y="231.86" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="14.45" lengthAdjust="spacingAndGlyphs">zeek.conn</text><text x="268.98" y="148.6" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="14.45" lengthAdjust="spacingAndGlyphs">zeek.conn</text><text x="132.73" y="278.75" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="14.45" lengthAdjust="spacingAndGlyphs">zeek.conn</text><text x="70.84" y="294.91" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.63" lengthAdjust="spacingAndGlyphs">zeek.dce_rpc</text><text x="73.1" y="309.39" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.63" lengthAdjust="spacingAndGlyphs">zeek.dce_rpc</text><text x="107.42" y="223.9" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.63" lengthAdjust="spacingAndGlyphs">zeek.dce_rpc</text><text x="251.06" y="138.5" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.63" lengthAdjust="spacingAndGlyphs">zeek.dce_rpc</text><text x="145.49" y="253.78" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.63" lengthAdjust="spacingAndGlyphs">zeek.dce_rpc</text><text x="136.72" y="190.55" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="12.64" lengthAdjust="spacingAndGlyphs">zeek.dns</text><text x="126.01" y="201.9" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="12.64" lengthAdjust="spacingAndGlyphs">zeek.dns</text><text x="205.4" y="153.76" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="12.64" lengthAdjust="spacingAndGlyphs">zeek.dns</text><text x="324.37" y="75.41" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="12.64" lengthAdjust="spacingAndGlyphs">zeek.dns</text><text x="190.62" y="239.91" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="12.64" lengthAdjust="spacingAndGlyphs">zeek.dns</text><text x="117.77" y="193.62" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.36" lengthAdjust="spacingAndGlyphs">zeek.files</text><text x="118.78" y="266.21" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.36" lengthAdjust="spacingAndGlyphs">zeek.files</text><text x="195.38" y="186.38" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.36" lengthAdjust="spacingAndGlyphs">zeek.files</text><text x="337.95" y="102.23" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.36" lengthAdjust="spacingAndGlyphs">zeek.files</text><text x="199.67" y="222.57" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.36" lengthAdjust="spacingAndGlyphs">zeek.files</text><text x="132.38" y="175.16" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.38" lengthAdjust="spacingAndGlyphs">zeek.http</text><text x="133.65" y="223.87" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.38" lengthAdjust="spacingAndGlyphs">zeek.http</text><text x="176.28" y="183.35" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.38" lengthAdjust="spacingAndGlyphs">zeek.http</text><text x="316.93" y="95.61" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.38" lengthAdjust="spacingAndGlyphs">zeek.http</text><text x="178.01" y="225.81" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.38" lengthAdjust="spacingAndGlyphs">zeek.http</text><text x="123.13" y="156.94" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="11.3" lengthAdjust="spacingAndGlyphs">zeek.ssl</text><text x="99.54" y="191.18" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="11.3" lengthAdjust="spacingAndGlyphs">zeek.ssl</text><text x="172.5" y="143.75" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="11.3" lengthAdjust="spacingAndGlyphs">zeek.ssl</text><text x="303.63" y="49.58" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="11.3" lengthAdjust="spacingAndGlyphs">zeek.ssl</text><text x="178.93" y="250.39" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="11.3" lengthAdjust="spacingAndGlyphs">zeek.ssl</text></g><g clip-path="url(#cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA=)"><text x="45.47" y="248.76" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="15.75" lengthAdjust="spacingAndGlyphs">1us</text><text x="45.47" y="140.97" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="21.35" lengthAdjust="spacingAndGlyphs">10us</text><text x="45.47" y="33.19" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="26.94" lengthAdjust="spacingAndGlyphs">100us</text><text x="76.87" y="339.64" text-anchor="middle" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="15.75" lengthAdjust="spacingAndGlyphs">1us</text><text x="159.46" y="339.64" text-anchor="middle" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="15.75" lengthAdjust="spacingAndGlyphs">3us</text><text x="249.98" y="339.64" text-anchor="middle" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="21.35" lengthAdjust="spacingAndGlyphs">10us</text><text x="332.58" y="339.64" text-anchor="middle" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="21.35" lengthAdjust="spacingAndGlyphs">30us</text><text x="234.95" y="352.23" text-anchor="middle" style="font-size:11px;font-family:&amp;quot" textLength="88.8" lengthAdjust="spacingAndGlyphs">Speed (Parquet)</text><text transform="rotate(-90 90.195 76.695)" text-anchor="middle" style="font-size:11px;font-family:&amp;quot" textLength="88.37" lengthAdjust="spacingAndGlyphs">Speed (Feather)</text><text x="435.94" y="124.96" style="font-size:11px;font-family:&amp;quot" textLength="57.1" lengthAdjust="spacingAndGlyphs">Zstd Level</text><circle cx="444.58" cy="140.22" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7"></circle><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7" d="m444.58 151.97 4.79 8.3h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7" d="M441.02 178.34h7.11v-7.11h-7.11z"></path><path style="stroke-width:0.71;stroke:#00b0f6;stroke-opacity:0.7" d="M439.55 192.06h10.06M444.58 197.09v-10.06"></path><path style="stroke-width:0.71;stroke:#e76bf3;stroke-opacity:0.7" d="M441.02 205.79h7.11v7.11h-7.11zM441.02 212.9l7.11-7.11M441.02 205.79l7.11 7.11"></path><text x="458.7" y="143.43" style="font-size:8.8px;font-family:&amp;quot" textLength="8.77" lengthAdjust="spacingAndGlyphs">-5</text><text x="458.7" y="160.71" style="font-size:8.8px;font-family:&amp;quot" textLength="5.59" lengthAdjust="spacingAndGlyphs">1</text><text x="458.7" y="177.99" style="font-size:8.8px;font-family:&amp;quot" textLength="11.19" lengthAdjust="spacingAndGlyphs">19</text><text x="458.7" y="195.27" style="font-size:8.8px;font-family:&amp;quot" textLength="5.59" lengthAdjust="spacingAndGlyphs">9</text><text x="458.7" y="212.55" style="font-size:8.8px;font-family:&amp;quot" textLength="12.6" lengthAdjust="spacingAndGlyphs">NA</text></g></svg><p>The above scatterplot has an identity line. Points on this line indicates that
there is no speed difference between Parquet and Feather. Feather is faster for
points below the line, and Parquet is faster for points above the line.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Analysis</div><div class="admonitionContent_S0QG"><p>In addition to the above boxplot, this scatterplot makes it clearer to see the
impact of the schemas.</p><p>Interestingly, <strong>there is no significant difference in Zstd levels -5 and 1,
while levels 9 and 19 stand apart further</strong>. Disabling compression for Feather
has a stronger effect on speed than for Parquet.</p><p>Overall, we were surprised that <strong>Feather and Parquet are not far apart in terms
of write performance once compression is enabled</strong>. Only when compression is
disabled, Parquet is substantially slower in our measurements.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="space-time-trade-off">Space-Time Trade-off<a href="#space-time-trade-off" class="hash-link" aria-label="Direct link to Space-Time Trade-off" title="Direct link to Space-Time Trade-off">​</a></h2><p>Finally, we combine the size and speed analysis into a single benchmark. Our
goal is to find an optimal parameterization, i.e., one that strictly dominates
others. To this end, we now plot size against speed:</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Code</summary><div><div class="collapsibleContent_i85q"><figure data-rehype-pretty-code-figure=""><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span data-line=""><span style="color:#E6EDF3">cleaned </span><span style="color:#FF7B72">&lt;-</span><span style="color:#E6EDF3"> unified </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#79C0FF">  filter</span><span style="color:#E6EDF3">(schema </span><span style="color:#FF7B72">%in%</span><span style="color:#E6EDF3"> schemas_gt100k) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  mutate</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">zstd.level</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> factor</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">str_replace_na</span><span style="color:#E6EDF3">(zstd.level),</span></span>
<span data-line=""><span style="color:#FFA657">                             levels</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> c</span><span style="color:#E6EDF3">(</span><span style="color:#A5D6FF">&quot;NA&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#A5D6FF">&quot;-5&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#A5D6FF">&quot;1&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#A5D6FF">&quot;9&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#A5D6FF">&quot;19&quot;</span><span style="color:#E6EDF3">))) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  group_by</span><span style="color:#E6EDF3">(schema, store_class, zstd.level) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  summarize</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">bytes</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> median</span><span style="color:#E6EDF3">(bytes), </span><span style="color:#FFA657">duration</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> median</span><span style="color:#E6EDF3">(duration))</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#E6EDF3">cleaned </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  ggplot</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">aes</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">x</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> bytes, </span><span style="color:#FFA657">y</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> duration,</span></span>
<span data-line=""><span style="color:#FFA657">             shape</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> store_class, </span><span style="color:#FFA657">color</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> zstd.level)) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    geom_point</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">size</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 3</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">alpha</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 0.7</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    geom_text_repel</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">aes</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">label</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> schema),</span></span>
<span data-line=""><span style="color:#FFA657">              color</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;grey&quot;</span><span style="color:#E6EDF3">,</span></span>
<span data-line=""><span style="color:#FFA657">              size</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 1</span><span style="color:#E6EDF3">, </span><span style="color:#8B949E"># font size</span></span>
<span data-line=""><span style="color:#FFA657">              box.padding</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 0.2</span><span style="color:#E6EDF3">,</span></span>
<span data-line=""><span style="color:#FFA657">              min.segment.length</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 0</span><span style="color:#E6EDF3">, </span><span style="color:#8B949E"># draw all line segments</span></span>
<span data-line=""><span style="color:#FFA657">              max.overlaps</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> Inf</span><span style="color:#E6EDF3">,</span></span>
<span data-line=""><span style="color:#FFA657">              segment.size</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 0.2</span><span style="color:#E6EDF3">,</span></span>
<span data-line=""><span style="color:#FFA657">              segment.color</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;grey&quot;</span><span style="color:#E6EDF3">,</span></span>
<span data-line=""><span style="color:#FFA657">              segment.alpha</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 0.3</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    scale_x_log10</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">labels</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> scales</span><span style="color:#FF7B72">::</span><span style="color:#FFA657">label_bytes</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">units</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;auto_si&quot;</span><span style="color:#E6EDF3">)) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    scale_y_log10</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">labels</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> scales</span><span style="color:#FF7B72">::</span><span style="color:#FFA657">label_number</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">scale</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 1e6</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">suffix</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;us&quot;</span><span style="color:#E6EDF3">)) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    labs</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">x</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Size&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">y</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Speed&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">shape</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Store&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">color</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Zstd Level&quot;</span><span style="color:#E6EDF3">)</span></span></code></pre><button type="button" data="cleaned &lt;- unified |&gt;
  filter(schema %in% schemas_gt100k) |&gt;
  mutate(zstd.level = factor(str_replace_na(zstd.level),
                             levels = c(&quot;NA&quot;, &quot;-5&quot;, &quot;1&quot;, &quot;9&quot;, &quot;19&quot;))) |&gt;
  group_by(schema, store_class, zstd.level) |&gt;
  summarize(bytes = median(bytes), duration = median(duration))

cleaned |&gt;
  ggplot(aes(x = bytes, y = duration,
             shape = store_class, color = zstd.level)) +
    geom_point(size = 3, alpha = 0.7) +
    geom_text_repel(aes(label = schema),
              color = &quot;grey&quot;,
              size = 1, # font size
              box.padding = 0.2,
              min.segment.length = 0, # draw all line segments
              max.overlaps = Inf,
              segment.size = 0.2,
              segment.color = &quot;grey&quot;,
              segment.alpha = 0.3) +
    scale_x_log10(labels = scales::label_bytes(units = &quot;auto_si&quot;)) +
    scale_y_log10(labels = scales::label_number(scale = 1e6, suffix = &quot;us&quot;)) +
    labs(x = &quot;Size&quot;, y = &quot;Speed&quot;, shape = &quot;Store&quot;, color = &quot;Zstd Level&quot;)" title="Copy code" aria-label="Copy code" class="rehype-pretty-copy" data-feedback-duration="3000" data-name="rehype-pretty-copy-button"><span class="ready"></span><span class="success"></span></button><style>
    :root {
      --copy-icon: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDM2IDM2Ij48cmVjdCB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjYmZjN2Q1IiBkPSJNMjkuNSA3aC0xOUExLjUgMS41IDAgMCAwIDkgOC41djI0YTEuNSAxLjUgMCAwIDAgMS41IDEuNWgxOWExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTI0QTEuNSAxLjUgMCAwIDAgMjkuNSA3TTI5IDMySDExVjloMThaIiBjbGFzcz0iY2xyLWktb3V0bGluZSBjbHItaS1vdXRsaW5lLXBhdGgtMSIvPjxwYXRoIGZpbGw9IiNiZmM3ZDUiIGQ9Ik0yNiAzLjVBMS41IDEuNSAwIDAgMCAyNC41IDJoLTE5QTEuNSAxLjUgMCAwIDAgNCAzLjV2MjRBMS41IDEuNSAwIDAgMCA1LjUgMjlINlY0aDIwWiIgY2xhc3M9ImNsci1pLW91dGxpbmUgY2xyLWktb3V0bGluZS1wYXRoLTIiLz48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDM2djM2SDB6Ii8+PC9zdmc+&quot;);
      --success-icon: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cmVjdCB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjMDBkNjAwIiBkPSJNMjEgN0w5IDE5bC01LjUtNS41bDEuNDEtMS40MUw5IDE2LjE3TDE5LjU5IDUuNTl6Ii8+PC9zdmc+&quot;);
    }

    pre:has(code) {
      position: relative;
    }

    button[data=&#x27;&lt;span&gt;&#x27;] {
      width: 0;
      height: 0;
      display: none;
      visibility: hidden;
    }

    pre button.rehype-pretty-copy {
      top: 1px;
      right: 1px;
      padding: 0;
      width: 24px;
      height: 24px;
      display: flex;
      cursor: pointer;
      margin-top: 8px;
      margin-right: 8px;
      position: absolute;
      border-radius: 25%;
      &amp; span {
        width: 100%;
        aspect-ratio: 1 / 1;
        background-repeat: no-repeat;
      }
      &amp; .ready {
        background-image: var(--copy-icon);
      }
      &amp; .success {
        display: none;
        background-image: var(--success-icon);
      }
    }

    &amp;.rehype-pretty-copied { 
      &amp; .success { 
        display: block;
      } &amp; .ready {
        display: none;
      }
    }

    pre button.rehype-pretty-copy.rehype-pretty-copied {
      opacity: 1;
      cursor: default;
      &amp; .ready { display: none; }
      &amp; .success { display: block; }
    }

      pre button.rehype-pretty-copy { opacity: 0; }
      button[data-name=&quot;rehype-pretty-copy-button&quot;]:hover {
        opacity: 1;
      }
    </style></code></pre></figure></div></div></details><svg xmlns="http://www.w3.org/2000/svg" class="svglite" width="672" height="480" viewBox="0 0 504 360"><defs><style>.svglite circle,.svglite line,.svglite polygon,.svglite polyline,.svglite rect{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.svglite text{white-space:pre}</style></defs><rect width="100%" height="100%" style="stroke:none;fill:none"></rect><defs><clipPath id="cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA="><path d="M0 0h504v360H0z"></path></clipPath></defs><defs><clipPath id="cpNTAuNDB8NDE5LjM4fDUuNDh8MzI4LjI5"><path d="M50.4 5.48h368.97V328.3H50.4z"></path></clipPath></defs><g clip-path="url(#cpNTAuNDB8NDE5LjM4fDUuNDh8MzI4LjI5)"><path style="stroke-width:0.53;stroke:#ebebeb;stroke-linecap:butt" d="M50.4 299.44h368.98M50.4 191.66h368.98M50.4 83.87h368.98M111.52 328.29V5.48M201.4 328.29V5.48M291.29 328.29V5.48M377.07 328.29V5.48"></path><path style="stroke-width:1.07;stroke:#ebebeb;stroke-linecap:butt" d="M50.4 245.55h368.98M50.4 137.77h368.98M50.4 29.98h368.98M68.63 328.29V5.48M154.4 328.29V5.48M248.4 328.29V5.48M334.18 328.29V5.48"></path><circle cx="402.61" cy="223.76" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7"></circle><circle cx="374.24" cy="228.46" r="3.56" style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7"></circle><circle cx="369.27" cy="213.82" r="3.56" style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7"></circle><circle cx="365.36" cy="145.84" r="3.56" style="stroke-width:0.71;stroke:none;fill:#00b0f6;fill-opacity:0.7"></circle><circle cx="363.88" cy="20.15" r="3.56" style="stroke-width:0.71;stroke:none;fill:#e76bf3;fill-opacity:0.7"></circle><path style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7" d="m397.17 236.72 4.79 8.29h-9.57z"></path><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7" d="m372.82 224.23 4.79 8.3h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7" d="m368.15 207.36 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#00b0f6;fill-opacity:0.7" d="m366 144.32 4.79 8.3h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#e76bf3;fill-opacity:0.7" d="m365.33 37.14 4.79 8.29h-9.58z"></path><circle cx="298.06" cy="269.73" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7"></circle><circle cx="179.65" cy="84.67" r="3.56" style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7"></circle><circle cx="147.11" cy="140.53" r="3.56" style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7"></circle><circle cx="137.82" cy="158.52" r="3.56" style="stroke-width:0.71;stroke:none;fill:#00b0f6;fill-opacity:0.7"></circle><circle cx="135.22" cy="68.57" r="3.56" style="stroke-width:0.71;stroke:none;fill:#e76bf3;fill-opacity:0.7"></circle><path style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7" d="m158.07 189.76 4.79 8.3h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7" d="m127.13 213.21 4.79 8.3h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7" d="m108.24 215.71 4.78 8.29h-9.57z"></path><path style="stroke-width:0.71;stroke:none;fill:#00b0f6;fill-opacity:0.7" d="m101.27 188.09 4.79 8.3h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#e76bf3;fill-opacity:0.7" d="m102.38 102.47 4.79 8.3h-9.58z"></path><circle cx="351.08" cy="198.79" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7"></circle><circle cx="250.88" cy="190.36" r="3.56" style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7"></circle><circle cx="215.52" cy="165.05" r="3.56" style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7"></circle><circle cx="211.11" cy="129.51" r="3.56" style="stroke-width:0.71;stroke:none;fill:#00b0f6;fill-opacity:0.7"></circle><circle cx="205.07" cy="65.15" r="3.56" style="stroke-width:0.71;stroke:none;fill:#e76bf3;fill-opacity:0.7"></circle><path style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7" d="m259.55 149.36 4.79 8.3h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7" d="m225.41 171.88 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7" d="m202.82 174.11 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#00b0f6;fill-opacity:0.7" d="m196.82 143.53 4.78 8.29h-9.57z"></path><path style="stroke-width:0.71;stroke:none;fill:#e76bf3;fill-opacity:0.7" d="m192.88 80.24 4.78 8.29h-9.57z"></path><circle cx="363.1" cy="201.88" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7"></circle><circle cx="264.78" cy="130.52" r="3.56" style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7"></circle><circle cx="236.26" cy="156.02" r="3.56" style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7"></circle><circle cx="229.92" cy="148.3" r="3.56" style="stroke-width:0.71;stroke:none;fill:#00b0f6;fill-opacity:0.7"></circle><circle cx="218.8" cy="31.04" r="3.56" style="stroke-width:0.71;stroke:none;fill:#e76bf3;fill-opacity:0.7"></circle><path style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7" d="m257.04 157.83 4.79 8.3h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7" d="m228.9 182.64 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7" d="m208.46 186.01 4.79 8.3h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#00b0f6;fill-opacity:0.7" d="m202.87 142.64 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#e76bf3;fill-opacity:0.7" d="m201.16 43.21 4.79 8.3h-9.58z"></path><circle cx="309.74" cy="233.23" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7"></circle><circle cx="242.82" cy="169.05" r="3.56" style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7"></circle><circle cx="217" cy="187.5" r="3.56" style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7"></circle><circle cx="212.55" cy="212.4" r="3.56" style="stroke-width:0.71;stroke:none;fill:#00b0f6;fill-opacity:0.7"></circle><circle cx="203.33" cy="130.38" r="3.56" style="stroke-width:0.71;stroke:none;fill:#e76bf3;fill-opacity:0.7"></circle><path style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7" d="m241.98 194.71 4.79 8.3h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7" d="m219.92 215.97 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7" d="m198.19 213.97 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#00b0f6;fill-opacity:0.7" d="m193.9 182.81 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#e76bf3;fill-opacity:0.7" d="m190.13 108.52 4.79 8.29h-9.58z"></path><circle cx="345.38" cy="205.83" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7"></circle><circle cx="249.31" cy="182.3" r="3.56" style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7"></circle><circle cx="225.83" cy="239.83" r="3.56" style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7"></circle><circle cx="221.3" cy="145.32" r="3.56" style="stroke-width:0.71;stroke:none;fill:#00b0f6;fill-opacity:0.7"></circle><circle cx="206.27" cy="71.42" r="3.56" style="stroke-width:0.71;stroke:none;fill:#e76bf3;fill-opacity:0.7"></circle><path style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7" d="m236.92 176.88 4.79 8.3h-9.57z"></path><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7" d="m216.44 200.15 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7" d="m198.44 199.76 4.79 8.29h-9.57z"></path><path style="stroke-width:0.71;stroke:none;fill:#00b0f6;fill-opacity:0.7" d="m196.42 158.01 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#e76bf3;fill-opacity:0.7" d="m193.07 72.54 4.79 8.29h-9.58z"></path><circle cx="357.55" cy="192.39" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7"></circle><circle cx="211.87" cy="200.61" r="3.56" style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7"></circle><circle cx="173.6" cy="155.26" r="3.56" style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7"></circle><circle cx="169.35" cy="164.62" r="3.56" style="stroke-width:0.71;stroke:none;fill:#00b0f6;fill-opacity:0.7"></circle><circle cx="160.4" cy="79.25" r="3.56" style="stroke-width:0.71;stroke:none;fill:#e76bf3;fill-opacity:0.7"></circle><path style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7" d="m187.19 168.56 4.79 8.3h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7" d="m145.93 195.44 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7" d="m121.33 194.93 4.78 8.29h-9.57z"></path><path style="stroke-width:0.71;stroke:none;fill:#00b0f6;fill-opacity:0.7" d="m115.75 171.69 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#e76bf3;fill-opacity:0.7" d="m114.2 79.85 4.79 8.29h-9.58z"></path><circle cx="336.35" cy="208.37" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7"></circle><circle cx="251.5" cy="161.67" r="3.56" style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7"></circle><circle cx="223.61" cy="146.34" r="3.56" style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7"></circle><circle cx="218.83" cy="124.29" r="3.56" style="stroke-width:0.71;stroke:none;fill:#00b0f6;fill-opacity:0.7"></circle><circle cx="211.66" cy="39.92" r="3.56" style="stroke-width:0.71;stroke:none;fill:#e76bf3;fill-opacity:0.7"></circle><path style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7" d="m241.74 176.75 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7" d="m227.54 199.32 4.79 8.3h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7" d="m208.75 201.34 4.78 8.29h-9.57z"></path><path style="stroke-width:0.71;stroke:none;fill:#00b0f6;fill-opacity:0.7" d="m207 158.29 4.78 8.29h-9.57z"></path><path style="stroke-width:0.71;stroke:none;fill:#e76bf3;fill-opacity:0.7" d="m204.43 66.34 4.79 8.29h-9.58z"></path><circle cx="294.43" cy="272.54" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7"></circle><circle cx="203.35" cy="214.08" r="3.56" style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7"></circle><circle cx="170.64" cy="204.52" r="3.56" style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7"></circle><circle cx="167.57" cy="233.42" r="3.56" style="stroke-width:0.71;stroke:none;fill:#00b0f6;fill-opacity:0.7"></circle><circle cx="155.44" cy="142.3" r="3.56" style="stroke-width:0.71;stroke:none;fill:#e76bf3;fill-opacity:0.7"></circle><path style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7" d="m206.22 201.62 4.78 8.29h-9.57z"></path><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7" d="m177.91 232.46 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7" d="m149.83 230.26 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#00b0f6;fill-opacity:0.7" d="m143.62 204.47 4.78 8.29h-9.57z"></path><path style="stroke-width:0.71;stroke:none;fill:#e76bf3;fill-opacity:0.7" d="m141.8 124.14 4.79 8.29h-9.58z"></path><circle cx="274" cy="257.8" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7"></circle><circle cx="154.16" cy="288.62" r="3.56" style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7"></circle><circle cx="121.97" cy="313.62" r="3.56" style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7"></circle><circle cx="120.51" cy="219.29" r="3.56" style="stroke-width:0.71;stroke:none;fill:#00b0f6;fill-opacity:0.7"></circle><circle cx="112.02" cy="132.34" r="3.56" style="stroke-width:0.71;stroke:none;fill:#e76bf3;fill-opacity:0.7"></circle><path style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7" d="m120.7 200.8 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7" d="m100.41 240.08 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7" d="m69.48 246.05 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#00b0f6;fill-opacity:0.7" d="m68.59 212.62 4.78 8.3H63.8z"></path><path style="stroke-width:0.71;stroke:none;fill:#e76bf3;fill-opacity:0.7" d="m67.18 135.08 4.78 8.29h-9.57z"></path><circle cx="319.09" cy="233.84" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7"></circle><circle cx="242.7" cy="194.51" r="3.56" style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7"></circle><circle cx="208.68" cy="205.84" r="3.56" style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7"></circle><circle cx="204.17" cy="149.23" r="3.56" style="stroke-width:0.71;stroke:none;fill:#00b0f6;fill-opacity:0.7"></circle><circle cx="193.72" cy="69.35" r="3.56" style="stroke-width:0.71;stroke:none;fill:#e76bf3;fill-opacity:0.7"></circle><path style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7" d="m241.75 172.77 4.79 8.3h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7" d="m216.78 206.28 4.79 8.29H212z"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7" d="m187.62 205.9 4.79 8.3h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#00b0f6;fill-opacity:0.7" d="m182.06 166.45 4.79 8.3h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#e76bf3;fill-opacity:0.7" d="m181.58 80.55 4.79 8.29h-9.57z"></path><circle cx="308.82" cy="223.8" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7"></circle><circle cx="228.65" cy="195.84" r="3.56" style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7"></circle><circle cx="197.47" cy="260.02" r="3.56" style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7"></circle><circle cx="195.36" cy="190.47" r="3.56" style="stroke-width:0.71;stroke:none;fill:#00b0f6;fill-opacity:0.7"></circle><circle cx="191.98" cy="106.2" r="3.56" style="stroke-width:0.71;stroke:none;fill:#e76bf3;fill-opacity:0.7"></circle><path style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7" d="m212.77 170.31 4.79 8.3h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7" d="m199.14 211.81 4.79 8.29h-9.57z"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7" d="m177.52 210.35 4.78 8.29h-9.57z"></path><path style="stroke-width:0.71;stroke:none;fill:#00b0f6;fill-opacity:0.7" d="m173.15 168.18 4.78 8.3h-9.57z"></path><path style="stroke-width:0.71;stroke:none;fill:#e76bf3;fill-opacity:0.7" d="m171.51 81.13 4.79 8.29h-9.58z"></path><circle cx="342.61" cy="229.73" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7"></circle><circle cx="227.23" cy="179.59" r="3.56" style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7"></circle><circle cx="201.52" cy="217.56" r="3.56" style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7"></circle><circle cx="194.31" cy="187.3" r="3.56" style="stroke-width:0.71;stroke:none;fill:#00b0f6;fill-opacity:0.7"></circle><circle cx="174.08" cy="99.61" r="3.56" style="stroke-width:0.71;stroke:none;fill:#e76bf3;fill-opacity:0.7"></circle><path style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7" d="m209.11 177.07 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7" d="m187.98 208.15 4.78 8.29h-9.57z"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7" d="m170.85 208.41 4.79 8.3h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#00b0f6;fill-opacity:0.7" d="m160.36 173.77 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#e76bf3;fill-opacity:0.7" d="m158.35 94.17 4.79 8.29h-9.58z"></path><circle cx="319.19" cy="244.14" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7"></circle><circle cx="224.84" cy="160.88" r="3.56" style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7"></circle><circle cx="191.88" cy="187.83" r="3.56" style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7"></circle><circle cx="186.69" cy="147.7" r="3.56" style="stroke-width:0.71;stroke:none;fill:#00b0f6;fill-opacity:0.7"></circle><circle cx="173.89" cy="43.46" r="3.56" style="stroke-width:0.71;stroke:none;fill:#e76bf3;fill-opacity:0.7"></circle><path style="stroke-width:0.71;stroke:none;fill:#f8766d;fill-opacity:0.7" d="m199.29 180.16 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#a3a500;fill-opacity:0.7" d="m184.57 214.72 4.78 8.29h-9.57z"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d;fill-opacity:0.7" d="m166.76 219.26 4.78 8.29h-9.57z"></path><path style="stroke-width:0.71;stroke:none;fill:#00b0f6;fill-opacity:0.7" d="m158.73 183.97 4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#e76bf3;fill-opacity:0.7" d="m156.14 95.14 4.79 8.29h-9.58z"></path><path style="stroke-width:0.43;stroke:#bebebe;stroke-opacity:0.3" d="m404.77 221.66-1.34 1.3M376.69 227.18l-1.4.73M371.52 215.94l-1.41-1.34M362.86 143.42l1.68 1.62M361.57 22.36l1.48-1.42M399.5 240.02l-1.5 1.43M370.34 232.15l1.66-1.59M365.67 210.49l1.66 1.6M368.23 151.97l-1.4-1.33M367.7 40.4l-1.54 1.48M300.4 267.5l-1.51 1.44M173.32 74.82l5.73 8.91M144.62 138.12l1.66 1.61M135.43 156.25l1.56 1.48M132.9 66.36l1.49 1.42M147.1 195.67l9.75-.34M128.59 220.13l-.63-.6M105.69 223.7l1.72-1.67M98.09 193.63h1.95M99.92 110.37l1.63-1.57M350.51 195.37l.39 2.36M258.18 193.41l-6.19-2.59M217.54 156.65l-1.77 7.35M208.29 126.92l1.98 1.81M205.95 61.66l-.62 2.44M261.77 153.3l-1.27.91M226.56 164.56l-1.05 11.78M191.74 152.06l4.06-2.4M194.64 89.12l-1.25-2.38M365.54 199.67l-1.59 1.44M267.02 128.38l-1.41 1.35M249.7 143.84l-12.58 11.4M237.82 136l-7.3 11.36M216.42 33.59l1.6-1.72M268.58 167.66l-10.41-3.88M230.41 187.36l-.46.25M201.46 145.37l.91 1.82M198.72 50.94l1.59-1.43M307.41 230.11l1.66 2.23M248.06 159l-4.73 9.07M219.24 185.35l-1.42 1.36M242.89 225.75l-29.25-12.87M201.03 133.18l1.59-1.93M248.03 208.8l-5.41-7.64M222.36 223.7l-1.59-1.43M191.84 231.57l5.84-11.1M179.38 192.93l13.37-4.23M189.06 117.51l.75-2.43M343.09 203.22l1.55 1.76M266.81 177.53l-16.33 4.45M223.49 242.05l1.51-1.43M224.7 134.76l-3.06 9.53M208.49 69.41l-1.37 1.24M257.92 185.4l-19.79-2.81M223.57 209.4l-6.08-3.17M192.75 201.64l4.71 3.01M193.85 161.74l1.61 1.13M191.18 79.24l.89-.55M360.08 189.96l-1.7 1.63M216.7 195.86l-4.01 3.95M168.42 155.81l3.96-.42M156.96 163.66l11.16.87M157.03 78.51l2.19.48M184.91 175.81l1.35-1.02M143.89 204.07l1.43-2.17M113.78 190.36l6.87 9.2M113.35 178.74l1.41-.89M116.54 83.15l-1.51 1.44M334.15 210.47l1.37-1.31M261.61 159.77l-8.91 1.68M225.56 142.61l-1.44 2.75M221.14 122.07l-1.49 1.43M210.24 41.22l.57-.52M245.49 178.03l-3 3.4M241.92 217.43l-13.51-11.82M213.02 201.98l-3.53 4.03M205.82 161.29l.71 1.53M206.95 74.3l-1.7-1.64M292.08 274.79l1.53-1.46M167.46 202.79l2.13 1.16M165.25 235.63l1.49-1.42M157.68 144.55l-1.44-1.44M180.13 240.16l-1.4-1.37M147.35 238.06l1.63-1.49M141.74 212.23l1.15-1.37M144.09 127.48l-1.46 1.4M271.48 260.24l1.7-1.64M156.54 286.32l-1.56 1.51M124.26 311.44l-1.46 1.39M118.07 217.09l1.59 1.43M109.72 134.52l1.47-1.39M118.99 202.93l1.22 2.41M98.04 247.86l1.54-1.46M67.05 253.92l1.61-1.55M66.07 220.57l1.69-1.62M69.39 138.49 68 139.81M321.36 236l-1.44-1.37M263.62 201.72l-19.78-6.82M206.69 204.02l1.14 1.05M205.13 149.94l-.03-.02M194.5 66.7l-.47 1.61M250.35 169.41l-7.81 8.07M223.43 217.74l-5.79-5.17M186 210.22l.69.52M183.44 88.3l-1.13-1.36M311 221.74l-1.34 1.28M243.77 201.26l-13.99-5.01M199.93 257.66l-1.63 1.57M193.36 191.98l1.07-.81M192.59 109.74l-.43-2.48M215.09 172.89l-1.63 2.07M199.97 222.36l-.65-3.96M172.92 218.45l3.56-2M163.64 171.64l8.32 1.81M166.1 86.52l4.18.11M344.99 227.45l-1.56 1.49M230.77 176.08l-2.73 2.7M211.13 231.64l-8.98-13.15M190.44 185.5l2.79 1.3M176.47 101.91l-1.56-1.5M205.39 169.67l3.42 11.88M167.32 211.7l2.54 1.61M154.68 179.71l4.46-.32M160.87 97.33l-1.68 1.58M316.8 246.45l1.57-1.52M232.21 148.44l-6.81 11.49M171.81 184.77l18.86 2.88M186.25 144.02l.31 2.61M171.46 45.8l1.6-1.54M182.33 223.49l1.6-2.32M165.28 228.26l1.05-2.46M155.01 187.95l2.61 1.09M153.65 103.07l1.67-1.61"></path><text x="407.63" y="219.86" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.35" lengthAdjust="spacingAndGlyphs">pcap.packet</text><text x="387.17" y="227.9" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.35" lengthAdjust="spacingAndGlyphs">pcap.packet</text><text x="375.1" y="219.82" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.35" lengthAdjust="spacingAndGlyphs">pcap.packet</text><text x="359.44" y="141.62" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.35" lengthAdjust="spacingAndGlyphs">pcap.packet</text><text x="358.18" y="26.24" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.35" lengthAdjust="spacingAndGlyphs">pcap.packet</text><text x="402.91" y="238.22" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.35" lengthAdjust="spacingAndGlyphs">pcap.packet</text><text x="366.86" y="236.02" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.35" lengthAdjust="spacingAndGlyphs">pcap.packet</text><text x="362.36" y="208.69" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.35" lengthAdjust="spacingAndGlyphs">pcap.packet</text><text x="371.67" y="155.85" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.35" lengthAdjust="spacingAndGlyphs">pcap.packet</text><text x="371.29" y="38.6" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.35" lengthAdjust="spacingAndGlyphs">pcap.packet</text><text x="304.03" y="265.7" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.97" lengthAdjust="spacingAndGlyphs">suricata.dcerpc</text><text x="171.99" y="73.02" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.97" lengthAdjust="spacingAndGlyphs">suricata.dcerpc</text><text x="141.26" y="136.32" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.97" lengthAdjust="spacingAndGlyphs">suricata.dcerpc</text><text x="131.61" y="154.45" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.97" lengthAdjust="spacingAndGlyphs">suricata.dcerpc</text><text x="129.33" y="64.56" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.97" lengthAdjust="spacingAndGlyphs">suricata.dcerpc</text><text x="134.31" y="196.7" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.97" lengthAdjust="spacingAndGlyphs">suricata.dcerpc</text><text x="141.38" y="222.9" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.97" lengthAdjust="spacingAndGlyphs">suricata.dcerpc</text><text x="102.17" y="227.57" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.97" lengthAdjust="spacingAndGlyphs">suricata.dcerpc</text><text x="85.31" y="194.67" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.97" lengthAdjust="spacingAndGlyphs">suricata.dcerpc</text><text x="96.46" y="114.24" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.97" lengthAdjust="spacingAndGlyphs">suricata.dcerpc</text><text x="340.01" y="194.82" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.4" lengthAdjust="spacingAndGlyphs">suricata.dns</text><text x="268.68" y="194.77" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.4" lengthAdjust="spacingAndGlyphs">suricata.dns</text><text x="228.04" y="156.85" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.4" lengthAdjust="spacingAndGlyphs">suricata.dns</text><text x="201.96" y="125.12" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.4" lengthAdjust="spacingAndGlyphs">suricata.dns</text><text x="216.45" y="61.15" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.4" lengthAdjust="spacingAndGlyphs">suricata.dns</text><text x="272.27" y="153.19" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.4" lengthAdjust="spacingAndGlyphs">suricata.dns</text><text x="237.07" y="165" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.4" lengthAdjust="spacingAndGlyphs">suricata.dns</text><text x="194.93" y="178.36" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.4" lengthAdjust="spacingAndGlyphs">suricata.dns</text><text x="181.24" y="153.7" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.4" lengthAdjust="spacingAndGlyphs">suricata.dns</text><text x="205.14" y="91.59" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="17.4" lengthAdjust="spacingAndGlyphs">suricata.dns</text><text x="372.6" y="197.87" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.98" lengthAdjust="spacingAndGlyphs">suricata.fileinfo</text><text x="270.41" y="126.58" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.98" lengthAdjust="spacingAndGlyphs">suricata.fileinfo</text><text x="262.49" y="144.56" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.98" lengthAdjust="spacingAndGlyphs">suricata.fileinfo</text><text x="250.61" y="136.56" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.98" lengthAdjust="spacingAndGlyphs">suricata.fileinfo</text><text x="203.63" y="35.97" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.98" lengthAdjust="spacingAndGlyphs">suricata.fileinfo</text><text x="281.37" y="168.91" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.98" lengthAdjust="spacingAndGlyphs">suricata.fileinfo</text><text x="243.2" y="188.2" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.98" lengthAdjust="spacingAndGlyphs">suricata.fileinfo</text><text x="210.36" y="194.4" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.98" lengthAdjust="spacingAndGlyphs">suricata.fileinfo</text><text x="201.29" y="143.57" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.98" lengthAdjust="spacingAndGlyphs">suricata.fileinfo</text><text x="190.79" y="54.81" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="21.98" lengthAdjust="spacingAndGlyphs">suricata.fileinfo</text><text x="296.52" y="229.82" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.17" lengthAdjust="spacingAndGlyphs">suricata.flow</text><text x="248.7" y="157.2" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.17" lengthAdjust="spacingAndGlyphs">suricata.flow</text><text x="222.5" y="183.55" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.17" lengthAdjust="spacingAndGlyphs">suricata.flow</text><text x="253.77" y="226.89" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.17" lengthAdjust="spacingAndGlyphs">suricata.flow</text><text x="190.14" y="135.57" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.17" lengthAdjust="spacingAndGlyphs">suricata.flow</text><text x="258.92" y="210.47" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.17" lengthAdjust="spacingAndGlyphs">suricata.flow</text><text x="229.83" y="227.57" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.17" lengthAdjust="spacingAndGlyphs">suricata.flow</text><text x="191.03" y="235.45" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.17" lengthAdjust="spacingAndGlyphs">suricata.flow</text><text x="168.49" y="194.11" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.17" lengthAdjust="spacingAndGlyphs">suricata.flow</text><text x="178.17" y="120.07" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.17" lengthAdjust="spacingAndGlyphs">suricata.flow</text><text x="332.21" y="202.89" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.15" lengthAdjust="spacingAndGlyphs">suricata.http</text><text x="277.69" y="178.45" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.15" lengthAdjust="spacingAndGlyphs">suricata.http</text><text x="219.87" y="245.92" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.15" lengthAdjust="spacingAndGlyphs">suricata.http</text><text x="224.85" y="132.96" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.15" lengthAdjust="spacingAndGlyphs">suricata.http</text><text x="219.36" y="69.08" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.15" lengthAdjust="spacingAndGlyphs">suricata.http</text><text x="268.8" y="186.47" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.15" lengthAdjust="spacingAndGlyphs">suricata.http</text><text x="234.45" y="210.86" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.15" lengthAdjust="spacingAndGlyphs">suricata.http</text><text x="181.88" y="202.08" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.15" lengthAdjust="spacingAndGlyphs">suricata.http</text><text x="182.98" y="161.69" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.15" lengthAdjust="spacingAndGlyphs">suricata.http</text><text x="180.31" y="80.76" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.15" lengthAdjust="spacingAndGlyphs">suricata.http</text><text x="363.71" y="188.16" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.37" lengthAdjust="spacingAndGlyphs">suricata.smb</text><text x="222.41" y="194.06" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.37" lengthAdjust="spacingAndGlyphs">suricata.smb</text><text x="157.43" y="156.85" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.37" lengthAdjust="spacingAndGlyphs">suricata.smb</text><text x="145.97" y="164.7" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.37" lengthAdjust="spacingAndGlyphs">suricata.smb</text><text x="146.04" y="79.53" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.37" lengthAdjust="spacingAndGlyphs">suricata.smb</text><text x="173.92" y="178.1" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.37" lengthAdjust="spacingAndGlyphs">suricata.smb</text><text x="132.91" y="206.51" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.37" lengthAdjust="spacingAndGlyphs">suricata.smb</text><text x="111.35" y="188.56" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.37" lengthAdjust="spacingAndGlyphs">suricata.smb</text><text x="102.36" y="180.48" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.37" lengthAdjust="spacingAndGlyphs">suricata.smb</text><text x="120.16" y="81.35" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.37" lengthAdjust="spacingAndGlyphs">suricata.smb</text><text x="330.83" y="214.35" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="15.7" lengthAdjust="spacingAndGlyphs">suricata.tls</text><text x="271.26" y="160.76" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="15.7" lengthAdjust="spacingAndGlyphs">suricata.tls</text><text x="225.8" y="140.81" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="15.7" lengthAdjust="spacingAndGlyphs">suricata.tls</text><text x="224.47" y="120.27" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="15.7" lengthAdjust="spacingAndGlyphs">suricata.tls</text><text x="206.54" y="45.09" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="15.7" lengthAdjust="spacingAndGlyphs">suricata.tls</text><text x="255.14" y="178.1" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="15.7" lengthAdjust="spacingAndGlyphs">suricata.tls</text><text x="251.57" y="218.77" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="15.7" lengthAdjust="spacingAndGlyphs">suricata.tls</text><text x="222.67" y="202.14" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="15.7" lengthAdjust="spacingAndGlyphs">suricata.tls</text><text x="205.7" y="159.49" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="15.7" lengthAdjust="spacingAndGlyphs">suricata.tls</text><text x="210.43" y="78.18" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="15.7" lengthAdjust="spacingAndGlyphs">suricata.tls</text><text x="288.5" y="278.66" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="14.45" lengthAdjust="spacingAndGlyphs">zeek.conn</text><text x="212.31" y="218.42" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="14.45" lengthAdjust="spacingAndGlyphs">zeek.conn</text><text x="158.43" y="203.36" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="14.45" lengthAdjust="spacingAndGlyphs">zeek.conn</text><text x="161.79" y="239.51" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="14.45" lengthAdjust="spacingAndGlyphs">zeek.conn</text><text x="159.9" y="148.43" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="14.45" lengthAdjust="spacingAndGlyphs">zeek.conn</text><text x="197.42" y="210.06" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="14.45" lengthAdjust="spacingAndGlyphs">zeek.conn</text><text x="182.81" y="244.04" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="14.45" lengthAdjust="spacingAndGlyphs">zeek.conn</text><text x="141.56" y="241.93" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="14.45" lengthAdjust="spacingAndGlyphs">zeek.conn</text><text x="132.71" y="214.8" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="14.45" lengthAdjust="spacingAndGlyphs">zeek.conn</text><text x="147.51" y="125.68" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="14.45" lengthAdjust="spacingAndGlyphs">zeek.conn</text><text x="267.96" y="264.11" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.63" lengthAdjust="spacingAndGlyphs">zeek.dce_rpc</text><text x="159.85" y="284.52" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.63" lengthAdjust="spacingAndGlyphs">zeek.dce_rpc</text><text x="127.75" y="309.64" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.63" lengthAdjust="spacingAndGlyphs">zeek.dce_rpc</text><text x="110.36" y="215.29" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.63" lengthAdjust="spacingAndGlyphs">zeek.dce_rpc</text><text x="106.16" y="138.4" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.63" lengthAdjust="spacingAndGlyphs">zeek.dce_rpc</text><text x="107.87" y="202.53" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.63" lengthAdjust="spacingAndGlyphs">zeek.dce_rpc</text><text x="94.5" y="251.74" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.63" lengthAdjust="spacingAndGlyphs">zeek.dce_rpc</text><text x="63.74" y="257.8" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.63" lengthAdjust="spacingAndGlyphs">zeek.dce_rpc</text><text x="62.61" y="224.45" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.63" lengthAdjust="spacingAndGlyphs">zeek.dce_rpc</text><text x="72.76" y="136.69" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="18.63" lengthAdjust="spacingAndGlyphs">zeek.dce_rpc</text><text x="324.74" y="239.88" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="12.64" lengthAdjust="spacingAndGlyphs">zeek.dns</text><text x="271.74" y="202.88" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="12.64" lengthAdjust="spacingAndGlyphs">zeek.dns</text><text x="201.92" y="202.22" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="12.64" lengthAdjust="spacingAndGlyphs">zeek.dns</text><text x="213.25" y="151.58" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="12.64" lengthAdjust="spacingAndGlyphs">zeek.dns</text><text x="194.53" y="64.9" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="12.64" lengthAdjust="spacingAndGlyphs">zeek.dns</text><text x="258.47" y="169.96" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="12.64" lengthAdjust="spacingAndGlyphs">zeek.dns</text><text x="231.55" y="219.38" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="12.64" lengthAdjust="spacingAndGlyphs">zeek.dns</text><text x="177.88" y="210.14" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="12.64" lengthAdjust="spacingAndGlyphs">zeek.dns</text><text x="175.56" y="169.66" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="12.64" lengthAdjust="spacingAndGlyphs">zeek.dns</text><text x="184.3" y="92.17" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="12.64" lengthAdjust="spacingAndGlyphs">zeek.dns</text><text x="314.52" y="219.94" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.36" lengthAdjust="spacingAndGlyphs">zeek.files</text><text x="252.25" y="202.47" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.36" lengthAdjust="spacingAndGlyphs">zeek.files</text><text x="203.37" y="255.86" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.36" lengthAdjust="spacingAndGlyphs">zeek.files</text><text x="184.88" y="194.36" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.36" lengthAdjust="spacingAndGlyphs">zeek.files</text><text x="201.08" y="112.33" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.36" lengthAdjust="spacingAndGlyphs">zeek.files</text><text x="215.96" y="171.09" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.36" lengthAdjust="spacingAndGlyphs">zeek.files</text><text x="199.97" y="226.23" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.36" lengthAdjust="spacingAndGlyphs">zeek.files</text><text x="164.44" y="220.09" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.36" lengthAdjust="spacingAndGlyphs">zeek.files</text><text x="155.16" y="172.61" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.36" lengthAdjust="spacingAndGlyphs">zeek.files</text><text x="157.62" y="87.55" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.36" lengthAdjust="spacingAndGlyphs">zeek.files</text><text x="348.54" y="225.65" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.38" lengthAdjust="spacingAndGlyphs">zeek.http</text><text x="234.74" y="174.28" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.38" lengthAdjust="spacingAndGlyphs">zeek.http</text><text x="212.52" y="235.51" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.38" lengthAdjust="spacingAndGlyphs">zeek.http</text><text x="181.95" y="186.22" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.38" lengthAdjust="spacingAndGlyphs">zeek.http</text><text x="179.88" y="105.78" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.38" lengthAdjust="spacingAndGlyphs">zeek.http</text><text x="196.89" y="170.14" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.38" lengthAdjust="spacingAndGlyphs">zeek.http</text><text x="188.71" y="218.03" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.38" lengthAdjust="spacingAndGlyphs">zeek.http</text><text x="158.82" y="211.93" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.38" lengthAdjust="spacingAndGlyphs">zeek.http</text><text x="146.19" y="180.74" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.38" lengthAdjust="spacingAndGlyphs">zeek.http</text><text x="165.3" y="95.53" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="13.38" lengthAdjust="spacingAndGlyphs">zeek.http</text><text x="313.47" y="250.32" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="11.3" lengthAdjust="spacingAndGlyphs">zeek.ssl</text><text x="239.66" y="148.99" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="11.3" lengthAdjust="spacingAndGlyphs">zeek.ssl</text><text x="164.35" y="185.77" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="11.3" lengthAdjust="spacingAndGlyphs">zeek.ssl</text><text x="178.8" y="143.52" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="11.3" lengthAdjust="spacingAndGlyphs">zeek.ssl</text><text x="168.04" y="49.67" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="11.3" lengthAdjust="spacingAndGlyphs">zeek.ssl</text><text x="203.44" y="186.27" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="11.3" lengthAdjust="spacingAndGlyphs">zeek.ssl</text><text x="181.77" y="227.37" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="11.3" lengthAdjust="spacingAndGlyphs">zeek.ssl</text><text x="157.83" y="230.77" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="11.3" lengthAdjust="spacingAndGlyphs">zeek.ssl</text><text x="147.56" y="188.77" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="11.3" lengthAdjust="spacingAndGlyphs">zeek.ssl</text><text x="150.3" y="106.95" text-anchor="middle" style="font-size:2.85px;fill:#bebebe;font-family:&amp;quot" textLength="11.3" lengthAdjust="spacingAndGlyphs">zeek.ssl</text></g><g clip-path="url(#cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA=)"><text x="45.47" y="248.76" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="15.75" lengthAdjust="spacingAndGlyphs">1us</text><text x="45.47" y="140.97" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="21.35" lengthAdjust="spacingAndGlyphs">10us</text><text x="45.47" y="33.19" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="26.94" lengthAdjust="spacingAndGlyphs">100us</text><text x="68.63" y="339.64" text-anchor="middle" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="20.02" lengthAdjust="spacingAndGlyphs">10 B</text><text x="154.4" y="339.64" text-anchor="middle" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="20.02" lengthAdjust="spacingAndGlyphs">30 B</text><text x="248.4" y="339.64" text-anchor="middle" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="25.61" lengthAdjust="spacingAndGlyphs">100 B</text><text x="334.18" y="339.64" text-anchor="middle" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="25.61" lengthAdjust="spacingAndGlyphs">300 B</text><text x="234.89" y="352.23" text-anchor="middle" style="font-size:11px;font-family:&amp;quot" textLength="22.59" lengthAdjust="spacingAndGlyphs">Size</text><text transform="rotate(-90 90.195 76.695)" text-anchor="middle" style="font-size:11px;font-family:&amp;quot" textLength="34.49" lengthAdjust="spacingAndGlyphs">Speed</text><text x="435.82" y="88.82" style="font-size:11px;font-family:&amp;quot" textLength="29.07" lengthAdjust="spacingAndGlyphs">Store</text><circle cx="444.46" cy="104.09" r="3.56" style="stroke-width:0.71;stroke:none;fill:#000;fill-opacity:0.7"></circle><path style="stroke-width:0.71;stroke:none;fill:#000;fill-opacity:0.7" d="m444.46 115.84 4.78 8.29h-9.57z"></path><text x="458.57" y="107.3" style="font-size:8.8px;font-family:&amp;quot" textLength="31.95" lengthAdjust="spacingAndGlyphs">feather</text><text x="458.57" y="124.58" style="font-size:8.8px;font-family:&amp;quot" textLength="34.47" lengthAdjust="spacingAndGlyphs">parquet</text><text x="435.82" y="161.09" style="font-size:11px;font-family:&amp;quot" textLength="57.1" lengthAdjust="spacingAndGlyphs">Zstd Level</text><circle cx="444.46" cy="176.36" r="3.56" style="stroke-width:0.71;stroke:#f8766d;stroke-opacity:0.7;fill:#f8766d;fill-opacity:0.7"></circle><circle cx="444.46" cy="193.64" r="3.56" style="stroke-width:0.71;stroke:#a3a500;stroke-opacity:0.7;fill:#a3a500;fill-opacity:0.7"></circle><circle cx="444.46" cy="210.92" r="3.56" style="stroke-width:0.71;stroke:#00bf7d;stroke-opacity:0.7;fill:#00bf7d;fill-opacity:0.7"></circle><circle cx="444.46" cy="228.2" r="3.56" style="stroke-width:0.71;stroke:#00b0f6;stroke-opacity:0.7;fill:#00b0f6;fill-opacity:0.7"></circle><circle cx="444.46" cy="245.48" r="3.56" style="stroke-width:0.71;stroke:#e76bf3;stroke-opacity:0.7;fill:#e76bf3;fill-opacity:0.7"></circle><text x="458.57" y="179.56" style="font-size:8.8px;font-family:&amp;quot" textLength="12.6" lengthAdjust="spacingAndGlyphs">NA</text><text x="458.57" y="196.84" style="font-size:8.8px;font-family:&amp;quot" textLength="8.77" lengthAdjust="spacingAndGlyphs">-5</text><text x="458.57" y="214.12" style="font-size:8.8px;font-family:&amp;quot" textLength="5.59" lengthAdjust="spacingAndGlyphs">1</text><text x="458.57" y="231.4" style="font-size:8.8px;font-family:&amp;quot" textLength="5.59" lengthAdjust="spacingAndGlyphs">9</text><text x="458.57" y="248.68" style="font-size:8.8px;font-family:&amp;quot" textLength="11.19" lengthAdjust="spacingAndGlyphs">19</text></g></svg><p>Every point in the above log-log scatterplot represents a store with a fixed
schema. Since we have multiple stores for a given schema, we took the median
size and median speed. We then varied the run matrix by Zstd level (color) and
store type (triangle/point shape). Points closer to the origin are “better” in
both dimensions. So we’re looking for the left-most and bottom-most ones.
Disabling compression puts points into the bottom-right area, and maximum
compression into the top-left area.</p><p>The point closest to the origin has the schema <code>zeek.dce_rpc</code> for Zstd level 1,
both for Feather and Parquet. Is there anything special about this log file?
Here’s a sample:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">#separator \x09</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#set_separator  ,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#empty_field    (empty)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#unset_field    -</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#path   dce_rpc</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#open   2022-04-20-09-56-46</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#fields ts  uid id.orig_h   id.orig_p   id.resp_h   id.resp_p   rtt named_pipe  endpoint    operation</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#types  time    string  addr    port    addr    port    interval    string  string  string</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">1637222709.134638   Cypdo7cTBbiS4Asad   10.2.9.133  49768   10.2.9.9    135 0.000254    135 epmapper    ept_map</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">1637222709.140898   CTDU3j3iAXfRITNiah  10.2.9.133  49769   10.2.9.9    49671   0.000239    49671   drsuapi DRSBind</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">1637222709.141520   CTDU3j3iAXfRITNiah  10.2.9.133  49769   10.2.9.9    49671   0.000311    49671   drsuapi DRSCrackNames</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">1637222709.142068   CTDU3j3iAXfRITNiah  10.2.9.133  49769   10.2.9.9    49671   0.000137    49671   drsuapi DRSUnbind</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">1637222709.143104   Cypdo7cTBbiS4Asad   10.2.9.133  49768   10.2.9.9    135 0.000228    135 epmapper    ept_map</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">1637222709.143642   CTDU3j3iAXfRITNiah  10.2.9.133  49769   10.2.9.9    49671   0.000147    49671   drsuapi DRSBind</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">1637222709.144040   CTDU3j3iAXfRITNiah  10.2.9.133  49769   10.2.9.9    49671   0.000296    49671   drsuapi DRSCrackNames</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>It appears to be rather normal: 10 columns, several different data types, unique
IDs, and some short strings. By looking at the data alone, there is no obvious
hint that explains the performance.</p><p>With dozens to hundreds of different schemas per data source (sometimes even
more), there it will be difficult to single out individual schemas. But a point
cloud is unwieldy for relative comparison. To better represent the variance of
schemas for a given configuration, we can strip the “inner” points and only look
at their convex hull:</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Code</summary><div><div class="collapsibleContent_i85q"><figure data-rehype-pretty-code-figure=""><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span data-line=""><span style="color:#8B949E"># Native convex hull does the job, no need to leverage ggforce.</span></span>
<span data-line=""><span style="color:#E6EDF3">convex_hull </span><span style="color:#FF7B72">&lt;-</span><span style="color:#E6EDF3"> cleaned </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  group_by</span><span style="color:#E6EDF3">(store_class, zstd.level) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  slice</span><span style="color:#E6EDF3">(</span><span style="color:#79C0FF">chull</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">x</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> bytes, </span><span style="color:#FFA657">y</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> duration))</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#E6EDF3">convex_hull </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  ggplot</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">aes</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">x</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> bytes, </span><span style="color:#FFA657">y</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> duration,</span></span>
<span data-line=""><span style="color:#FFA657">             shape</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> store_class, </span><span style="color:#FFA657">color</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> zstd.level)) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    geom_point</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">size</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 3</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    geom_polygon</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">aes</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">fill</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> zstd.level, </span><span style="color:#FFA657">color</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> zstd.level),</span></span>
<span data-line=""><span style="color:#FFA657">                 alpha</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 0.1</span><span style="color:#E6EDF3">,</span></span>
<span data-line=""><span style="color:#FFA657">                 show.legend</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> FALSE</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    scale_x_log10</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">labels</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> scales</span><span style="color:#FF7B72">::</span><span style="color:#FFA657">label_bytes</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">units</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;auto_si&quot;</span><span style="color:#E6EDF3">)) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    scale_y_log10</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">labels</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> scales</span><span style="color:#FF7B72">::</span><span style="color:#FFA657">label_number</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">scale</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 1e6</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">suffix</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;us&quot;</span><span style="color:#E6EDF3">)) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    labs</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">x</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Size&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">y</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Speed&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">shape</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Store&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">color</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Zstd Level&quot;</span><span style="color:#E6EDF3">)</span></span></code></pre><button type="button" data="# Native convex hull does the job, no need to leverage ggforce.
convex_hull &lt;- cleaned |&gt;
  group_by(store_class, zstd.level) |&gt;
  slice(chull(x = bytes, y = duration))

convex_hull |&gt;
  ggplot(aes(x = bytes, y = duration,
             shape = store_class, color = zstd.level)) +
    geom_point(size = 3) +
    geom_polygon(aes(fill = zstd.level, color = zstd.level),
                 alpha = 0.1,
                 show.legend = FALSE) +
    scale_x_log10(labels = scales::label_bytes(units = &quot;auto_si&quot;)) +
    scale_y_log10(labels = scales::label_number(scale = 1e6, suffix = &quot;us&quot;)) +
    labs(x = &quot;Size&quot;, y = &quot;Speed&quot;, shape = &quot;Store&quot;, color = &quot;Zstd Level&quot;)" title="Copy code" aria-label="Copy code" class="rehype-pretty-copy" data-feedback-duration="3000" data-name="rehype-pretty-copy-button"><span class="ready"></span><span class="success"></span></button><style>
    :root {
      --copy-icon: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDM2IDM2Ij48cmVjdCB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjYmZjN2Q1IiBkPSJNMjkuNSA3aC0xOUExLjUgMS41IDAgMCAwIDkgOC41djI0YTEuNSAxLjUgMCAwIDAgMS41IDEuNWgxOWExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTI0QTEuNSAxLjUgMCAwIDAgMjkuNSA3TTI5IDMySDExVjloMThaIiBjbGFzcz0iY2xyLWktb3V0bGluZSBjbHItaS1vdXRsaW5lLXBhdGgtMSIvPjxwYXRoIGZpbGw9IiNiZmM3ZDUiIGQ9Ik0yNiAzLjVBMS41IDEuNSAwIDAgMCAyNC41IDJoLTE5QTEuNSAxLjUgMCAwIDAgNCAzLjV2MjRBMS41IDEuNSAwIDAgMCA1LjUgMjlINlY0aDIwWiIgY2xhc3M9ImNsci1pLW91dGxpbmUgY2xyLWktb3V0bGluZS1wYXRoLTIiLz48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDM2djM2SDB6Ii8+PC9zdmc+&quot;);
      --success-icon: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cmVjdCB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjMDBkNjAwIiBkPSJNMjEgN0w5IDE5bC01LjUtNS41bDEuNDEtMS40MUw5IDE2LjE3TDE5LjU5IDUuNTl6Ii8+PC9zdmc+&quot;);
    }

    pre:has(code) {
      position: relative;
    }

    button[data=&#x27;&lt;span&gt;&#x27;] {
      width: 0;
      height: 0;
      display: none;
      visibility: hidden;
    }

    pre button.rehype-pretty-copy {
      top: 1px;
      right: 1px;
      padding: 0;
      width: 24px;
      height: 24px;
      display: flex;
      cursor: pointer;
      margin-top: 8px;
      margin-right: 8px;
      position: absolute;
      border-radius: 25%;
      &amp; span {
        width: 100%;
        aspect-ratio: 1 / 1;
        background-repeat: no-repeat;
      }
      &amp; .ready {
        background-image: var(--copy-icon);
      }
      &amp; .success {
        display: none;
        background-image: var(--success-icon);
      }
    }

    &amp;.rehype-pretty-copied { 
      &amp; .success { 
        display: block;
      } &amp; .ready {
        display: none;
      }
    }

    pre button.rehype-pretty-copy.rehype-pretty-copied {
      opacity: 1;
      cursor: default;
      &amp; .ready { display: none; }
      &amp; .success { display: block; }
    }

      pre button.rehype-pretty-copy { opacity: 0; }
      button[data-name=&quot;rehype-pretty-copy-button&quot;]:hover {
        opacity: 1;
      }
    </style></code></pre></figure></div></div></details><svg xmlns="http://www.w3.org/2000/svg" class="svglite" width="672" height="480" viewBox="0 0 504 360"><defs><style>.svglite circle,.svglite polygon,.svglite polyline,.svglite rect{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.svglite text{white-space:pre}</style></defs><rect width="100%" height="100%" style="stroke:none;fill:none"></rect><defs><clipPath id="cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA="><path d="M0 0h504v360H0z"></path></clipPath></defs><defs><clipPath id="cpNTAuNDB8NDE5LjM4fDUuNDh8MzI4LjI5"><path d="M50.4 5.48h368.97V328.3H50.4z"></path></clipPath></defs><g clip-path="url(#cpNTAuNDB8NDE5LjM4fDUuNDh8MzI4LjI5)"><path style="stroke-width:0.53;stroke:#ebebeb;stroke-linecap:butt" d="M50.4 299.44h368.98M50.4 191.66h368.98M50.4 83.87h368.98M111.52 328.29V5.48M201.4 328.29V5.48M291.29 328.29V5.48M377.07 328.29V5.48"></path><path style="stroke-width:1.07;stroke:#ebebeb;stroke-linecap:butt" d="M50.4 245.55h368.98M50.4 137.77h368.98M50.4 29.98h368.98M68.63 328.29V5.48M154.4 328.29V5.48M248.4 328.29V5.48M334.18 328.29V5.48"></path><circle cx="294.43" cy="272.54" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><circle cx="274" cy="257.8" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><circle cx="308.82" cy="223.8" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><circle cx="357.55" cy="192.39" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><circle cx="402.61" cy="223.76" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><circle cx="374.24" cy="228.46" r="3.56" style="stroke-width:0.71;stroke:none;fill:#a3a500"></circle><circle cx="154.16" cy="288.62" r="3.56" style="stroke-width:0.71;stroke:none;fill:#a3a500"></circle><circle cx="179.65" cy="84.67" r="3.56" style="stroke-width:0.71;stroke:none;fill:#a3a500"></circle><circle cx="369.27" cy="213.82" r="3.56" style="stroke-width:0.71;stroke:none;fill:#00bf7d"></circle><circle cx="121.97" cy="313.62" r="3.56" style="stroke-width:0.71;stroke:none;fill:#00bf7d"></circle><circle cx="147.11" cy="140.53" r="3.56" style="stroke-width:0.71;stroke:none;fill:#00bf7d"></circle><circle cx="167.57" cy="233.42" r="3.56" style="stroke-width:0.71;stroke:none;fill:#00b0f6"></circle><circle cx="120.51" cy="219.29" r="3.56" style="stroke-width:0.71;stroke:none;fill:#00b0f6"></circle><circle cx="137.82" cy="158.52" r="3.56" style="stroke-width:0.71;stroke:none;fill:#00b0f6"></circle><circle cx="218.83" cy="124.29" r="3.56" style="stroke-width:0.71;stroke:none;fill:#00b0f6"></circle><circle cx="365.36" cy="145.84" r="3.56" style="stroke-width:0.71;stroke:none;fill:#00b0f6"></circle><circle cx="203.33" cy="130.38" r="3.56" style="stroke-width:0.71;stroke:none;fill:#e76bf3"></circle><circle cx="155.44" cy="142.3" r="3.56" style="stroke-width:0.71;stroke:none;fill:#e76bf3"></circle><circle cx="112.02" cy="132.34" r="3.56" style="stroke-width:0.71;stroke:none;fill:#e76bf3"></circle><circle cx="135.22" cy="68.57" r="3.56" style="stroke-width:0.71;stroke:none;fill:#e76bf3"></circle><circle cx="173.89" cy="43.46" r="3.56" style="stroke-width:0.71;stroke:none;fill:#e76bf3"></circle><circle cx="218.8" cy="31.04" r="3.56" style="stroke-width:0.71;stroke:none;fill:#e76bf3"></circle><circle cx="363.88" cy="20.15" r="3.56" style="stroke-width:0.71;stroke:none;fill:#e76bf3"></circle><path style="stroke-width:0.71;stroke:none;fill:#f8766d" d="m397.17 236.72 4.79 8.29h-9.57zM120.7 200.8l4.79 8.29h-9.58zM187.19 168.56l4.79 8.3h-9.58zM259.55 149.36l4.79 8.3h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#a3a500" d="m372.82 224.23 4.79 8.3h-9.58zM100.41 240.08l4.79 8.29h-9.58zM145.93 195.44l4.79 8.29h-9.58zM225.41 171.88l4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d" d="m368.15 207.36 4.79 8.29h-9.58zM69.48 246.05l4.79 8.29h-9.58zM121.33 194.93l4.78 8.29h-9.57zM202.82 174.11l4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#00b0f6" d="m68.59 212.62 4.78 8.3H63.8zM115.75 171.69l4.79 8.29h-9.58zM196.82 143.53l4.78 8.29h-9.57z"></path><path style="stroke-width:0.71;stroke:none;fill:#00b0f6" d="m202.87 142.64 4.79 8.29h-9.58zM366 144.32l4.79 8.3h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#e76bf3" d="m67.18 135.08 4.78 8.29h-9.57zM114.2 79.85l4.79 8.29h-9.58zM201.16 43.21l4.79 8.3h-9.58zM365.33 37.14l4.79 8.29h-9.58z"></path><path style="stroke-width:1.07;stroke:#f8766d;stroke-linecap:butt;fill:#f8766d;fill-opacity:0.1" d="M294.43 272.54 274 257.8l34.82-34 48.73-31.41 45.06 31.37z"></path><path style="stroke-width:1.07;stroke:#f8766d;stroke-linecap:butt;fill:#f8766d;fill-opacity:0.1" d="M397.17 242.24 120.7 206.32l66.49-32.23 72.36-19.2z"></path><path style="stroke-width:1.07;stroke:#a3a500;stroke-linecap:butt;fill:#a3a500;fill-opacity:0.1" d="m374.24 228.46-220.08 60.16 25.49-203.95z"></path><path style="stroke-width:1.07;stroke:#a3a500;stroke-linecap:butt;fill:#a3a500;fill-opacity:0.1" d="m372.82 229.76-272.41 15.85 45.52-44.64 79.48-23.56z"></path><path style="stroke-width:1.07;stroke:#00bf7d;stroke-linecap:butt;fill:#00bf7d;fill-opacity:0.1" d="m369.27 213.82-247.3 99.8 25.14-173.09z"></path><path style="stroke-width:1.07;stroke:#00bf7d;stroke-linecap:butt;fill:#00bf7d;fill-opacity:0.1" d="M368.15 212.89 69.48 251.58l51.85-51.12 81.49-20.83z"></path><path style="stroke-width:1.07;stroke:#00b0f6;stroke-linecap:butt;fill:#00b0f6;fill-opacity:0.1" d="m167.57 233.42-47.06-14.13 17.31-60.77 81.01-34.23 146.53 21.55z"></path><path style="stroke-width:1.07;stroke:#00b0f6;stroke-linecap:butt;fill:#00b0f6;fill-opacity:0.1" d="m68.59 218.15 47.16-40.94 81.07-28.15 6.05-.89L366 149.85z"></path><path style="stroke-width:1.07;stroke:#e76bf3;stroke-linecap:butt;fill:#e76bf3;fill-opacity:0.1" d="m203.33 130.38-47.89 11.92-43.42-9.96 23.2-63.77 38.67-25.11 44.91-12.42 145.08-10.89z"></path><path style="stroke-width:1.07;stroke:#e76bf3;stroke-linecap:butt;fill:#e76bf3;fill-opacity:0.1" d="m67.18 140.6 47.02-55.22 86.96-36.64 164.17-6.07z"></path></g><g clip-path="url(#cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA=)"><text x="45.47" y="248.76" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="15.75" lengthAdjust="spacingAndGlyphs">1us</text><text x="45.47" y="140.97" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="21.35" lengthAdjust="spacingAndGlyphs">10us</text><text x="45.47" y="33.19" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="26.94" lengthAdjust="spacingAndGlyphs">100us</text><text x="68.63" y="339.64" text-anchor="middle" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="20.02" lengthAdjust="spacingAndGlyphs">10 B</text><text x="154.4" y="339.64" text-anchor="middle" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="20.02" lengthAdjust="spacingAndGlyphs">30 B</text><text x="248.4" y="339.64" text-anchor="middle" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="25.61" lengthAdjust="spacingAndGlyphs">100 B</text><text x="334.18" y="339.64" text-anchor="middle" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="25.61" lengthAdjust="spacingAndGlyphs">300 B</text><text x="234.89" y="352.23" text-anchor="middle" style="font-size:11px;font-family:&amp;quot" textLength="22.59" lengthAdjust="spacingAndGlyphs">Size</text><text transform="rotate(-90 90.195 76.695)" text-anchor="middle" style="font-size:11px;font-family:&amp;quot" textLength="34.49" lengthAdjust="spacingAndGlyphs">Speed</text><text x="435.82" y="88.82" style="font-size:11px;font-family:&amp;quot" textLength="29.07" lengthAdjust="spacingAndGlyphs">Store</text><circle cx="444.46" cy="104.09" r="3.56" style="stroke-width:0.71;stroke:none;fill:#000"></circle><path style="stroke-width:0.71;stroke:none;fill:#000" d="m444.46 115.84 4.78 8.29h-9.57z"></path><text x="458.57" y="107.3" style="font-size:8.8px;font-family:&amp;quot" textLength="31.95" lengthAdjust="spacingAndGlyphs">feather</text><text x="458.57" y="124.58" style="font-size:8.8px;font-family:&amp;quot" textLength="34.47" lengthAdjust="spacingAndGlyphs">parquet</text><text x="435.82" y="161.09" style="font-size:11px;font-family:&amp;quot" textLength="57.1" lengthAdjust="spacingAndGlyphs">Zstd Level</text><circle cx="444.46" cy="176.36" r="3.56" style="stroke-width:0.71;stroke:#f8766d;fill:#f8766d"></circle><circle cx="444.46" cy="193.64" r="3.56" style="stroke-width:0.71;stroke:#a3a500;fill:#a3a500"></circle><circle cx="444.46" cy="210.92" r="3.56" style="stroke-width:0.71;stroke:#00bf7d;fill:#00bf7d"></circle><circle cx="444.46" cy="228.2" r="3.56" style="stroke-width:0.71;stroke:#00b0f6;fill:#00b0f6"></circle><circle cx="444.46" cy="245.48" r="3.56" style="stroke-width:0.71;stroke:#e76bf3;fill:#e76bf3"></circle><text x="458.57" y="179.56" style="font-size:8.8px;font-family:&amp;quot" textLength="12.6" lengthAdjust="spacingAndGlyphs">NA</text><text x="458.57" y="196.84" style="font-size:8.8px;font-family:&amp;quot" textLength="8.77" lengthAdjust="spacingAndGlyphs">-5</text><text x="458.57" y="214.12" style="font-size:8.8px;font-family:&amp;quot" textLength="5.59" lengthAdjust="spacingAndGlyphs">1</text><text x="458.57" y="231.4" style="font-size:8.8px;font-family:&amp;quot" textLength="5.59" lengthAdjust="spacingAndGlyphs">9</text><text x="458.57" y="248.68" style="font-size:8.8px;font-family:&amp;quot" textLength="11.19" lengthAdjust="spacingAndGlyphs">19</text></g></svg><p>Intuitively, the area of a given polygon captures its variance. A smaller area
is “good” in that it offers more predictable behavior. The high amount of
overlap makes it still difficult to perform clearer comparisons. If we facet by
store type, it becomes easier to compare the areas:</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Code</summary><div><div class="collapsibleContent_i85q"><figure data-rehype-pretty-code-figure=""><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span data-line=""><span style="color:#E6EDF3">cleaned </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  group_by</span><span style="color:#E6EDF3">(store_class, zstd.level) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#8B949E">  # Native convex hull does the job, no need to leverage ggforce.</span></span>
<span data-line=""><span style="color:#FFA657">  slice</span><span style="color:#E6EDF3">(</span><span style="color:#79C0FF">chull</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">x</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> bytes, </span><span style="color:#FFA657">y</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> duration)) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  ggplot</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">aes</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">x</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> bytes, </span><span style="color:#FFA657">y</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> duration,</span></span>
<span data-line=""><span style="color:#FFA657">             shape</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> store_class, </span><span style="color:#FFA657">color</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> store_class)) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    geom_point</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">size</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 3</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    geom_polygon</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">aes</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">color</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> store_class, </span><span style="color:#FFA657">fill</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> store_class),</span></span>
<span data-line=""><span style="color:#FFA657">                 alpha</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 0.3</span><span style="color:#E6EDF3">,</span></span>
<span data-line=""><span style="color:#FFA657">                 show.legend</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> FALSE</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    scale_x_log10</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">n.breaks</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 4</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">labels</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> scales</span><span style="color:#FF7B72">::</span><span style="color:#FFA657">label_bytes</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">units</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;auto_si&quot;</span><span style="color:#E6EDF3">)) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    scale_y_log10</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">labels</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> scales</span><span style="color:#FF7B72">::</span><span style="color:#FFA657">label_number</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">scale</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 1e6</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">suffix</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;us&quot;</span><span style="color:#E6EDF3">)) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    labs</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">x</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Size&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">y</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Speed&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">shape</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Store&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">color</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Store&quot;</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    facet_grid</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">cols</span><span style="color:#FF7B72"> =</span><span style="color:#FFA657"> vars</span><span style="color:#E6EDF3">(zstd.level)) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    theme_bw_trans</span><span style="color:#E6EDF3">()</span></span></code></pre><button type="button" data="cleaned |&gt;
  group_by(store_class, zstd.level) |&gt;
  # Native convex hull does the job, no need to leverage ggforce.
  slice(chull(x = bytes, y = duration)) |&gt;
  ggplot(aes(x = bytes, y = duration,
             shape = store_class, color = store_class)) +
    geom_point(size = 3) +
    geom_polygon(aes(color = store_class, fill = store_class),
                 alpha = 0.3,
                 show.legend = FALSE) +
    scale_x_log10(n.breaks = 4, labels = scales::label_bytes(units = &quot;auto_si&quot;)) +
    scale_y_log10(labels = scales::label_number(scale = 1e6, suffix = &quot;us&quot;)) +
    labs(x = &quot;Size&quot;, y = &quot;Speed&quot;, shape = &quot;Store&quot;, color = &quot;Store&quot;) +
    facet_grid(cols = vars(zstd.level)) +
    theme_bw_trans()" title="Copy code" aria-label="Copy code" class="rehype-pretty-copy" data-feedback-duration="3000" data-name="rehype-pretty-copy-button"><span class="ready"></span><span class="success"></span></button><style>
    :root {
      --copy-icon: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDM2IDM2Ij48cmVjdCB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjYmZjN2Q1IiBkPSJNMjkuNSA3aC0xOUExLjUgMS41IDAgMCAwIDkgOC41djI0YTEuNSAxLjUgMCAwIDAgMS41IDEuNWgxOWExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTI0QTEuNSAxLjUgMCAwIDAgMjkuNSA3TTI5IDMySDExVjloMThaIiBjbGFzcz0iY2xyLWktb3V0bGluZSBjbHItaS1vdXRsaW5lLXBhdGgtMSIvPjxwYXRoIGZpbGw9IiNiZmM3ZDUiIGQ9Ik0yNiAzLjVBMS41IDEuNSAwIDAgMCAyNC41IDJoLTE5QTEuNSAxLjUgMCAwIDAgNCAzLjV2MjRBMS41IDEuNSAwIDAgMCA1LjUgMjlINlY0aDIwWiIgY2xhc3M9ImNsci1pLW91dGxpbmUgY2xyLWktb3V0bGluZS1wYXRoLTIiLz48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDM2djM2SDB6Ii8+PC9zdmc+&quot;);
      --success-icon: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cmVjdCB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjMDBkNjAwIiBkPSJNMjEgN0w5IDE5bC01LjUtNS41bDEuNDEtMS40MUw5IDE2LjE3TDE5LjU5IDUuNTl6Ii8+PC9zdmc+&quot;);
    }

    pre:has(code) {
      position: relative;
    }

    button[data=&#x27;&lt;span&gt;&#x27;] {
      width: 0;
      height: 0;
      display: none;
      visibility: hidden;
    }

    pre button.rehype-pretty-copy {
      top: 1px;
      right: 1px;
      padding: 0;
      width: 24px;
      height: 24px;
      display: flex;
      cursor: pointer;
      margin-top: 8px;
      margin-right: 8px;
      position: absolute;
      border-radius: 25%;
      &amp; span {
        width: 100%;
        aspect-ratio: 1 / 1;
        background-repeat: no-repeat;
      }
      &amp; .ready {
        background-image: var(--copy-icon);
      }
      &amp; .success {
        display: none;
        background-image: var(--success-icon);
      }
    }

    &amp;.rehype-pretty-copied { 
      &amp; .success { 
        display: block;
      } &amp; .ready {
        display: none;
      }
    }

    pre button.rehype-pretty-copy.rehype-pretty-copied {
      opacity: 1;
      cursor: default;
      &amp; .ready { display: none; }
      &amp; .success { display: block; }
    }

      pre button.rehype-pretty-copy { opacity: 0; }
      button[data-name=&quot;rehype-pretty-copy-button&quot;]:hover {
        opacity: 1;
      }
    </style></code></pre></figure></div></div></details><svg xmlns="http://www.w3.org/2000/svg" class="svglite" width="672" height="480" viewBox="0 0 504 360"><defs><style>.svglite circle,.svglite polygon,.svglite polyline,.svglite rect{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.svglite text{white-space:pre}</style></defs><rect width="100%" height="100%" style="stroke:none;fill:none"></rect><defs><clipPath id="cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA="><path d="M0 0h504v360H0z"></path></clipPath></defs><g clip-path="url(#cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA=)"><path style="stroke-width:1.07;stroke:#fff" d="M0 0h504v360H0z"></path></g><defs><clipPath id="cpNTAuNDB8MTE5LjgxfDIyLjQ5fDMyOC4yOQ=="><path d="M50.4 22.49h69.41v305.8H50.4z"></path></clipPath></defs><g clip-path="url(#cpNTAuNDB8MTE5LjgxfDIyLjQ5fDMyOC4yOQ==)"><path style="stroke-width:1.07;stroke:none" d="M50.4 22.49h69.41v305.8H50.4z"></path><path style="stroke-width:0.53;stroke:#ebebeb;stroke-linecap:butt" d="M50.4 300.96h69.41M50.4 198.86h69.41M50.4 96.75h69.41M70.74 328.29V22.49M104.56 328.29V22.49"></path><path style="stroke-width:1.07;stroke:#ebebeb;stroke-linecap:butt" d="M50.4 249.91h69.41M50.4 147.81h69.41M50.4 45.7h69.41M53.83 328.29V22.49M87.65 328.29V22.49"></path><circle cx="96.31" cy="275.48" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><circle cx="92.47" cy="261.52" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><circle cx="99.02" cy="229.31" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><circle cx="108.18" cy="199.55" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><circle cx="116.66" cy="229.27" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><path style="stroke-width:0.71;stroke:none;fill:#00bfc4" d="m115.64 241.25 4.79 8.29h-9.58zM63.63 207.22l4.79 8.3h-9.58zM76.14 176.69l4.78 8.29h-9.57zM89.75 158.5l4.79 8.29h-9.58z"></path><path style="stroke-width:1.07;stroke:#f8766d;stroke-linecap:butt;fill:#f8766d;fill-opacity:0.3" d="m96.31 275.48-3.84-13.96 6.55-32.21 9.16-29.76 8.48 29.72z"></path><path style="stroke-width:1.07;stroke:#00bfc4;stroke-linecap:butt;fill:#00bfc4;fill-opacity:0.3" d="m115.64 246.78-52.01-34.03 12.51-30.53 13.61-18.19z"></path><path style="stroke-width:1.07;stroke:#333" d="M50.4 22.49h69.41v305.8H50.4z"></path></g><defs><clipPath id="cpMTI1LjI5fDE5NC43MXwyMi40OXwzMjguMjk="><path d="M125.29 22.49h69.41v305.8h-69.41z"></path></clipPath></defs><g clip-path="url(#cpMTI1LjI5fDE5NC43MXwyMi40OXwzMjguMjk=)"><path style="stroke-width:1.07;stroke:none" d="M125.29 22.49h69.41v305.8h-69.41z"></path><path style="stroke-width:0.53;stroke:#ebebeb;stroke-linecap:butt" d="M125.29 300.96h69.42M125.29 198.86h69.42M125.29 96.75h69.42M145.63 328.29V22.49M179.45 328.29V22.49"></path><path style="stroke-width:1.07;stroke:#ebebeb;stroke-linecap:butt" d="M125.29 249.91h69.42M125.29 147.81h69.42M125.29 45.7h69.42M128.72 328.29V22.49M162.54 328.29V22.49"></path><circle cx="186.21" cy="233.72" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><circle cx="144.81" cy="290.71" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><circle cx="149.61" cy="97.51" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><path style="stroke-width:0.71;stroke:none;fill:#00bfc4" d="m185.95 229.43 4.79 8.29h-9.58zM134.7 244.44l4.79 8.29h-9.58zM143.26 202.15l4.79 8.29h-9.57zM158.22 179.83l4.78 8.29h-9.57z"></path><path style="stroke-width:1.07;stroke:#f8766d;stroke-linecap:butt;fill:#f8766d;fill-opacity:0.3" d="m186.21 233.72-41.4 56.99 4.8-193.2z"></path><path style="stroke-width:1.07;stroke:#00bfc4;stroke-linecap:butt;fill:#00bfc4;fill-opacity:0.3" d="m185.95 234.95-51.25 15.01 8.56-42.28 14.96-22.32z"></path><path style="stroke-width:1.07;stroke:#333" d="M125.29 22.49h69.41v305.8h-69.41z"></path></g><defs><clipPath id="cpMjAwLjE4fDI2OS42MHwyMi40OXwzMjguMjk="><path d="M200.18 22.49h69.41v305.8h-69.41z"></path></clipPath></defs><g clip-path="url(#cpMjAwLjE4fDI2OS42MHwyMi40OXwzMjguMjk=)"><path style="stroke-width:1.07;stroke:none" d="M200.18 22.49h69.41v305.8h-69.41z"></path><path style="stroke-width:0.53;stroke:#ebebeb;stroke-linecap:butt" d="M200.18 300.96h69.42M200.18 198.86h69.42M200.18 96.75h69.42M220.52 328.29V22.49M254.34 328.29V22.49"></path><path style="stroke-width:1.07;stroke:#ebebeb;stroke-linecap:butt" d="M200.18 249.91h69.42M200.18 147.81h69.42M200.18 45.7h69.42M203.61 328.29V22.49M237.43 328.29V22.49"></path><circle cx="260.17" cy="219.85" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><circle cx="213.65" cy="314.39" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><circle cx="218.38" cy="150.42" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><path style="stroke-width:0.71;stroke:none;fill:#00bfc4" d="m259.96 213.44 4.79 8.29h-9.58zM203.77 250.09l4.79 8.3h-9.58zM213.53 201.66l4.78 8.3h-9.57zM228.86 181.94l4.79 8.29h-9.58z"></path><path style="stroke-width:1.07;stroke:#f8766d;stroke-linecap:butt;fill:#f8766d;fill-opacity:0.3" d="m260.17 219.85-46.52 94.54 4.73-163.97z"></path><path style="stroke-width:1.07;stroke:#00bfc4;stroke-linecap:butt;fill:#00bfc4;fill-opacity:0.3" d="m259.96 218.97-56.19 36.65 9.76-48.43 15.33-19.72z"></path><path style="stroke-width:1.07;stroke:#333" d="M200.18 22.49h69.41v305.8h-69.41z"></path></g><defs><clipPath id="cpMjc1LjA4fDM0NC40OXwyMi40OXwzMjguMjk="><path d="M275.08 22.49h69.41v305.8h-69.41z"></path></clipPath></defs><g clip-path="url(#cpMjc1LjA4fDM0NC40OXwyMi40OXwzMjguMjk=)"><path style="stroke-width:1.07;stroke:none" d="M275.08 22.49h69.41v305.8h-69.41z"></path><path style="stroke-width:0.53;stroke:#ebebeb;stroke-linecap:butt" d="M275.08 300.96h69.41M275.08 198.86h69.41M275.08 96.75h69.41M295.41 328.29V22.49M329.23 328.29V22.49"></path><path style="stroke-width:1.07;stroke:#ebebeb;stroke-linecap:butt" d="M275.08 249.91h69.41M275.08 147.81h69.41M275.08 45.7h69.41M278.5 328.29V22.49M312.32 328.29V22.49"></path><circle cx="297.12" cy="238.42" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><circle cx="288.26" cy="225.03" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><circle cx="291.52" cy="167.47" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><circle cx="306.76" cy="135.04" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><circle cx="334.32" cy="155.45" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><path style="stroke-width:0.71;stroke:none;fill:#00bfc4" d="m278.5 218.43 4.78 8.29h-9.57zM287.37 179.65l4.79 8.29h-9.58zM302.62 152.97l4.79 8.29h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#00bfc4" d="m303.76 152.13 4.78 8.3h-9.57zM334.44 153.73l4.79 8.29h-9.57z"></path><path style="stroke-width:1.07;stroke:#f8766d;stroke-linecap:butt;fill:#f8766d;fill-opacity:0.3" d="m297.12 238.42-8.86-13.39 3.26-57.56 15.24-32.43 27.56 20.41z"></path><path style="stroke-width:1.07;stroke:#00bfc4;stroke-linecap:butt;fill:#00bfc4;fill-opacity:0.3" d="m278.5 223.96 8.87-38.78 15.25-26.68 1.14-.84 30.68 1.6z"></path><path style="stroke-width:1.07;stroke:#333" d="M275.08 22.49h69.41v305.8h-69.41z"></path></g><defs><clipPath id="cpMzQ5Ljk3fDQxOS4zOHwyMi40OXwzMjguMjk="><path d="M349.97 22.49h69.41v305.8h-69.41z"></path></clipPath></defs><g clip-path="url(#cpMzQ5Ljk3fDQxOS4zOHwyMi40OXwzMjguMjk=)"><path style="stroke-width:1.07;stroke:none" d="M349.97 22.49h69.41v305.8h-69.41z"></path><path style="stroke-width:0.53;stroke:#ebebeb;stroke-linecap:butt" d="M349.97 300.96h69.41M349.97 198.86h69.41M349.97 96.75h69.41M370.3 328.29V22.49M404.12 328.29V22.49"></path><path style="stroke-width:1.07;stroke:#ebebeb;stroke-linecap:butt" d="M349.97 249.91h69.41M349.97 147.81h69.41M349.97 45.7h69.41M353.39 328.29V22.49M387.21 328.29V22.49"></path><circle cx="378.74" cy="140.81" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><circle cx="369.73" cy="152.1" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><circle cx="361.56" cy="142.66" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><circle cx="365.92" cy="82.25" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><circle cx="373.2" cy="58.47" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><circle cx="381.64" cy="46.7" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><circle cx="408.94" cy="36.39" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><path style="stroke-width:0.71;stroke:none;fill:#00bfc4" d="m353.12 144.97 4.79 8.29h-9.58zM361.97 92.65l4.79 8.29h-9.58zM378.33 57.95l4.78 8.29h-9.57zM409.21 52.19l4.79 8.29h-9.58z"></path><path style="stroke-width:1.07;stroke:#f8766d;stroke-linecap:butt;fill:#f8766d;fill-opacity:0.3" d="m378.74 140.81-9.01 11.29-8.17-9.44 4.36-60.41 7.28-23.78 8.44-11.77 27.3-10.31z"></path><path style="stroke-width:1.07;stroke:#00bfc4;stroke-linecap:butt;fill:#00bfc4;fill-opacity:0.3" d="m353.12 150.5 8.85-52.32 16.36-34.71 30.88-5.75z"></path><path style="stroke-width:1.07;stroke:#333" d="M349.97 22.49h69.41v305.8h-69.41z"></path></g><defs><clipPath id="cpNTAuNDB8MTE5LjgxfDUuNDh8MjIuNDk="><path d="M50.4 5.48h69.41v17.01H50.4z"></path></clipPath></defs><g clip-path="url(#cpNTAuNDB8MTE5LjgxfDUuNDh8MjIuNDk=)"><path style="stroke-width:1.07;stroke:#333;fill:#d9d9d9" d="M50.4 5.48h69.41v17.01H50.4z"></path><text x="85.11" y="17.19" text-anchor="middle" style="font-size:8.8px;fill:#1a1a1a;font-family:&amp;quot" textLength="12.6" lengthAdjust="spacingAndGlyphs">NA</text></g><defs><clipPath id="cpMTI1LjI5fDE5NC43MXw1LjQ4fDIyLjQ5"><path d="M125.29 5.48h69.41v17.01h-69.41z"></path></clipPath></defs><g clip-path="url(#cpMTI1LjI5fDE5NC43MXw1LjQ4fDIyLjQ5)"><path style="stroke-width:1.07;stroke:#333;fill:#d9d9d9" d="M125.29 5.48h69.41v17.01h-69.41z"></path><text x="160" y="17.19" text-anchor="middle" style="font-size:8.8px;fill:#1a1a1a;font-family:&amp;quot" textLength="8.77" lengthAdjust="spacingAndGlyphs">-5</text></g><defs><clipPath id="cpMjAwLjE4fDI2OS42MHw1LjQ4fDIyLjQ5"><path d="M200.18 5.48h69.41v17.01h-69.41z"></path></clipPath></defs><g clip-path="url(#cpMjAwLjE4fDI2OS42MHw1LjQ4fDIyLjQ5)"><path style="stroke-width:1.07;stroke:#333;fill:#d9d9d9" d="M200.18 5.48h69.41v17.01h-69.41z"></path><text x="234.89" y="17.19" text-anchor="middle" style="font-size:8.8px;fill:#1a1a1a;font-family:&amp;quot" textLength="5.59" lengthAdjust="spacingAndGlyphs">1</text></g><defs><clipPath id="cpMjc1LjA4fDM0NC40OXw1LjQ4fDIyLjQ5"><path d="M275.08 5.48h69.41v17.01h-69.41z"></path></clipPath></defs><g clip-path="url(#cpMjc1LjA4fDM0NC40OXw1LjQ4fDIyLjQ5)"><path style="stroke-width:1.07;stroke:#333;fill:#d9d9d9" d="M275.08 5.48h69.41v17.01h-69.41z"></path><text x="309.78" y="17.19" text-anchor="middle" style="font-size:8.8px;fill:#1a1a1a;font-family:&amp;quot" textLength="5.59" lengthAdjust="spacingAndGlyphs">9</text></g><defs><clipPath id="cpMzQ5Ljk3fDQxOS4zOHw1LjQ4fDIyLjQ5"><path d="M349.97 5.48h69.41v17.01h-69.41z"></path></clipPath></defs><g clip-path="url(#cpMzQ5Ljk3fDQxOS4zOHw1LjQ4fDIyLjQ5)"><path style="stroke-width:1.07;stroke:#333;fill:#d9d9d9" d="M349.97 5.48h69.41v17.01h-69.41z"></path><text x="384.67" y="17.19" text-anchor="middle" style="font-size:8.8px;fill:#1a1a1a;font-family:&amp;quot" textLength="11.19" lengthAdjust="spacingAndGlyphs">19</text></g><g clip-path="url(#cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA=)"><path style="stroke-width:1.07;stroke:#333;stroke-linecap:butt" d="M53.83 331.03v-2.74M87.65 331.03v-2.74"></path><text x="53.83" y="339.64" text-anchor="middle" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="20.02" lengthAdjust="spacingAndGlyphs">10 B</text><text x="87.65" y="339.64" text-anchor="middle" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="25.61" lengthAdjust="spacingAndGlyphs">100 B</text><path style="stroke-width:1.07;stroke:#333;stroke-linecap:butt" d="M128.72 331.03v-2.74M162.54 331.03v-2.74"></path><text x="128.72" y="339.64" text-anchor="middle" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="20.02" lengthAdjust="spacingAndGlyphs">10 B</text><text x="162.54" y="339.64" text-anchor="middle" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="25.61" lengthAdjust="spacingAndGlyphs">100 B</text><path style="stroke-width:1.07;stroke:#333;stroke-linecap:butt" d="M203.61 331.03v-2.74M237.43 331.03v-2.74"></path><text x="203.61" y="339.64" text-anchor="middle" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="20.02" lengthAdjust="spacingAndGlyphs">10 B</text><text x="237.43" y="339.64" text-anchor="middle" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="25.61" lengthAdjust="spacingAndGlyphs">100 B</text><path style="stroke-width:1.07;stroke:#333;stroke-linecap:butt" d="M278.5 331.03v-2.74M312.32 331.03v-2.74"></path><text x="278.5" y="339.64" text-anchor="middle" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="20.02" lengthAdjust="spacingAndGlyphs">10 B</text><text x="312.32" y="339.64" text-anchor="middle" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="25.61" lengthAdjust="spacingAndGlyphs">100 B</text><path style="stroke-width:1.07;stroke:#333;stroke-linecap:butt" d="M353.39 331.03v-2.74M387.21 331.03v-2.74"></path><text x="353.39" y="339.64" text-anchor="middle" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="20.02" lengthAdjust="spacingAndGlyphs">10 B</text><text x="387.21" y="339.64" text-anchor="middle" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="25.61" lengthAdjust="spacingAndGlyphs">100 B</text><text x="45.47" y="253.12" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="15.75" lengthAdjust="spacingAndGlyphs">1us</text><text x="45.47" y="151.01" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="21.35" lengthAdjust="spacingAndGlyphs">10us</text><text x="45.47" y="48.91" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="26.94" lengthAdjust="spacingAndGlyphs">100us</text><path style="stroke-width:1.07;stroke:#333;stroke-linecap:butt" d="M47.66 249.91h2.74M47.66 147.81h2.74M47.66 45.7h2.74"></path><text x="234.89" y="352.23" text-anchor="middle" style="font-size:11px;font-family:&amp;quot" textLength="22.59" lengthAdjust="spacingAndGlyphs">Size</text><text transform="rotate(-90 94.445 80.945)" text-anchor="middle" style="font-size:11px;font-family:&amp;quot" textLength="34.49" lengthAdjust="spacingAndGlyphs">Speed</text><path style="stroke-width:1.07;stroke:none" d="M430.34 144.74h68.18v61.31h-68.18z"></path><text x="435.82" y="159.38" style="font-size:11px;font-family:&amp;quot" textLength="29.07" lengthAdjust="spacingAndGlyphs">Store</text><path style="stroke-width:1.07;stroke:none" d="M435.82 166.01h17.28v17.28h-17.28z"></path><circle cx="444.46" cy="174.65" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><path style="stroke-width:1.07;stroke:none" d="M435.82 183.29h17.28v17.28h-17.28z"></path><path style="stroke-width:0.71;stroke:none;fill:#00bfc4" d="m444.46 186.4 4.78 8.29h-9.57z"></path><text x="458.57" y="177.86" style="font-size:8.8px;font-family:&amp;quot" textLength="31.95" lengthAdjust="spacingAndGlyphs">feather</text><text x="458.57" y="195.14" style="font-size:8.8px;font-family:&amp;quot" textLength="34.47" lengthAdjust="spacingAndGlyphs">parquet</text></g></svg><p>Arranging the facets above row-wise makes it easier to compare the y-axis, i.e.,
speed, where lower polygons are better. Arranging them column-wise makes it easier
to compare the x-axis, i.e., size, where the left-most polygons are better:</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Code</summary><div><div class="collapsibleContent_i85q"><figure data-rehype-pretty-code-figure=""><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span data-line=""><span style="color:#E6EDF3">cleaned </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  group_by</span><span style="color:#E6EDF3">(store_class, zstd.level) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  slice</span><span style="color:#E6EDF3">(</span><span style="color:#79C0FF">chull</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">x</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> bytes, </span><span style="color:#FFA657">y</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> duration)) </span><span style="color:#FF7B72">|&gt;</span></span>
<span data-line=""><span style="color:#FFA657">  ggplot</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">aes</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">x</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> bytes, </span><span style="color:#FFA657">y</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> duration,</span></span>
<span data-line=""><span style="color:#FFA657">             shape</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> zstd.level, </span><span style="color:#FFA657">color</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> zstd.level)) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    geom_point</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">size</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 3</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    geom_polygon</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">aes</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">color</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> zstd.level, </span><span style="color:#FFA657">fill</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> zstd.level),</span></span>
<span data-line=""><span style="color:#FFA657">                 alpha</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 0.3</span><span style="color:#E6EDF3">,</span></span>
<span data-line=""><span style="color:#FFA657">                 show.legend</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> FALSE</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    scale_x_log10</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">labels</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> scales</span><span style="color:#FF7B72">::</span><span style="color:#FFA657">label_bytes</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">units</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;auto_si&quot;</span><span style="color:#E6EDF3">)) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    scale_y_log10</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">labels</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> scales</span><span style="color:#FF7B72">::</span><span style="color:#FFA657">label_number</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">scale</span><span style="color:#FF7B72"> =</span><span style="color:#79C0FF"> 1e6</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">suffix</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;us&quot;</span><span style="color:#E6EDF3">)) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    labs</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">x</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Size&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">y</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Speed&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">shape</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Zstd Level&quot;</span><span style="color:#E6EDF3">, </span><span style="color:#FFA657">color</span><span style="color:#FF7B72"> =</span><span style="color:#A5D6FF"> &quot;Zstd Level&quot;</span><span style="color:#E6EDF3">) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    facet_grid</span><span style="color:#E6EDF3">(</span><span style="color:#FFA657">rows</span><span style="color:#FF7B72"> =</span><span style="color:#FFA657"> vars</span><span style="color:#E6EDF3">(store_class)) </span><span style="color:#FF7B72">+</span></span>
<span data-line=""><span style="color:#FFA657">    theme_bw_trans</span><span style="color:#E6EDF3">()</span></span></code></pre><button type="button" data="cleaned |&gt;
  group_by(store_class, zstd.level) |&gt;
  slice(chull(x = bytes, y = duration)) |&gt;
  ggplot(aes(x = bytes, y = duration,
             shape = zstd.level, color = zstd.level)) +
    geom_point(size = 3) +
    geom_polygon(aes(color = zstd.level, fill = zstd.level),
                 alpha = 0.3,
                 show.legend = FALSE) +
    scale_x_log10(labels = scales::label_bytes(units = &quot;auto_si&quot;)) +
    scale_y_log10(labels = scales::label_number(scale = 1e6, suffix = &quot;us&quot;)) +
    labs(x = &quot;Size&quot;, y = &quot;Speed&quot;, shape = &quot;Zstd Level&quot;, color = &quot;Zstd Level&quot;) +
    facet_grid(rows = vars(store_class)) +
    theme_bw_trans()" title="Copy code" aria-label="Copy code" class="rehype-pretty-copy" data-feedback-duration="3000" data-name="rehype-pretty-copy-button"><span class="ready"></span><span class="success"></span></button><style>
    :root {
      --copy-icon: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDM2IDM2Ij48cmVjdCB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjYmZjN2Q1IiBkPSJNMjkuNSA3aC0xOUExLjUgMS41IDAgMCAwIDkgOC41djI0YTEuNSAxLjUgMCAwIDAgMS41IDEuNWgxOWExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTI0QTEuNSAxLjUgMCAwIDAgMjkuNSA3TTI5IDMySDExVjloMThaIiBjbGFzcz0iY2xyLWktb3V0bGluZSBjbHItaS1vdXRsaW5lLXBhdGgtMSIvPjxwYXRoIGZpbGw9IiNiZmM3ZDUiIGQ9Ik0yNiAzLjVBMS41IDEuNSAwIDAgMCAyNC41IDJoLTE5QTEuNSAxLjUgMCAwIDAgNCAzLjV2MjRBMS41IDEuNSAwIDAgMCA1LjUgMjlINlY0aDIwWiIgY2xhc3M9ImNsci1pLW91dGxpbmUgY2xyLWktb3V0bGluZS1wYXRoLTIiLz48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDM2djM2SDB6Ii8+PC9zdmc+&quot;);
      --success-icon: url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cmVjdCB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiLz48cGF0aCBmaWxsPSIjMDBkNjAwIiBkPSJNMjEgN0w5IDE5bC01LjUtNS41bDEuNDEtMS40MUw5IDE2LjE3TDE5LjU5IDUuNTl6Ii8+PC9zdmc+&quot;);
    }

    pre:has(code) {
      position: relative;
    }

    button[data=&#x27;&lt;span&gt;&#x27;] {
      width: 0;
      height: 0;
      display: none;
      visibility: hidden;
    }

    pre button.rehype-pretty-copy {
      top: 1px;
      right: 1px;
      padding: 0;
      width: 24px;
      height: 24px;
      display: flex;
      cursor: pointer;
      margin-top: 8px;
      margin-right: 8px;
      position: absolute;
      border-radius: 25%;
      &amp; span {
        width: 100%;
        aspect-ratio: 1 / 1;
        background-repeat: no-repeat;
      }
      &amp; .ready {
        background-image: var(--copy-icon);
      }
      &amp; .success {
        display: none;
        background-image: var(--success-icon);
      }
    }

    &amp;.rehype-pretty-copied { 
      &amp; .success { 
        display: block;
      } &amp; .ready {
        display: none;
      }
    }

    pre button.rehype-pretty-copy.rehype-pretty-copied {
      opacity: 1;
      cursor: default;
      &amp; .ready { display: none; }
      &amp; .success { display: block; }
    }

      pre button.rehype-pretty-copy { opacity: 0; }
      button[data-name=&quot;rehype-pretty-copy-button&quot;]:hover {
        opacity: 1;
      }
    </style></code></pre></figure></div></div></details><svg xmlns="http://www.w3.org/2000/svg" class="svglite" width="672" height="480" viewBox="0 0 504 360"><defs><style>.svglite circle,.svglite line,.svglite polygon,.svglite polyline,.svglite rect{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.svglite text{white-space:pre}</style></defs><rect width="100%" height="100%" style="stroke:none;fill:none"></rect><defs><clipPath id="cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA="><path d="M0 0h504v360H0z"></path></clipPath></defs><g clip-path="url(#cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA=)"><path style="stroke-width:1.07;stroke:#fff" d="M0 0h504v360H0z"></path></g><defs><clipPath id="cpNTAuNDB8NDAyLjQ5fDUuNDh8MTY0LjE1"><path d="M50.4 5.48h352.08v158.67H50.4z"></path></clipPath></defs><g clip-path="url(#cpNTAuNDB8NDAyLjQ5fDUuNDh8MTY0LjE1)"><path style="stroke-width:1.07;stroke:none" d="M50.4 5.48h352.08v158.67H50.4z"></path><path style="stroke-width:0.53;stroke:#ebebeb;stroke-linecap:butt" d="M50.4 149.96h352.09M50.4 96.99h352.09M50.4 44.01h352.09M108.72 164.15V5.48M194.49 164.15V5.48M280.27 164.15V5.48M362.11 164.15V5.48"></path><path style="stroke-width:1.07;stroke:#ebebeb;stroke-linecap:butt" d="M50.4 123.48h352.09M50.4 70.5h352.09M50.4 17.52h352.09M67.8 164.15V5.48M149.64 164.15V5.48M239.34 164.15V5.48M321.19 164.15V5.48"></path><circle cx="283.26" cy="136.74" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><circle cx="263.77" cy="129.5" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><circle cx="296.99" cy="112.79" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><circle cx="343.49" cy="97.35" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><circle cx="386.48" cy="112.77" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><path style="stroke-width:0.71;stroke:none;fill:#a3a500" d="m359.42 109.55 4.78 8.29h-9.57zM149.41 139.12l4.79 8.29h-9.58zM173.73 38.87l4.79 8.3h-9.57z"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d" d="M351.12 111.44h7.12v-7.12h-7.12zM115.14 160.49h7.11v-7.11h-7.11zM139.12 75.41h7.12V68.3h-7.12z"></path><path style="stroke-width:0.71;stroke:#00b0f6" d="M157.17 117.52h10.06M162.2 122.55v-10.06M112.28 110.57h10.05M117.3 115.6v-10.06M128.8 80.7h10.05M133.82 85.73V75.67M206.09 63.88h10.06M211.12 68.9V58.85M345.92 74.47h10.05M350.94 79.49V69.44"></path><path style="stroke-width:0.71;stroke:#e76bf3" d="M192.78 63.32h7.11v7.11h-7.11zM192.78 70.43l7.11-7.11M192.78 63.32l7.11 7.11M147.08 69.17h7.11v7.11h-7.11zM147.08 76.28l7.11-7.11M147.08 69.17l7.11 7.11M105.65 64.28h7.11v7.11h-7.11zM105.65 71.39l7.11-7.11M105.65 64.28l7.11 7.11M127.78 32.93h7.11v7.11h-7.11zM127.78 40.04l7.11-7.11M127.78 32.93l7.11 7.11M164.68 20.59h7.11v7.11h-7.11zM164.68 27.7l7.11-7.11M164.68 20.59l7.11 7.11M207.53 14.49h7.11v7.11h-7.11zM207.53 21.6l7.11-7.11M207.53 14.49l7.11 7.11M345.98 9.14h7.11v7.11h-7.11zM345.98 16.25l7.11-7.11M345.98 9.14l7.11 7.11"></path><path style="stroke-width:1.07;stroke:#f8766d;stroke-linecap:butt;fill:#f8766d;fill-opacity:0.3" d="m283.26 136.74-19.49-7.24 33.22-16.71 46.5-15.44 42.99 15.42z"></path><path style="stroke-width:1.07;stroke:#a3a500;stroke-linecap:butt;fill:#a3a500;fill-opacity:0.3" d="m359.42 115.08-210.01 29.57L173.73 44.4z"></path><path style="stroke-width:1.07;stroke:#00bf7d;stroke-linecap:butt;fill:#00bf7d;fill-opacity:0.3" d="M354.68 107.88 118.7 156.94l23.98-85.08z"></path><path style="stroke-width:1.07;stroke:#00b0f6;stroke-linecap:butt;fill:#00b0f6;fill-opacity:0.3" d="m162.2 117.52-44.9-6.95 16.52-29.87 77.3-16.82 139.82 10.59z"></path><path style="stroke-width:1.07;stroke:#e76bf3;stroke-linecap:butt;fill:#e76bf3;fill-opacity:0.3" d="m196.33 66.87-45.7 5.86-41.43-4.9 22.14-31.34 36.9-12.34 42.85-6.11 138.44-5.35z"></path><path style="stroke-width:1.07;stroke:#333" d="M50.4 5.48h352.08v158.67H50.4z"></path></g><defs><clipPath id="cpNTAuNDB8NDAyLjQ5fDE2OS42M3wzMjguMjk="><path d="M50.4 169.63h352.08V328.3H50.4z"></path></clipPath></defs><g clip-path="url(#cpNTAuNDB8NDAyLjQ5fDE2OS42M3wzMjguMjk=)"><path style="stroke-width:1.07;stroke:none" d="M50.4 169.63h352.08V328.3H50.4z"></path><path style="stroke-width:0.53;stroke:#ebebeb;stroke-linecap:butt" d="M50.4 314.11h352.09M50.4 261.14h352.09M50.4 208.16h352.09M108.72 328.29V169.63M194.49 328.29V169.63M280.27 328.29V169.63M362.11 328.29V169.63"></path><path style="stroke-width:1.07;stroke:#ebebeb;stroke-linecap:butt" d="M50.4 287.62h352.09M50.4 234.65h352.09M50.4 181.67h352.09M67.8 328.29V169.63M149.64 328.29V169.63M239.34 328.29V169.63M321.19 328.29V169.63"></path><circle cx="381.3" cy="286" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><circle cx="117.48" cy="268.34" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><circle cx="180.93" cy="252.5" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><circle cx="249.98" cy="243.07" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><path style="stroke-width:0.71;stroke:none;fill:#a3a500" d="m358.06 274.34 4.79 8.29h-9.58zM98.12 282.12l4.79 8.3h-9.58zM141.56 260.18l4.79 8.3h-9.58zM217.4 248.6l4.79 8.3h-9.58z"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d" d="M350.05 275.13h7.11v-7.11h-7.11zM65.05 294.14h7.11v-7.11h-7.11zM114.52 269.02h7.11v-7.11h-7.11zM192.29 258.78h7.11v-7.11h-7.11z"></path><path style="stroke-width:0.71;stroke:#00b0f6" d="M62.73 274.16h10.05M67.75 279.19v-10.06M107.73 254.04h10.06M112.76 259.06v-10.05M185.09 240.2h10.05M190.11 245.22v-10.05M190.86 239.76h10.06M195.89 244.79v-10.06M346.52 240.59h10.06M351.55 245.62v-10.06"></path><path style="stroke-width:0.71;stroke:#e76bf3" d="M62.85 232.49h7.11v7.11h-7.11zM62.85 239.6l7.11-7.11M62.85 232.49l7.11 7.11M107.73 205.34h7.11v7.11h-7.11zM107.73 212.45l7.11-7.11M107.73 205.34l7.11 7.11M190.71 187.34h7.11v7.11h-7.11zM190.71 194.45l7.11-7.11M190.71 187.34l7.11 7.11M347.36 184.35h7.11v7.11h-7.11zM347.36 191.46l7.11-7.11M347.36 184.35l7.11 7.11"></path><path style="stroke-width:1.07;stroke:#f8766d;stroke-linecap:butt;fill:#f8766d;fill-opacity:0.3" d="m381.3 286-263.82-17.66 63.45-15.84 69.05-9.43z"></path><path style="stroke-width:1.07;stroke:#a3a500;stroke-linecap:butt;fill:#a3a500;fill-opacity:0.3" d="m358.06 279.86-259.94 7.79 43.44-21.94 75.84-11.58z"></path><path style="stroke-width:1.07;stroke:#00bf7d;stroke-linecap:butt;fill:#00bf7d;fill-opacity:0.3" d="m353.61 271.57-285 19.02 49.47-25.13 77.76-10.23z"></path><path style="stroke-width:1.07;stroke:#00b0f6;stroke-linecap:butt;fill:#00b0f6;fill-opacity:0.3" d="m67.75 274.16 45.01-20.12 77.35-13.84 5.78-.44 155.66.83z"></path><path style="stroke-width:1.07;stroke:#e76bf3;stroke-linecap:butt;fill:#e76bf3;fill-opacity:0.3" d="m66.41 236.04 44.87-27.14 82.98-18.01 156.65-2.99z"></path><path style="stroke-width:1.07;stroke:#333" d="M50.4 169.63h352.08V328.3H50.4z"></path></g><defs><clipPath id="cpNDAyLjQ5fDQxOS41MHw1LjQ4fDE2NC4xNQ=="><path d="M402.49 5.48h17.01v158.67h-17.01z"></path></clipPath></defs><g clip-path="url(#cpNDAyLjQ5fDQxOS41MHw1LjQ4fDE2NC4xNQ==)"><path style="stroke-width:1.07;stroke:#333;fill:#d9d9d9" d="M402.49 5.48h17.01v158.67h-17.01z"></path><text transform="rotate(90 161.49 246.3)" text-anchor="middle" style="font-size:8.8px;fill:#1a1a1a;font-family:&amp;quot" textLength="31.95" lengthAdjust="spacingAndGlyphs">feather</text></g><defs><clipPath id="cpNDAyLjQ5fDQxOS41MHwxNjkuNjN8MzI4LjI5"><path d="M402.49 169.63h17.01V328.3h-17.01z"></path></clipPath></defs><g clip-path="url(#cpNDAyLjQ5fDQxOS41MHwxNjkuNjN8MzI4LjI5)"><path style="stroke-width:1.07;stroke:#333;fill:#d9d9d9" d="M402.49 169.63h17.01V328.3h-17.01z"></path><text transform="rotate(90 79.415 328.375)" text-anchor="middle" style="font-size:8.8px;fill:#1a1a1a;font-family:&amp;quot" textLength="34.47" lengthAdjust="spacingAndGlyphs">parquet</text></g><g clip-path="url(#cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA=)"><path style="stroke-width:1.07;stroke:#333;stroke-linecap:butt" d="M67.8 331.03v-2.74M149.64 331.03v-2.74M239.34 331.03v-2.74M321.19 331.03v-2.74"></path><text x="67.8" y="339.64" text-anchor="middle" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="20.02" lengthAdjust="spacingAndGlyphs">10 B</text><text x="149.64" y="339.64" text-anchor="middle" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="20.02" lengthAdjust="spacingAndGlyphs">30 B</text><text x="239.34" y="339.64" text-anchor="middle" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="25.61" lengthAdjust="spacingAndGlyphs">100 B</text><text x="321.19" y="339.64" text-anchor="middle" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="25.61" lengthAdjust="spacingAndGlyphs">300 B</text><text x="45.47" y="126.68" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="15.75" lengthAdjust="spacingAndGlyphs">1us</text><text x="45.47" y="73.71" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="21.35" lengthAdjust="spacingAndGlyphs">10us</text><text x="45.47" y="20.73" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="26.94" lengthAdjust="spacingAndGlyphs">100us</text><path style="stroke-width:1.07;stroke:#333;stroke-linecap:butt" d="M47.66 123.48h2.74M47.66 70.5h2.74M47.66 17.52h2.74"></path><text x="45.47" y="290.83" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="15.75" lengthAdjust="spacingAndGlyphs">1us</text><text x="45.47" y="237.85" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="21.35" lengthAdjust="spacingAndGlyphs">10us</text><text x="45.47" y="184.88" text-anchor="end" style="font-size:8.8px;fill:#4d4d4d;font-family:&amp;quot" textLength="26.94" lengthAdjust="spacingAndGlyphs">100us</text><path style="stroke-width:1.07;stroke:#333;stroke-linecap:butt" d="M47.66 287.62h2.74M47.66 234.65h2.74M47.66 181.67h2.74"></path><text x="226.45" y="352.23" text-anchor="middle" style="font-size:11px;font-family:&amp;quot" textLength="22.59" lengthAdjust="spacingAndGlyphs">Size</text><text transform="rotate(-90 90.195 76.695)" text-anchor="middle" style="font-size:11px;font-family:&amp;quot" textLength="34.49" lengthAdjust="spacingAndGlyphs">Speed</text><path style="stroke-width:1.07;stroke:none" d="M430.46 110.31h68.06v113.15h-68.06z"></path><text x="435.94" y="124.96" style="font-size:11px;font-family:&amp;quot" textLength="57.1" lengthAdjust="spacingAndGlyphs">Zstd Level</text><path style="stroke-width:1.07;stroke:none" d="M435.94 131.58h17.28v17.28h-17.28z"></path><circle cx="444.58" cy="140.22" r="3.56" style="stroke-width:0.71;stroke:none;fill:#f8766d"></circle><path style="stroke-width:1.07;stroke:none" d="M435.94 148.86h17.28v17.28h-17.28z"></path><path style="stroke-width:0.71;stroke:none;fill:#a3a500" d="m444.58 151.97 4.79 8.3h-9.58z"></path><path style="stroke-width:1.07;stroke:none" d="M435.94 166.14h17.28v17.28h-17.28z"></path><path style="stroke-width:0.71;stroke:none;fill:#00bf7d" d="M441.02 178.34h7.11v-7.11h-7.11z"></path><path style="stroke-width:1.07;stroke:none" d="M435.94 183.42h17.28v17.28h-17.28z"></path><path style="stroke-width:0.71;stroke:#00b0f6" d="M439.55 192.06h10.06M444.58 197.09v-10.06"></path><path style="stroke-width:1.07;stroke:none" d="M435.94 200.7h17.28v17.28h-17.28z"></path><path style="stroke-width:0.71;stroke:#e76bf3" d="M441.02 205.79h7.11v7.11h-7.11zM441.02 212.9l7.11-7.11M441.02 205.79l7.11 7.11"></path><text x="458.7" y="143.43" style="font-size:8.8px;font-family:&amp;quot" textLength="12.6" lengthAdjust="spacingAndGlyphs">NA</text><text x="458.7" y="160.71" style="font-size:8.8px;font-family:&amp;quot" textLength="8.77" lengthAdjust="spacingAndGlyphs">-5</text><text x="458.7" y="177.99" style="font-size:8.8px;font-family:&amp;quot" textLength="5.59" lengthAdjust="spacingAndGlyphs">1</text><text x="458.7" y="195.27" style="font-size:8.8px;font-family:&amp;quot" textLength="5.59" lengthAdjust="spacingAndGlyphs">9</text><text x="458.7" y="212.55" style="font-size:8.8px;font-family:&amp;quot" textLength="11.19" lengthAdjust="spacingAndGlyphs">19</text></g></svg><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Analysis</div><div class="admonitionContent_S0QG"><p>Across both dimensions, <strong>Zstd level 1 shows the best average space-time
trade-off for both Parquet and Feather</strong>. In the above plots, we also observe our
findings from the speed analysis: Parquet still dominates when compression is
enabled.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2><p>In summary, we set out to better understand how Parquet and Feather behave on
the write path of VAST, when acquiring security telemetry from high-volume data
sources. Our findings show that columnar Zstd compression offers great space
savings for both Parquet and Feather. For certain schemas, Feather and Parquet
exhibit only a marginal differences. To our surprise, writing Parquet files is
still faster than Feather for our workloads.</p><p>The pressing next question is obviously: what about the read path, i.e., query
latency? This is a topic for future, stay tuned.</p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/archive/tags/benchmark">benchmark</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/archive/tags/arrow">arrow</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/archive/tags/parquet">parquet</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/archive/tags/feather">feather</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/archive/tags/quarto">quarto</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/archive/tags/r">r</a></li></ul></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/archive/parquet-and-feather-data-engineering-woes"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Parquet &amp; Feather: Data Engineering Woes</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/archive/parquet-and-feather-enabling-open-investigations"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Parquet &amp; Feather: Enabling Open Investigations</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#dataset" class="table-of-contents__link toc-highlight">Dataset</a><ul><li><a href="#measurement" class="table-of-contents__link toc-highlight">Measurement</a></li><li><a href="#schemas" class="table-of-contents__link toc-highlight">Schemas</a></li><li><a href="#batching" class="table-of-contents__link toc-highlight">Batching</a></li></ul></li><li><a href="#size" class="table-of-contents__link toc-highlight">Size</a></li><li><a href="#speed" class="table-of-contents__link toc-highlight">Speed</a></li><li><a href="#space-time-trade-off" class="table-of-contents__link toc-highlight">Space-Time Trade-off</a></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/api">API</a></li><li class="footer__item"><a class="footer__link-item" href="/changelog">Changelog</a></li><li class="footer__item"><a href="https://docs.google.com/presentation/d/1R59T2nuGJg43g6PVKogZbb6DjcJXRYBx3Bih8W-A-oM/present" target="_blank" rel="noopener noreferrer" class="footer__link-item">Release Slides<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/tenzir-vs-cribl">Tenzir vs. Cribl</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/discord">Discord</a></li><li class="footer__item"><a href="https://github.com/tenzir" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/tenzir_company" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/tenzir" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Tenzir</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://tenzir.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://tenzir.com/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/archive">Blog Archive</a></li><li class="footer__item"><a class="footer__link-item" href="/newsletter">Newsletter</a></li><li class="footer__item"><a class="footer__link-item" href="/privacy-statement">Privacy Statement</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Tenzir GmbH.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.1d9f27ee.js"></script>
<script src="/assets/js/main.050b0d29.js"></script>
</body>
</html>